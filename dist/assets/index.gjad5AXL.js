const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/storage-utils.BKCWZdBH.js","assets/animations.Nkyb1xQ3.js","assets/vendor.RGnvvjkK.js"])))=>i.map(i=>d[i]);
import{r as T,j as i,A as Ot,m as L,u as hw,a as tl,b as fw,c as Fg,d as wp,e as Yg,R as Na}from"./animations.Nkyb1xQ3.js";import{r as mw,a as Kg,b as ul,g as pw}from"./vendor.RGnvvjkK.js";function gw(r,a){for(var n=0;n<a.length;n++){const l=a[n];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in r)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();var Ed={exports:{}},Ii={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function xw(){return jp||(jp=1,(function(r){function a(U,re){var Q=U.length;U.push(re);e:for(;0<Q;){var J=Q-1>>>1,ie=U[J];if(0<c(ie,re))U[J]=re,U[Q]=ie,Q=J;else break e}}function n(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var re=U[0],Q=U.pop();if(Q!==re){U[0]=Q;e:for(var J=0,ie=U.length,ye=ie>>>1;J<ye;){var Ce=2*(J+1)-1,Re=U[Ce],Se=Ce+1,Je=U[Se];if(0>c(Re,Q))Se<ie&&0>c(Je,Re)?(U[J]=Je,U[Se]=Q,J=Se):(U[J]=Re,U[Ce]=Q,J=Ce);else if(Se<ie&&0>c(Je,Q))U[J]=Je,U[Se]=Q,J=Se;else break e}}return re}function c(U,re){var Q=U.sortIndex-re.sortIndex;return Q!==0?Q:U.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],g=[],x=1,w=null,v=3,b=!1,j=!1,N=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function H(U){for(var re=n(g);re!==null;){if(re.callback===null)l(g);else if(re.startTime<=U)l(g),re.sortIndex=re.expirationTime,a(p,re);else break;re=n(g)}}function K(U){if(N=!1,H(U),!j)if(n(p)!==null)j=!0,R||(R=!0,pe());else{var re=n(g);re!==null&&Z(K,re.startTime-U)}}var R=!1,te=-1,ge=5,me=-1;function ce(){return _?!0:!(r.unstable_now()-me<ge)}function we(){if(_=!1,R){var U=r.unstable_now();me=U;var re=!0;try{e:{j=!1,N&&(N=!1,A(te),te=-1),b=!0;var Q=v;try{t:{for(H(U),w=n(p);w!==null&&!(w.expirationTime>U&&ce());){var J=w.callback;if(typeof J=="function"){w.callback=null,v=w.priorityLevel;var ie=J(w.expirationTime<=U);if(U=r.unstable_now(),typeof ie=="function"){w.callback=ie,H(U),re=!0;break t}w===n(p)&&l(p),H(U)}else l(p);w=n(p)}if(w!==null)re=!0;else{var ye=n(g);ye!==null&&Z(K,ye.startTime-U),re=!1}}break e}finally{w=null,v=Q,b=!1}re=void 0}}finally{re?pe():R=!1}}}var pe;if(typeof C=="function")pe=function(){C(we)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ae=I.port2;I.port1.onmessage=we,pe=function(){ae.postMessage(null)}}else pe=function(){E(we,0)};function Z(U,re){te=E(function(){U(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(U){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var Q=v;v=re;try{return U()}finally{v=Q}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(U,re){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=v;v=U;try{return re()}finally{v=Q}},r.unstable_scheduleCallback=function(U,re,Q){var J=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,U){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,U={id:x++,callback:re,priorityLevel:U,startTime:Q,expirationTime:ie,sortIndex:-1},Q>J?(U.sortIndex=Q,a(g,U),n(p)===null&&U===n(g)&&(N?(A(te),te=-1):N=!0,Z(K,Q-J))):(U.sortIndex=ie,a(p,U),j||b||(j=!0,R||(R=!0,pe()))),U},r.unstable_shouldYield=ce,r.unstable_wrapCallback=function(U){var re=v;return function(){var Q=v;v=re;try{return U.apply(this,arguments)}finally{v=Q}}}})(Ad)),Ad}var _p;function bw(){return _p||(_p=1,Td.exports=xw()),Td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function vw(){if(Np)return Ii;Np=1;var r=bw(),a=mw(),n=Kg();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,o=t;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return f(h),e;if(m===o)return f(h),t;m=m.sibling}throw Error(l(188))}if(s.return!==o.return)s=h,o=m;else{for(var y=!1,S=h.child;S;){if(S===s){y=!0,s=h,o=m;break}if(S===o){y=!0,o=h,s=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===s){y=!0,s=m,o=h;break}if(S===o){y=!0,o=m,s=h;break}S=S.sibling}if(!y)throw Error(l(189))}}if(s.alternate!==o)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case _:return"Profiler";case N:return"StrictMode";case K:return"Suspense";case R:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case C:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var Z=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},J=[],ie=-1;function ye(e){return{current:e}}function Ce(e){0>ie||(e.current=J[ie],J[ie]=null,ie--)}function Re(e,t){ie++,J[ie]=e.current,e.current=t}var Se=ye(null),Je=ye(null),ht=ye(null),ne=ye(null);function je(e,t){switch(Re(ht,t),Re(Je,e),Re(Se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?X0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=X0(t),e=Q0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(Se),Re(Se,e)}function be(){Ce(Se),Ce(Je),Ce(ht)}function ve(e){e.memoizedState!==null&&Re(ne,e);var t=Se.current,s=Q0(t,e.type);t!==s&&(Re(Je,e),Re(Se,s))}function Le(e){Je.current===e&&(Ce(Se),Ce(Je)),ne.current===e&&(Ce(ne),$i._currentValue=Q)}var We=Object.prototype.hasOwnProperty,nt=r.unstable_scheduleCallback,lt=r.unstable_cancelCallback,Be=r.unstable_shouldYield,Oe=r.unstable_requestPaint,kt=r.unstable_now,Mr=r.unstable_getCurrentPriorityLevel,ea=r.unstable_ImmediatePriority,O=r.unstable_UserBlockingPriority,P=r.unstable_NormalPriority,X=r.unstable_LowPriority,he=r.unstable_IdlePriority,fe=r.log,ue=r.unstable_setDisableYieldValue,xe=null,G=null;function Ge(e){if(typeof fe=="function"&&ue(e),G&&typeof G.setStrictMode=="function")try{G.setStrictMode(xe,e)}catch{}}var st=Math.clz32?Math.clz32:Xn,Ja=Math.log,Ht=Math.LN2;function Xn(e){return e>>>=0,e===0?32:31-(Ja(e)/Ht|0)|0}var Pa=256,Va=4194304;function Ha(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wa(e,t,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~m,o!==0?h=Ha(o):(y&=S,y!==0?h=Ha(y):s||(s=S&~e,s!==0&&(h=Ha(s))))):(S=o&~m,S!==0?h=Ha(S):y!==0?h=Ha(y):s||(s=o&~e,s!==0&&(h=Ha(s)))),h===0?0:t!==0&&t!==h&&(t&m)===0&&(m=h&-h,s=t&-t,m>=s||m===32&&(s&4194048)!==0)?t:h}function Ta(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var e=Pa;return Pa<<=1,(Pa&4194048)===0&&(Pa=256),e}function bl(){var e=Va;return Va<<=1,(Va&62914560)===0&&(Va=4194304),e}function Jn(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vl(e,t,s,o,h,m){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,k=e.expirationTimes,V=e.hiddenUpdates;for(s=y&~s;0<s;){var W=31-st(s),se=1<<W;S[W]=0,k[W]=-1;var q=V[W];if(q!==null)for(V[W]=null,W=0;W<q.length;W++){var F=q[W];F!==null&&(F.lane&=-536870913)}s&=~se}o!==0&&gn(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(y&~t))}function gn(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-st(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function xn(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var o=31-st(s),h=1<<o;h&t|e[o]&t&&(e[o]|=t),s&=~h}}function Qs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function D(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:pp(e.type))}function z(e,t){var s=re.p;try{return re.p=e,t()}finally{re.p=s}}var Y=Math.random().toString(36).slice(2),le="__reactFiber$"+Y,de="__reactProps$"+Y,Ee="__reactContainer$"+Y,Ue="__reactEvents$"+Y,Te="__reactListeners$"+Y,$e="__reactHandles$"+Y,Pe="__reactResources$"+Y,Ae="__reactMarker$"+Y;function De(e){delete e[le],delete e[de],delete e[Ue],delete e[Te],delete e[$e]}function Ke(e){var t=e[le];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ee]||s[le]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ep(e);e!==null;){if(s=e[le])return s;e=ep(e)}return t}e=s,s=e.parentNode}return null}function ot(e){if(e=e[le]||e[Ee]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function yt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Et(e){var t=e[Pe];return t||(t=e[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Ae]=!0}var ft=new Set,Za={};function ga(e,t){ra(e,t),ra(e+"Capture",t)}function ra(e,t){for(Za[e]=t,e=0;e<t.length;e++)ft.add(t[e])}var Aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wn={},Lr={};function dr(e){return We.call(Lr,e)?!0:We.call(Wn,e)?!1:Aa.test(e)?Lr[e]=!0:(Wn[e]=!0,!1)}function hr(e,t,s){if(dr(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function fr(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Ye(e,t,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+o)}}var Mt,mr;function ia(e){if(Mt===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Mt=t&&t[1]||"",mr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+e+mr}var Nt=!1;function Ur(e,t){if(!e||Nt)return"";Nt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(F){var q=F}Reflect.construct(e,[],se)}else{try{se.call()}catch(F){q=F}e.call(se.prototype)}}else{try{throw Error()}catch(F){q=F}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var k=y.split(`
`),V=S.split(`
`);for(h=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(o===k.length||h===V.length)for(o=k.length-1,h=V.length-1;1<=o&&0<=h&&k[o]!==V[h];)h--;for(;1<=o&&0<=h;o--,h--)if(k[o]!==V[h]){if(o!==1||h!==1)do if(o--,h--,0>h||k[o]!==V[h]){var W=`
`+k[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=h);break}}}finally{Nt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ia(s):""}function yl(e){switch(e.tag){case 26:case 27:case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return Ur(e.type,!1);case 11:return Ur(e.type.render,!1);case 1:return Ur(e.type,!0);case 31:return ia("Activity");default:return""}}function wl(e){try{var t="";do t+=yl(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ka(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lv(e){var t=qh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,m=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,m.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=lv(e))}function Ih(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),o="";return e&&(o=qh(e)?e.checked?"true":"false":e.value),e=o,e!==s?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function Ca(e){return e.replace(ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _c(e,t,s,o,h,m,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ka(t)):e.value!==""+ka(t)&&(e.value=""+ka(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Nc(e,y,ka(t)):s!=null?Nc(e,y,ka(s)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+ka(S):e.removeAttribute("name")}function Gh(e,t,s,o,h,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||t!=null))return;s=s!=null?""+ka(s):"",t=t!=null?""+ka(t):s,S||t===e.value||(e.value=t),e.defaultValue=t}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Nc(e,t,s){t==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Zn(e,t,s,o){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ka(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Fh(e,t,s){if(t!=null&&(t=""+ka(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+ka(s):""}function Yh(e,t,s,o){if(t==null){if(o!=null){if(s!=null)throw Error(l(92));if(Z(o)){if(1<o.length)throw Error(l(93));o=o[0]}s=o}s==null&&(s=""),t=s}s=ka(t),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function es(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var cv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(e,t,s){var o=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,s):typeof s!="number"||s===0||cv.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Xh(e,t,s){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in t)o=t[h],t.hasOwnProperty(h)&&s[h]!==o&&Kh(e,h,o)}else for(var m in t)t.hasOwnProperty(m)&&Kh(e,m,t[m])}function Sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return dv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ec=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,as=null;function Qh(e){var t=ot(e);if(t&&(e=t.stateNode)){var s=e[de]||null;e:switch(e=t.stateNode,t.type){case"input":if(_c(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ca(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var o=s[t];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(l(90));_c(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(t=0;t<s.length;t++)o=s[t],o.form===e.form&&Ih(o)}break e;case"textarea":Fh(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Zn(e,!!s.multiple,t,!1)}}}var Ac=!1;function Jh(e,t,s){if(Ac)return e(t,s);Ac=!0;try{var o=e(t);return o}finally{if(Ac=!1,(ts!==null||as!==null)&&(co(),ts&&(t=ts,e=as,as=ts=null,Qh(t),e)))for(t=0;t<e.length;t++)Qh(e[t])}}function Ws(e,t){var s=e.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(pr)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{kc=!1}var Br=null,Cc=null,Sl=null;function Wh(){if(Sl)return Sl;var e,t=Cc,s=t.length,o,h="value"in Br?Br.value:Br.textContent,m=h.length;for(e=0;e<s&&t[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&t[s-o]===h[m-o];o++);return Sl=h.slice(e,1<o?1-o:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function Zh(){return!1}function la(e){function t(s,o,h,m,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Tl:Zh,this.isPropagationStopped=Zh,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=la(bn),ei=x({},bn,{view:0,detail:0}),hv=la(ei),Rc,Oc,ti,kl=x({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(Rc=e.screenX-ti.screenX,Oc=e.screenY-ti.screenY):Oc=Rc=0,ti=e),Rc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),ef=la(kl),fv=x({},kl,{dataTransfer:0}),mv=la(fv),pv=x({},ei,{relatedTarget:0}),Dc=la(pv),gv=x({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),xv=la(gv),bv=x({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vv=la(bv),yv=x({},bn,{data:0}),tf=la(yv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_v[e])?!!t[e]:!1}function Mc(){return Nv}var Sv=x({},ei,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ev=la(Sv),Tv=x({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=la(Tv),Av=x({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),kv=la(Av),Cv=x({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=la(Cv),Ov=x({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=la(Ov),Mv=x({},bn,{newState:0,oldState:0}),Lv=la(Mv),Uv=[9,13,27,32],Lc=pr&&"CompositionEvent"in window,ai=null;pr&&"documentMode"in document&&(ai=document.documentMode);var Bv=pr&&"TextEvent"in window&&!ai,rf=pr&&(!Lc||ai&&8<ai&&11>=ai),nf=" ",sf=!1;function lf(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function zv(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(sf=!0,nf);case"textInput":return e=t.data,e===nf&&sf?null:e;default:return null}}function $v(e,t){if(rs)return e==="compositionend"||!Lc&&lf(e,t)?(e=Wh(),Sl=Cc=Br=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function uf(e,t,s,o){ts?as?as.push(o):as=[o]:ts=o,t=go(t,"onChange"),0<t.length&&(s=new Al("onChange","change",null,s,o),e.push({event:s,listeners:t}))}var ri=null,ni=null;function Vv(e){I0(e,0)}function Cl(e){var t=yt(e);if(Ih(t))return e}function df(e,t){if(e==="change")return t}var hf=!1;if(pr){var Uc;if(pr){var Bc="oninput"in document;if(!Bc){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Bc=typeof ff.oninput=="function"}Uc=Bc}else Uc=!1;hf=Uc&&(!document.documentMode||9<document.documentMode)}function mf(){ri&&(ri.detachEvent("onpropertychange",pf),ni=ri=null)}function pf(e){if(e.propertyName==="value"&&Cl(ni)){var t=[];uf(t,ni,e,Tc(e)),Jh(Vv,t)}}function Hv(e,t,s){e==="focusin"?(mf(),ri=t,ni=s,ri.attachEvent("onpropertychange",pf)):e==="focusout"&&mf()}function qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(ni)}function Iv(e,t){if(e==="click")return Cl(t)}function Gv(e,t){if(e==="input"||e==="change")return Cl(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xa=typeof Object.is=="function"?Object.is:Fv;function si(e,t){if(xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!We.call(t,h)||!xa(e[h],t[h]))return!1}return!0}function gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var s=gf(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=t&&o>=t)return{node:s,offset:t-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gf(s)}}function bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_l(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=_l(e.document)}return t}function zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yv=pr&&"documentMode"in document&&11>=document.documentMode,ns=null,$c=null,ii=null,Pc=!1;function yf(e,t,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pc||ns==null||ns!==_l(o)||(o=ns,"selectionStart"in o&&zc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ii&&si(ii,o)||(ii=o,o=go($c,"onSelect"),0<o.length&&(t=new Al("onSelect","select",null,t,s),e.push({event:t,listeners:o}),t.target=ns)))}function vn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ss={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},Vc={},wf={};pr&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function yn(e){if(Vc[e])return Vc[e];if(!ss[e])return e;var t=ss[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in wf)return Vc[e]=t[s];return e}var jf=yn("animationend"),_f=yn("animationiteration"),Nf=yn("animationstart"),Kv=yn("transitionrun"),Xv=yn("transitionstart"),Qv=yn("transitioncancel"),Sf=yn("transitionend"),Ef=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function qa(e,t){Ef.set(e,t),ga(t,[e])}var Tf=new WeakMap;function Ra(e,t){if(typeof e=="object"&&e!==null){var s=Tf.get(e);return s!==void 0?s:(t={value:e,source:t,stack:wl(t)},Tf.set(e,t),t)}return{value:e,source:t,stack:wl(t)}}var Oa=[],is=0,qc=0;function Rl(){for(var e=is,t=qc=is=0;t<e;){var s=Oa[t];Oa[t++]=null;var o=Oa[t];Oa[t++]=null;var h=Oa[t];Oa[t++]=null;var m=Oa[t];if(Oa[t++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}m!==0&&Af(s,h,m)}}function Ol(e,t,s,o){Oa[is++]=e,Oa[is++]=t,Oa[is++]=s,Oa[is++]=o,qc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ic(e,t,s,o){return Ol(e,t,s,o),Dl(e)}function ls(e,t){return Ol(e,null,null,t),Dl(e)}function Af(e,t,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,m=e.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&t!==null&&(h=31-st(s),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[t]:o.push(t),t.lane=s|536870912),m):null}function Dl(e){if(50<Ri)throw Ri=0,Qu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var os={};function Jv(e,t,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(e,t,s,o){return new Jv(e,t,s,o)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gr(e,t){var s=e.alternate;return s===null?(s=ba(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function kf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ml(e,t,s,o,h,m){var y=0;if(o=e,typeof e=="function")Gc(e)&&(y=1);else if(typeof e=="string")y=Zy(e,s,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=ba(31,s,t,h),e.elementType=me,e.lanes=m,e;case j:return wn(s.children,h,m,t);case N:y=8,h|=24;break;case _:return e=ba(12,s,t,h|2),e.elementType=_,e.lanes=m,e;case K:return e=ba(13,s,t,h),e.elementType=K,e.lanes=m,e;case R:return e=ba(19,s,t,h),e.elementType=R,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case C:y=10;break e;case A:y=9;break e;case H:y=11;break e;case te:y=14;break e;case ge:y=16,o=null;break e}y=29,s=Error(l(130,e===null?"null":typeof e,"")),o=null}return t=ba(y,s,t,h),t.elementType=e,t.type=o,t.lanes=m,t}function wn(e,t,s,o){return e=ba(7,e,o,t),e.lanes=s,e}function Fc(e,t,s){return e=ba(6,e,null,t),e.lanes=s,e}function Yc(e,t,s){return t=ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cs=[],us=0,Ll=null,Ul=0,Da=[],Ma=0,jn=null,xr=1,br="";function _n(e,t){cs[us++]=Ul,cs[us++]=Ll,Ll=e,Ul=t}function Cf(e,t,s){Da[Ma++]=xr,Da[Ma++]=br,Da[Ma++]=jn,jn=e;var o=xr;e=br;var h=32-st(o)-1;o&=~(1<<h),s+=1;var m=32-st(t)+h;if(30<m){var y=h-h%5;m=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xr=1<<32-st(t)+h|s<<h|o,br=m+e}else xr=1<<m|s<<h|o,br=e}function Kc(e){e.return!==null&&(_n(e,1),Cf(e,1,0))}function Xc(e){for(;e===Ll;)Ll=cs[--us],cs[us]=null,Ul=cs[--us],cs[us]=null;for(;e===jn;)jn=Da[--Ma],Da[Ma]=null,br=Da[--Ma],Da[Ma]=null,xr=Da[--Ma],Da[Ma]=null}var na=null,Tt=null,ct=!1,Nn=null,er=!1,Qc=Error(l(519));function Sn(e){var t=Error(l(418,""));throw ci(Ra(t,e)),Qc}function Rf(e){var t=e.stateNode,s=e.type,o=e.memoizedProps;switch(t[le]=e,t[de]=o,s){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(s=0;s<Di.length;s++)et(Di[s],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),Gh(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),jl(t);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),Yh(t,o.value,o.defaultValue,o.children),jl(t)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||o.suppressHydrationWarning===!0||K0(t.textContent,s)?(o.popover!=null&&(et("beforetoggle",t),et("toggle",t)),o.onScroll!=null&&et("scroll",t),o.onScrollEnd!=null&&et("scrollend",t),o.onClick!=null&&(t.onclick=xo),t=!0):t=!1,t||Sn(e)}function Of(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:na=na.return}}function li(e){if(e!==na)return!1;if(!ct)return Of(e),ct=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&Tt&&Sn(e),Of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){Tt=Ga(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,Zr(e.type)?(e=gd,gd=null,Tt=e):Tt=t):Tt=na?Ga(e.stateNode.nextSibling):null;return!0}function oi(){Tt=na=null,ct=!1}function Df(){var e=Nn;return e!==null&&(ua===null?ua=e:ua.push.apply(ua,e),Nn=null),e}function ci(e){Nn===null?Nn=[e]:Nn.push(e)}var Jc=ye(null),En=null,vr=null;function zr(e,t,s){Re(Jc,t._currentValue),t._currentValue=s}function yr(e){e._currentValue=Jc.current,Ce(Jc)}function Wc(e,t,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===s)break;e=e.return}}function Zc(e,t,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var y=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var k=0;k<t.length;k++)if(S.context===t[k]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),Wc(m.return,s,e),o||(y=null);break e}m=S.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(l(341));y.lanes|=s,m=y.alternate,m!==null&&(m.lanes|=s),Wc(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ui(e,t,s,o){e=null;for(var h=t,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=h.type;xa(h.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(h===ne.current){if(y=h.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}h=h.return}e!==null&&Zc(t,e,s,o),t.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!xa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tn(e){En=e,vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ta(e){return Mf(En,e)}function zl(e,t){return En===null&&Tn(e),Mf(e,t)}function Mf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},vr===null){if(e===null)throw Error(l(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return s}var Wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Zv=r.unstable_scheduleCallback,ey=r.unstable_NormalPriority,qt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eu(){return{controller:new Wv,data:new Map,refCount:0}}function di(e){e.refCount--,e.refCount===0&&Zv(ey,function(){e.controller.abort()})}var hi=null,tu=0,ds=0,hs=null;function ty(e,t){if(hi===null){var s=hi=[];tu=0,ds=rd(),hs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tu++,t.then(Lf,Lf),t}function Lf(){if(--tu===0&&hi!==null){hs!==null&&(hs.status="fulfilled");var e=hi;hi=null,ds=0,hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ay(e,t){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var h=0;h<s.length;h++)(0,s[h])(t)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Uf=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ty(e,t),Uf!==null&&Uf(e,t)};var An=ye(null);function au(){var e=An.current;return e!==null?e:bt.pooledCache}function $l(e,t){t===null?Re(An,An.current):Re(An,t.pool)}function Bf(){var e=au();return e===null?null:{parent:qt._currentValue,pool:e}}var fi=Error(l(460)),zf=Error(l(474)),Pl=Error(l(542)),ru={then:function(){}};function $f(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vl(){}function Pf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Vl,Vl),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e;default:if(typeof t.status=="string")t.then(Vl,Vl);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var h=t;h.status="fulfilled",h.value=o}},function(o){if(t.status==="pending"){var h=t;h.status="rejected",h.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hf(e),e}throw mi=t,fi}}var mi=null;function Vf(){if(mi===null)throw Error(l(459));var e=mi;return mi=null,e}function Hf(e){if(e===fi||e===Pl)throw Error(l(483))}var $r=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ut&2)!==0){var h=o.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),o.pending=t,t=Dl(e),Af(e,null,s),t}return Ol(e,o,t,s),Dl(e)}function pi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,xn(e,s)}}function iu(e,t){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=y:m=m.next=y,s=s.next}while(s!==null);m===null?h=m=t:m=m.next=t}else h=m=t;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var lu=!1;function gi(){if(lu){var e=hs;if(e!==null)throw e}}function xi(e,t,s,o){lu=!1;var h=e.updateQueue;$r=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,V=k.next;k.next=null,y===null?m=V:y.next=V,y=k;var W=e.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==y&&(S===null?W.firstBaseUpdate=V:S.next=V,W.lastBaseUpdate=k))}if(m!==null){var se=h.baseState;y=0,W=V=k=null,S=m;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(at&q)===q:(o&q)===q){q!==0&&q===ds&&(lu=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=e,Ve=S;q=t;var gt=s;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){se=Ie.call(gt,se,q);break e}se=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,q=typeof Ie=="function"?Ie.call(gt,se,q):Ie,q==null)break e;se=x({},se,q);break e;case 2:$r=!0}}q=S.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(V=W=F,k=se):W=W.next=F,y|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);W===null&&(k=se),h.baseState=k,h.firstBaseUpdate=V,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),Xr|=y,e.lanes=y,e.memoizedState=se}}function qf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function If(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qf(s[e],t)}var fs=ye(null),Hl=ye(0);function Gf(e,t){e=Tr,Re(Hl,e),Re(fs,t),Tr=e|t.baseLanes}function ou(){Re(Hl,Tr),Re(fs,fs.current)}function cu(){Tr=Hl.current,Ce(fs),Ce(Hl)}var Hr=0,Xe=null,mt=null,Lt=null,ql=!1,ms=!1,kn=!1,Il=0,bi=0,ps=null,ry=0;function Ct(){throw Error(l(321))}function uu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!xa(e[s],t[s]))return!1;return!0}function du(e,t,s,o,h,m){return Hr=m,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Am:km,kn=!1,m=s(o,h),kn=!1,ms&&(m=Yf(t,s,o,h)),Ff(e),m}function Ff(e){U.H=Ql;var t=mt!==null&&mt.next!==null;if(Hr=0,Lt=mt=Xe=null,ql=!1,bi=0,ps=null,t)throw Error(l(300));e===null||Gt||(e=e.dependencies,e!==null&&Bl(e)&&(Gt=!0))}function Yf(e,t,s,o){Xe=e;var h=0;do{if(ms&&(ps=null),bi=0,ms=!1,25<=h)throw Error(l(301));if(h+=1,Lt=mt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=uy,m=t(s,o)}while(ms);return m}function ny(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?vi(t):t,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(Xe.flags|=1024),t}function hu(){var e=Il!==0;return Il=0,e}function fu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function mu(e){if(ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ql=!1}Hr=0,Lt=mt=Xe=null,ms=!1,bi=Il=0,ps=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Xe.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Ut(){if(mt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Lt===null?Xe.memoizedState:Lt.next;if(t!==null)Lt=t,mt=e;else{if(e===null)throw Xe.alternate===null?Error(l(467)):Error(l(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Lt===null?Xe.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vi(e){var t=bi;return bi+=1,ps===null&&(ps=[]),e=Pf(ps,e,t),t=Xe,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Am:km),e}function Gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vi(e);if(e.$$typeof===C)return ta(e)}throw Error(l(438,String(e)))}function gu(e){var t=null,s=Xe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var o=Xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(h){return h.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=pu(),Xe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),o=0;o<e;o++)s[o]=ce;return t.index++,s}function wr(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Ut();return xu(t,mt,e)}function xu(e,t,s){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=s;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}t.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{t=h.next;var S=y=null,k=null,V=t,W=!1;do{var se=V.lane&-536870913;if(se!==V.lane?(at&se)===se:(Hr&se)===se){var q=V.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),se===ds&&(W=!0);else if((Hr&q)===q){V=V.next,q===ds&&(W=!0);continue}else se={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(S=k=se,y=m):k=k.next=se,Xe.lanes|=q,Xr|=q;se=V.action,kn&&s(m,se),m=V.hasEagerState?V.eagerState:s(m,se)}else q={lane:se,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},k===null?(S=k=q,y=m):k=k.next=q,Xe.lanes|=se,Xr|=se;V=V.next}while(V!==null&&V!==t);if(k===null?y=m:k.next=S,!xa(m,e.memoizedState)&&(Gt=!0,W&&(s=hs,s!==null)))throw s;e.memoizedState=m,e.baseState=y,e.baseQueue=k,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bu(e){var t=Ut(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,m=t.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do m=e(m,y.action),y=y.next;while(y!==h);xa(m,t.memoizedState)||(Gt=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),s.lastRenderedState=m}return[m,o]}function Kf(e,t,s){var o=Xe,h=Ut(),m=ct;if(m){if(s===void 0)throw Error(l(407));s=s()}else s=t();var y=!xa((mt||h).memoizedState,s);y&&(h.memoizedState=s,Gt=!0),h=h.queue;var S=Jf.bind(null,o,h,e);if(yi(2048,8,S,[e]),h.getSnapshot!==t||y||Lt!==null&&Lt.memoizedState.tag&1){if(o.flags|=2048,gs(9,Yl(),Qf.bind(null,o,h,s,t),null),bt===null)throw Error(l(349));m||(Hr&124)!==0||Xf(o,t,s)}return s}function Xf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Xe.updateQueue,t===null?(t=pu(),Xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Qf(e,t,s,o){t.value=s,t.getSnapshot=o,Wf(t)&&Zf(e)}function Jf(e,t,s){return s(function(){Wf(t)&&Zf(e)})}function Wf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!xa(e,s)}catch{return!0}}function Zf(e){var t=ls(e,2);t!==null&&_a(t,e,2)}function vu(e){var t=oa();if(typeof e=="function"){var s=e;if(e=s(),kn){Ge(!0);try{s()}finally{Ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},t}function em(e,t,s,o){return e.baseState=s,xu(e,mt,typeof o=="function"?o:wr)}function sy(e,t,s,o,h){if(Xl(e))throw Error(l(485));if(e=t.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};U.T!==null?s(!0):m.isTransition=!1,o(m),s=t.pending,s===null?(m.next=t.pending=m,tm(t,m)):(m.next=s.next,t.pending=s.next=m)}}function tm(e,t){var s=t.action,o=t.payload,h=e.state;if(t.isTransition){var m=U.T,y={};U.T=y;try{var S=s(h,o),k=U.S;k!==null&&k(y,S),am(e,t,S)}catch(V){yu(e,t,V)}finally{U.T=m}}else try{m=s(h,o),am(e,t,m)}catch(V){yu(e,t,V)}}function am(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rm(e,t,o)},function(o){return yu(e,t,o)}):rm(e,t,s)}function rm(e,t,s){t.status="fulfilled",t.value=s,nm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,tm(e,s)))}function yu(e,t,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=s,nm(t),t=t.next;while(t!==o)}e.action=null}function nm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sm(e,t){return t}function im(e,t){if(ct){var s=bt.formState;if(s!==null){e:{var o=Xe;if(ct){if(Tt){t:{for(var h=Tt,m=er;h.nodeType!==8;){if(!m){h=null;break t}if(h=Ga(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Tt=Ga(h.nextSibling),o=h.data==="F!";break e}}Sn(o)}o=!1}o&&(t=s[0])}}return s=oa(),s.memoizedState=s.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:t},s.queue=o,s=Sm.bind(null,Xe,o),o.dispatch=s,o=vu(!1),m=Su.bind(null,Xe,!1,o.queue),o=oa(),h={state:t,dispatch:null,action:e,pending:null},o.queue=h,s=sy.bind(null,Xe,h,m,s),h.dispatch=s,o.memoizedState=e,[t,s,!1]}function lm(e){var t=Ut();return om(t,mt,e)}function om(e,t,s){if(t=xu(e,t,sm)[0],e=Fl(wr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=vi(t)}catch(y){throw y===fi?Pl:y}else o=t;t=Ut();var h=t.queue,m=h.dispatch;return s!==t.memoizedState&&(Xe.flags|=2048,gs(9,Yl(),iy.bind(null,h,s),null)),[o,m,e]}function iy(e,t){e.action=t}function cm(e){var t=Ut(),s=mt;if(s!==null)return om(t,s,e);Ut(),t=t.memoizedState,s=Ut();var o=s.queue.dispatch;return s.memoizedState=e,[t,o,!1]}function gs(e,t,s,o){return e={tag:e,create:s,deps:o,inst:t,next:null},t=Xe.updateQueue,t===null&&(t=pu(),Xe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,t.lastEffect=e),e}function Yl(){return{destroy:void 0,resource:void 0}}function um(){return Ut().memoizedState}function Kl(e,t,s,o){var h=oa();o=o===void 0?null:o,Xe.flags|=e,h.memoizedState=gs(1|t,Yl(),s,o)}function yi(e,t,s,o){var h=Ut();o=o===void 0?null:o;var m=h.memoizedState.inst;mt!==null&&o!==null&&uu(o,mt.memoizedState.deps)?h.memoizedState=gs(t,m,s,o):(Xe.flags|=e,h.memoizedState=gs(1|t,m,s,o))}function dm(e,t){Kl(8390656,8,e,t)}function hm(e,t){yi(2048,8,e,t)}function fm(e,t){return yi(4,2,e,t)}function mm(e,t){return yi(4,4,e,t)}function pm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,s){s=s!=null?s.concat([e]):null,yi(4,4,pm.bind(null,t,e),s)}function wu(){}function xm(e,t){var s=Ut();t=t===void 0?null:t;var o=s.memoizedState;return t!==null&&uu(t,o[1])?o[0]:(s.memoizedState=[e,t],e)}function bm(e,t){var s=Ut();t=t===void 0?null:t;var o=s.memoizedState;if(t!==null&&uu(t,o[1]))return o[0];if(o=e(),kn){Ge(!0);try{e()}finally{Ge(!1)}}return s.memoizedState=[o,t],o}function ju(e,t,s){return s===void 0||(Hr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=s,e=w0(),Xe.lanes|=e,Xr|=e,s)}function vm(e,t,s,o){return xa(s,t)?s:fs.current!==null?(e=ju(e,s,o),xa(e,t)||(Gt=!0),e):(Hr&42)===0?(Gt=!0,e.memoizedState=s):(e=w0(),Xe.lanes|=e,Xr|=e,t)}function ym(e,t,s,o,h){var m=re.p;re.p=m!==0&&8>m?m:8;var y=U.T,S={};U.T=S,Su(e,!1,t,s);try{var k=h(),V=U.S;if(V!==null&&V(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=ay(k,o);wi(e,t,W,ja(e))}else wi(e,t,o,ja(e))}catch(se){wi(e,t,{then:function(){},status:"rejected",reason:se},ja())}finally{re.p=m,U.T=y}}function ly(){}function _u(e,t,s,o){if(e.tag!==5)throw Error(l(476));var h=wm(e).queue;ym(e,h,t,Q,s===null?ly:function(){return jm(e),s(o)})}function wm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:Q},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jm(e){var t=wm(e).next.queue;wi(e,t,{},ja())}function Nu(){return ta($i)}function _m(){return Ut().memoizedState}function Nm(){return Ut().memoizedState}function oy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=ja();e=Pr(s);var o=Vr(t,e,s);o!==null&&(_a(o,t,s),pi(o,t,s)),t={cache:eu()},e.payload=t;return}t=t.return}}function cy(e,t,s){var o=ja();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Xl(e)?Em(t,s):(s=Ic(e,t,s,o),s!==null&&(_a(s,e,o),Tm(s,t,o)))}function Sm(e,t,s){var o=ja();wi(e,t,s,o)}function wi(e,t,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xl(e))Em(t,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var y=t.lastRenderedState,S=m(y,s);if(h.hasEagerState=!0,h.eagerState=S,xa(S,y))return Ol(e,t,h,0),bt===null&&Rl(),!1}catch{}finally{}if(s=Ic(e,t,h,o),s!==null)return _a(s,e,o),Tm(s,t,o),!0}return!1}function Su(e,t,s,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},Xl(e)){if(t)throw Error(l(479))}else t=Ic(e,s,o,2),t!==null&&_a(t,e,2)}function Xl(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function Em(e,t){ms=ql=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Tm(e,t,s){if((s&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,xn(e,s)}}var Ql={readContext:ta,use:Gl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Am={readContext:ta,use:Gl,useCallback:function(e,t){return oa().memoizedState=[e,t===void 0?null:t],e},useContext:ta,useEffect:dm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Kl(4194308,4,pm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){Kl(4,2,e,t)},useMemo:function(e,t){var s=oa();t=t===void 0?null:t;var o=e();if(kn){Ge(!0);try{e()}finally{Ge(!1)}}return s.memoizedState=[o,t],o},useReducer:function(e,t,s){var o=oa();if(s!==void 0){var h=s(t);if(kn){Ge(!0);try{s(t)}finally{Ge(!1)}}}else h=t;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=cy.bind(null,Xe,e),[o.memoizedState,e]},useRef:function(e){var t=oa();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,s=Sm.bind(null,Xe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:wu,useDeferredValue:function(e,t){var s=oa();return ju(s,e,t)},useTransition:function(){var e=vu(!1);return e=ym.bind(null,Xe,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var o=Xe,h=oa();if(ct){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),bt===null)throw Error(l(349));(at&124)!==0||Xf(o,t,s)}h.memoizedState=s;var m={value:s,getSnapshot:t};return h.queue=m,dm(Jf.bind(null,o,m,e),[e]),o.flags|=2048,gs(9,Yl(),Qf.bind(null,o,m,s,t),null),s},useId:function(){var e=oa(),t=bt.identifierPrefix;if(ct){var s=br,o=xr;s=(o&~(1<<32-st(o)-1)).toString(32)+s,t=""+t+"R"+s,s=Il++,0<s&&(t+="H"+s.toString(32)),t+=""}else s=ry++,t=""+t+"r"+s.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Nu,useFormState:im,useActionState:im,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Su.bind(null,Xe,!0,s),s.dispatch=t,[e,t]},useMemoCache:gu,useCacheRefresh:function(){return oa().memoizedState=oy.bind(null,Xe)}},km={readContext:ta,use:Gl,useCallback:xm,useContext:ta,useEffect:hm,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:bm,useReducer:Fl,useRef:um,useState:function(){return Fl(wr)},useDebugValue:wu,useDeferredValue:function(e,t){var s=Ut();return vm(s,mt.memoizedState,e,t)},useTransition:function(){var e=Fl(wr)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:vi(e),t]},useSyncExternalStore:Kf,useId:_m,useHostTransitionStatus:Nu,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var s=Ut();return em(s,mt,e,t)},useMemoCache:gu,useCacheRefresh:Nm},uy={readContext:ta,use:Gl,useCallback:xm,useContext:ta,useEffect:hm,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:bm,useReducer:bu,useRef:um,useState:function(){return bu(wr)},useDebugValue:wu,useDeferredValue:function(e,t){var s=Ut();return mt===null?ju(s,e,t):vm(s,mt.memoizedState,e,t)},useTransition:function(){var e=bu(wr)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:vi(e),t]},useSyncExternalStore:Kf,useId:_m,useHostTransitionStatus:Nu,useFormState:cm,useActionState:cm,useOptimistic:function(e,t){var s=Ut();return mt!==null?em(s,mt,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Nm},xs=null,ji=0;function Jl(e){var t=ji;return ji+=1,xs===null&&(xs=[]),Pf(xs,e,t)}function _i(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wl(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cm(e){var t=e._init;return t(e._payload)}function Rm(e){function t(B,M){if(e){var $=B.deletions;$===null?(B.deletions=[M],B.flags|=16):$.push(M)}}function s(B,M){if(!e)return null;for(;M!==null;)t(B,M),M=M.sibling;return null}function o(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function h(B,M){return B=gr(B,M),B.index=0,B.sibling=null,B}function m(B,M,$){return B.index=$,e?($=B.alternate,$!==null?($=$.index,$<M?(B.flags|=67108866,M):$):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function y(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,M,$,ee){return M===null||M.tag!==6?(M=Fc($,B.mode,ee),M.return=B,M):(M=h(M,$),M.return=B,M)}function k(B,M,$,ee){var Ne=$.type;return Ne===j?W(B,M,$.props.children,ee,$.key):M!==null&&(M.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ge&&Cm(Ne)===M.type)?(M=h(M,$.props),_i(M,$),M.return=B,M):(M=Ml($.type,$.key,$.props,null,B.mode,ee),_i(M,$),M.return=B,M)}function V(B,M,$,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=Yc($,B.mode,ee),M.return=B,M):(M=h(M,$.children||[]),M.return=B,M)}function W(B,M,$,ee,Ne){return M===null||M.tag!==7?(M=wn($,B.mode,ee,Ne),M.return=B,M):(M=h(M,$),M.return=B,M)}function se(B,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Fc(""+M,B.mode,$),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return $=Ml(M.type,M.key,M.props,null,B.mode,$),_i($,M),$.return=B,$;case b:return M=Yc(M,B.mode,$),M.return=B,M;case ge:var ee=M._init;return M=ee(M._payload),se(B,M,$)}if(Z(M)||pe(M))return M=wn(M,B.mode,$,null),M.return=B,M;if(typeof M.then=="function")return se(B,Jl(M),$);if(M.$$typeof===C)return se(B,zl(B,M),$);Wl(B,M)}return null}function q(B,M,$,ee){var Ne=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ne!==null?null:S(B,M,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return $.key===Ne?k(B,M,$,ee):null;case b:return $.key===Ne?V(B,M,$,ee):null;case ge:return Ne=$._init,$=Ne($._payload),q(B,M,$,ee)}if(Z($)||pe($))return Ne!==null?null:W(B,M,$,ee,null);if(typeof $.then=="function")return q(B,M,Jl($),ee);if($.$$typeof===C)return q(B,M,zl(B,$),ee);Wl(B,$)}return null}function F(B,M,$,ee,Ne){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get($)||null,S(M,B,""+ee,Ne);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return B=B.get(ee.key===null?$:ee.key)||null,k(M,B,ee,Ne);case b:return B=B.get(ee.key===null?$:ee.key)||null,V(M,B,ee,Ne);case ge:var Qe=ee._init;return ee=Qe(ee._payload),F(B,M,$,ee,Ne)}if(Z(ee)||pe(ee))return B=B.get($)||null,W(M,B,ee,Ne,null);if(typeof ee.then=="function")return F(B,M,$,Jl(ee),Ne);if(ee.$$typeof===C)return F(B,M,$,zl(M,ee),Ne);Wl(M,ee)}return null}function Ie(B,M,$,ee){for(var Ne=null,Qe=null,ze=M,He=M=0,Yt=null;ze!==null&&He<$.length;He++){ze.index>He?(Yt=ze,ze=null):Yt=ze.sibling;var it=q(B,ze,$[He],ee);if(it===null){ze===null&&(ze=Yt);break}e&&ze&&it.alternate===null&&t(B,ze),M=m(it,M,He),Qe===null?Ne=it:Qe.sibling=it,Qe=it,ze=Yt}if(He===$.length)return s(B,ze),ct&&_n(B,He),Ne;if(ze===null){for(;He<$.length;He++)ze=se(B,$[He],ee),ze!==null&&(M=m(ze,M,He),Qe===null?Ne=ze:Qe.sibling=ze,Qe=ze);return ct&&_n(B,He),Ne}for(ze=o(ze);He<$.length;He++)Yt=F(ze,B,He,$[He],ee),Yt!==null&&(e&&Yt.alternate!==null&&ze.delete(Yt.key===null?He:Yt.key),M=m(Yt,M,He),Qe===null?Ne=Yt:Qe.sibling=Yt,Qe=Yt);return e&&ze.forEach(function(nn){return t(B,nn)}),ct&&_n(B,He),Ne}function Ve(B,M,$,ee){if($==null)throw Error(l(151));for(var Ne=null,Qe=null,ze=M,He=M=0,Yt=null,it=$.next();ze!==null&&!it.done;He++,it=$.next()){ze.index>He?(Yt=ze,ze=null):Yt=ze.sibling;var nn=q(B,ze,it.value,ee);if(nn===null){ze===null&&(ze=Yt);break}e&&ze&&nn.alternate===null&&t(B,ze),M=m(nn,M,He),Qe===null?Ne=nn:Qe.sibling=nn,Qe=nn,ze=Yt}if(it.done)return s(B,ze),ct&&_n(B,He),Ne;if(ze===null){for(;!it.done;He++,it=$.next())it=se(B,it.value,ee),it!==null&&(M=m(it,M,He),Qe===null?Ne=it:Qe.sibling=it,Qe=it);return ct&&_n(B,He),Ne}for(ze=o(ze);!it.done;He++,it=$.next())it=F(ze,B,He,it.value,ee),it!==null&&(e&&it.alternate!==null&&ze.delete(it.key===null?He:it.key),M=m(it,M,He),Qe===null?Ne=it:Qe.sibling=it,Qe=it);return e&&ze.forEach(function(dw){return t(B,dw)}),ct&&_n(B,He),Ne}function gt(B,M,$,ee){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case v:e:{for(var Ne=$.key;M!==null;){if(M.key===Ne){if(Ne=$.type,Ne===j){if(M.tag===7){s(B,M.sibling),ee=h(M,$.props.children),ee.return=B,B=ee;break e}}else if(M.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ge&&Cm(Ne)===M.type){s(B,M.sibling),ee=h(M,$.props),_i(ee,$),ee.return=B,B=ee;break e}s(B,M);break}else t(B,M);M=M.sibling}$.type===j?(ee=wn($.props.children,B.mode,ee,$.key),ee.return=B,B=ee):(ee=Ml($.type,$.key,$.props,null,B.mode,ee),_i(ee,$),ee.return=B,B=ee)}return y(B);case b:e:{for(Ne=$.key;M!==null;){if(M.key===Ne)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){s(B,M.sibling),ee=h(M,$.children||[]),ee.return=B,B=ee;break e}else{s(B,M);break}else t(B,M);M=M.sibling}ee=Yc($,B.mode,ee),ee.return=B,B=ee}return y(B);case ge:return Ne=$._init,$=Ne($._payload),gt(B,M,$,ee)}if(Z($))return Ie(B,M,$,ee);if(pe($)){if(Ne=pe($),typeof Ne!="function")throw Error(l(150));return $=Ne.call($),Ve(B,M,$,ee)}if(typeof $.then=="function")return gt(B,M,Jl($),ee);if($.$$typeof===C)return gt(B,M,zl(B,$),ee);Wl(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,M!==null&&M.tag===6?(s(B,M.sibling),ee=h(M,$),ee.return=B,B=ee):(s(B,M),ee=Fc($,B.mode,ee),ee.return=B,B=ee),y(B)):s(B,M)}return function(B,M,$,ee){try{ji=0;var Ne=gt(B,M,$,ee);return xs=null,Ne}catch(ze){if(ze===fi||ze===Pl)throw ze;var Qe=ba(29,ze,null,B.mode);return Qe.lanes=ee,Qe.return=B,Qe}finally{}}}var bs=Rm(!0),Om=Rm(!1),La=ye(null),tr=null;function qr(e){var t=e.alternate;Re(It,It.current&1),Re(La,e),tr===null&&(t===null||fs.current!==null||t.memoizedState!==null)&&(tr=e)}function Dm(e){if(e.tag===22){if(Re(It,It.current),Re(La,e),tr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(tr=e)}}else Ir()}function Ir(){Re(It,It.current),Re(La,La.current)}function jr(e){Ce(La),tr===e&&(tr=null),Ce(It)}var It=ye(0);function Zl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pd(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Eu(e,t,s,o){t=e.memoizedState,s=s(o,t),s=s==null?t:x({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tu={enqueueSetState:function(e,t,s){e=e._reactInternals;var o=ja(),h=Pr(o);h.payload=t,s!=null&&(h.callback=s),t=Vr(e,h,o),t!==null&&(_a(t,e,o),pi(t,e,o))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var o=ja(),h=Pr(o);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=Vr(e,h,o),t!==null&&(_a(t,e,o),pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ja(),o=Pr(s);o.tag=2,t!=null&&(o.callback=t),t=Vr(e,o,s),t!==null&&(_a(t,e,s),pi(t,e,s))}};function Mm(e,t,s,o,h,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,y):t.prototype&&t.prototype.isPureReactComponent?!si(s,o)||!si(h,m):!0}function Lm(e,t,s,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,o),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var s=t;if("ref"in t){s={};for(var o in t)o!=="ref"&&(s[o]=t[o])}if(e=e.defaultProps){s===t&&(s=x({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Um(e){eo(e)}function Bm(e){console.error(e)}function zm(e){eo(e)}function to(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function $m(e,t,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Au(e,t,s){return s=Pr(s),s.tag=3,s.payload={element:null},s.callback=function(){to(e,t)},s}function Pm(e){return e=Pr(e),e.tag=3,e}function Vm(e,t,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){$m(t,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){$m(t,s,o),typeof h!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function dy(e,t,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=s.alternate,t!==null&&ui(t,s,h,!0),s=La.current,s!==null){switch(s.tag){case 13:return tr===null?Wu():s.alternate===null&&At===0&&(At=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ru?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([o]):t.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===ru?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(l(435,s.tag))}return ed(e,o,h),Wu(),!1}if(ct)return t=La.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=h,o!==Qc&&(e=Error(l(422),{cause:o}),ci(Ra(e,s)))):(o!==Qc&&(t=Error(l(423),{cause:o}),ci(Ra(t,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ra(o,s),h=Au(e.stateNode,o,h),iu(e,h),At!==4&&(At=2)),!1;var m=Error(l(520),{cause:o});if(m=Ra(m,s),Ci===null?Ci=[m]:Ci.push(m),At!==4&&(At=2),t===null)return!0;o=Ra(o,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Au(s.stateNode,o,e),iu(s,e),!1;case 1:if(t=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qr===null||!Qr.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pm(h),Vm(h,e,s,o),iu(s,h),!1}s=s.return}while(s!==null);return!1}var Hm=Error(l(461)),Gt=!1;function Xt(e,t,s,o){t.child=e===null?Om(t,null,s,o):bs(t,e.child,s,o)}function qm(e,t,s,o,h){s=s.render;var m=t.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return Tn(t),o=du(e,t,s,y,m,h),S=hu(),e!==null&&!Gt?(fu(e,t,h),_r(e,t,h)):(ct&&S&&Kc(t),t.flags|=1,Xt(e,t,o,h),t.child)}function Im(e,t,s,o,h){if(e===null){var m=s.type;return typeof m=="function"&&!Gc(m)&&m.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=m,Gm(e,t,m,o,h)):(e=Ml(s.type,null,o,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!Uu(e,h)){var y=m.memoizedProps;if(s=s.compare,s=s!==null?s:si,s(y,o)&&e.ref===t.ref)return _r(e,t,h)}return t.flags|=1,e=gr(m,o),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,s,o,h){if(e!==null){var m=e.memoizedProps;if(si(m,o)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=o=m,Uu(e,h))(e.flags&131072)!==0&&(Gt=!0);else return t.lanes=e.lanes,_r(e,t,h)}return ku(e,t,s,o,h)}function Fm(e,t,s){var o=t.pendingProps,h=o.children,m=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((t.flags&128)!==0){if(o=m!==null?m.baseLanes|s:s,e!==null){for(h=t.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;t.childLanes=m&~o}else t.childLanes=0,t.child=null;return Ym(e,t,o,s)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$l(t,m!==null?m.cachePool:null),m!==null?Gf(t,m):ou(),Dm(t);else return t.lanes=t.childLanes=536870912,Ym(e,t,m!==null?m.baseLanes|s:s,s)}else m!==null?($l(t,m.cachePool),Gf(t,m),Ir(),t.memoizedState=null):(e!==null&&$l(t,null),ou(),Ir());return Xt(e,t,h,s),t.child}function Ym(e,t,s,o){var h=au();return h=h===null?null:{parent:qt._currentValue,pool:h},t.memoizedState={baseLanes:s,cachePool:h},e!==null&&$l(t,null),ou(),Dm(t),e!==null&&ui(e,t,o,!0),null}function ao(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function ku(e,t,s,o,h){return Tn(t),s=du(e,t,s,o,void 0,h),o=hu(),e!==null&&!Gt?(fu(e,t,h),_r(e,t,h)):(ct&&o&&Kc(t),t.flags|=1,Xt(e,t,s,h),t.child)}function Km(e,t,s,o,h,m){return Tn(t),t.updateQueue=null,s=Yf(t,o,s,h),Ff(e),o=hu(),e!==null&&!Gt?(fu(e,t,m),_r(e,t,m)):(ct&&o&&Kc(t),t.flags|=1,Xt(e,t,s,m),t.child)}function Xm(e,t,s,o,h){if(Tn(t),t.stateNode===null){var m=os,y=s.contextType;typeof y=="object"&&y!==null&&(m=ta(y)),m=new s(o,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Tu,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=o,m.state=t.memoizedState,m.refs={},nu(t),y=s.contextType,m.context=typeof y=="object"&&y!==null?ta(y):os,m.state=t.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Eu(t,s,y,o),m.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&Tu.enqueueReplaceState(m,m.state,null),xi(t,o,m,h),gi(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){m=t.stateNode;var S=t.memoizedProps,k=Cn(s,S);m.props=k;var V=m.context,W=s.contextType;y=os,typeof W=="object"&&W!==null&&(y=ta(W));var se=s.getDerivedStateFromProps;W=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||V!==y)&&Lm(t,m,o,y),$r=!1;var q=t.memoizedState;m.state=q,xi(t,o,m,h),gi(),V=t.memoizedState,S||q!==V||$r?(typeof se=="function"&&(Eu(t,s,se,o),V=t.memoizedState),(k=$r||Mm(t,s,k,o,q,V,y))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=V),m.props=o,m.state=V,m.context=y,o=k):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{m=t.stateNode,su(e,t),y=t.memoizedProps,W=Cn(s,y),m.props=W,se=t.pendingProps,q=m.context,V=s.contextType,k=os,typeof V=="object"&&V!==null&&(k=ta(V)),S=s.getDerivedStateFromProps,(V=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==se||q!==k)&&Lm(t,m,o,k),$r=!1,q=t.memoizedState,m.state=q,xi(t,o,m,h),gi();var F=t.memoizedState;y!==se||q!==F||$r||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof S=="function"&&(Eu(t,s,S,o),F=t.memoizedState),(W=$r||Mm(t,s,W,o,q,F,k)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(V||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,F,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,F,k)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=F),m.props=o,m.state=F,m.context=k,o=W):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),o=!1)}return m=o,ao(e,t),o=(t.flags&128)!==0,m||o?(m=t.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&o?(t.child=bs(t,e.child,null,h),t.child=bs(t,null,s,h)):Xt(e,t,s,h),t.memoizedState=m.state,e=t.child):e=_r(e,t,h),e}function Qm(e,t,s,o){return oi(),t.flags|=256,Xt(e,t,s,o),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:Bf()}}function Ou(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Ua),e}function Jm(e,t,s){var o=t.pendingProps,h=!1,m=(t.flags&128)!==0,y;if((y=m)||(y=e!==null&&e.memoizedState===null?!1:(It.current&2)!==0),y&&(h=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(h?qr(t):Ir(),ct){var S=Tt,k;if(k=S){e:{for(k=S,S=er;k.nodeType!==8;){if(!S){S=null;break e}if(k=Ga(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(t.memoizedState={dehydrated:S,treeContext:jn!==null?{id:xr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},k=ba(18,null,null,0),k.stateNode=S,k.return=t,t.child=k,na=t,Tt=null,k=!0):k=!1}k||Sn(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return pd(S)?t.lanes=32:t.lanes=536870912,null;jr(t)}return S=o.children,o=o.fallback,h?(Ir(),h=t.mode,S=ro({mode:"hidden",children:S},h),o=wn(o,h,s,null),S.return=t,o.return=t,S.sibling=o,t.child=S,h=t.child,h.memoizedState=Ru(s),h.childLanes=Ou(e,y,s),t.memoizedState=Cu,o):(qr(t),Du(t,S))}if(k=e.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)t.flags&256?(qr(t),t.flags&=-257,t=Mu(e,t,s)):t.memoizedState!==null?(Ir(),t.child=e.child,t.flags|=128,t=null):(Ir(),h=o.fallback,S=t.mode,o=ro({mode:"visible",children:o.children},S),h=wn(h,S,s,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,bs(t,e.child,null,s),o=t.child,o.memoizedState=Ru(s),o.childLanes=Ou(e,y,s),t.memoizedState=Cu,t=h);else if(qr(t),pd(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var V=y.dgst;y=V,o=Error(l(419)),o.stack="",o.digest=y,ci({value:o,source:null,stack:null}),t=Mu(e,t,s)}else if(Gt||ui(e,t,s,!1),y=(s&e.childLanes)!==0,Gt||y){if(y=bt,y!==null&&(o=s&-s,o=(o&42)!==0?1:Qs(o),o=(o&(y.suspendedLanes|s))!==0?0:o,o!==0&&o!==k.retryLane))throw k.retryLane=o,ls(e,o),_a(y,e,o),Hm;S.data==="$?"||Wu(),t=Mu(e,t,s)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,Tt=Ga(S.nextSibling),na=t,ct=!0,Nn=null,er=!1,e!==null&&(Da[Ma++]=xr,Da[Ma++]=br,Da[Ma++]=jn,xr=e.id,br=e.overflow,jn=t),t=Du(t,o.children),t.flags|=4096);return t}return h?(Ir(),h=o.fallback,S=t.mode,k=e.child,V=k.sibling,o=gr(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,V!==null?h=gr(V,h):(h=wn(h,S,s,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,S=e.child.memoizedState,S===null?S=Ru(s):(k=S.cachePool,k!==null?(V=qt._currentValue,k=k.parent!==V?{parent:V,pool:V}:k):k=Bf(),S={baseLanes:S.baseLanes|s,cachePool:k}),h.memoizedState=S,h.childLanes=Ou(e,y,s),t.memoizedState=Cu,o):(qr(t),s=e.child,e=s.sibling,s=gr(s,{mode:"visible",children:o.children}),s.return=t,s.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=s,t.memoizedState=null,s)}function Du(e,t){return t=ro({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ro(e,t){return e=ba(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mu(e,t,s){return bs(t,e.child,null,s),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wm(e,t,s){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Wc(e.return,t,s)}function Lu(e,t,s,o,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=s,m.tailMode=h)}function Zm(e,t,s){var o=t.pendingProps,h=o.revealOrder,m=o.tail;if(Xt(e,t,o.children,s),o=It.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wm(e,s,t);else if(e.tag===19)Wm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Re(It,o),h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&Zl(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),Lu(t,!1,h,s,m);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Zl(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lu(t,!0,s,null,m);break;case"together":Lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _r(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(ui(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=gr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=gr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function hy(e,t,s){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),zr(t,qt,e.memoizedState.cache),oi();break;case 27:case 5:ve(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:zr(t,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(qr(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Jm(e,t,s):(qr(t),e=_r(e,t,s),e!==null?e.sibling:null);qr(t);break;case 19:var h=(e.flags&128)!==0;if(o=(s&t.childLanes)!==0,o||(ui(e,t,s,!1),o=(s&t.childLanes)!==0),h){if(o)return Zm(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Re(It,It.current),o)break;return null;case 22:case 23:return t.lanes=0,Fm(e,t,s);case 24:zr(t,qt,e.memoizedState.cache)}return _r(e,t,s)}function e0(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!Uu(e,s)&&(t.flags&128)===0)return Gt=!1,hy(e,t,s);Gt=(e.flags&131072)!==0}else Gt=!1,ct&&(t.flags&1048576)!==0&&Cf(t,Ul,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,h=o._init;if(o=h(o._payload),t.type=o,typeof o=="function")Gc(o)?(e=Cn(o,e),t.tag=1,t=Xm(null,t,o,e,s)):(t.tag=0,t=ku(null,t,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===H){t.tag=11,t=qm(null,t,o,e,s);break e}else if(h===te){t.tag=14,t=Im(null,t,o,e,s);break e}}throw t=ae(o)||o,Error(l(306,t,""))}}return t;case 0:return ku(e,t,t.type,t.pendingProps,s);case 1:return o=t.type,h=Cn(o,t.pendingProps),Xm(e,t,o,h,s);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(l(387));o=t.pendingProps;var m=t.memoizedState;h=m.element,su(e,t),xi(t,o,null,s);var y=t.memoizedState;if(o=y.cache,zr(t,qt,o),o!==m.cache&&Zc(t,[qt],s,!0),gi(),o=y.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Qm(e,t,o,s);break e}else if(o!==h){h=Ra(Error(l(424)),t),ci(h),t=Qm(e,t,o,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=Ga(e.firstChild),na=t,ct=!0,Nn=null,er=!0,s=Om(t,null,o,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oi(),o===h){t=_r(e,t,s);break e}Xt(e,t,o,s)}t=t.child}return t;case 26:return ao(e,t),e===null?(s=np(t.type,null,t.pendingProps,null))?t.memoizedState=s:ct||(s=t.type,e=t.pendingProps,o=bo(ht.current).createElement(s),o[le]=t,o[de]=e,Jt(o,s,e),Fe(o),t.stateNode=o):t.memoizedState=np(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&ct&&(o=t.stateNode=tp(t.type,t.pendingProps,ht.current),na=t,er=!0,h=Tt,Zr(t.type)?(gd=h,Tt=Ga(o.firstChild)):Tt=h),Xt(e,t,t.pendingProps.children,s),ao(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((h=o=Tt)&&(o=Py(o,t.type,t.pendingProps,er),o!==null?(t.stateNode=o,na=t,Tt=Ga(o.firstChild),er=!1,h=!0):h=!1),h||Sn(t)),ve(t),h=t.type,m=t.pendingProps,y=e!==null?e.memoizedProps:null,o=m.children,hd(h,m)?o=null:y!==null&&hd(h,y)&&(t.flags|=32),t.memoizedState!==null&&(h=du(e,t,ny,null,null,s),$i._currentValue=h),ao(e,t),Xt(e,t,o,s),t.child;case 6:return e===null&&ct&&((e=s=Tt)&&(s=Vy(s,t.pendingProps,er),s!==null?(t.stateNode=s,na=t,Tt=null,e=!0):e=!1),e||Sn(t)),null;case 13:return Jm(e,t,s);case 4:return je(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=bs(t,null,o,s):Xt(e,t,o,s),t.child;case 11:return qm(e,t,t.type,t.pendingProps,s);case 7:return Xt(e,t,t.pendingProps,s),t.child;case 8:return Xt(e,t,t.pendingProps.children,s),t.child;case 12:return Xt(e,t,t.pendingProps.children,s),t.child;case 10:return o=t.pendingProps,zr(t,t.type,o.value),Xt(e,t,o.children,s),t.child;case 9:return h=t.type._context,o=t.pendingProps.children,Tn(t),h=ta(h),o=o(h),t.flags|=1,Xt(e,t,o,s),t.child;case 14:return Im(e,t,t.type,t.pendingProps,s);case 15:return Gm(e,t,t.type,t.pendingProps,s);case 19:return Zm(e,t,s);case 31:return o=t.pendingProps,s=t.mode,o={mode:o.mode,children:o.children},e===null?(s=ro(o,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=gr(e.child,o),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return Fm(e,t,s);case 24:return Tn(t),o=ta(qt),e===null?(h=au(),h===null&&(h=bt,m=eu(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),t.memoizedState={parent:o,cache:h},nu(t),zr(t,qt,h)):((e.lanes&s)!==0&&(su(e,t),xi(t,null,null,s),gi()),h=e.memoizedState,m=t.memoizedState,h.parent!==o?(h={parent:o,cache:o},t.memoizedState=h,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=h),zr(t,qt,o)):(o=m.cache,zr(t,qt,o),o!==h.cache&&Zc(t,[qt],s,!0))),Xt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Nr(e){e.flags|=4}function t0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cp(t)){if(t=La.current,t!==null&&((at&4194048)===at?tr!==null:(at&62914560)!==at&&(at&536870912)===0||t!==tr))throw mi=ru,zf;e.flags|=8192}}function no(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bl():536870912,e.lanes|=t,js|=t)}function Ni(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,t}function fy(e,t,s){var o=t.pendingProps;switch(Xc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return s=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),yr(qt),be(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(li(t)?Nr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Df())),St(t),null;case 26:return s=t.memoizedState,e===null?(Nr(t),s!==null?(St(t),t0(t,s)):(St(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Nr(t),St(t),t0(t,s)):(St(t),t.flags&=-16777217):(e.memoizedProps!==o&&Nr(t),St(t),t.flags&=-16777217),null;case 27:Le(t),s=ht.current;var h=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Nr(t);else{if(!o){if(t.stateNode===null)throw Error(l(166));return St(t),null}e=Se.current,li(t)?Rf(t):(e=tp(h,o,s),t.stateNode=e,Nr(t))}return St(t),null;case 5:if(Le(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Nr(t);else{if(!o){if(t.stateNode===null)throw Error(l(166));return St(t),null}if(e=Se.current,li(t))Rf(t);else{switch(h=bo(ht.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[le]=t,e[de]=o;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=e;e:switch(Jt(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nr(t)}}return St(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Nr(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(l(166));if(e=ht.current,li(t)){if(e=t.stateNode,s=t.memoizedProps,o=null,h=na,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[le]=t,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||K0(e.nodeValue,s)),e||Sn(t)}else e=bo(e).createTextNode(o),e[le]=t,t.stateNode=e}return St(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=li(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[le]=t}else oi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),h=!1}else h=Df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return t.flags&256?(jr(t),t):(jr(t),null)}if(jr(t),(t.flags&128)!==0)return t.lanes=s,t;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=t.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),no(t,t.updateQueue),St(t),null;case 4:return be(),e===null&&ld(t.stateNode.containerInfo),St(t),null;case 10:return yr(t.type),St(t),null;case 19:if(Ce(It),h=t.memoizedState,h===null)return St(t),null;if(o=(t.flags&128)!==0,m=h.rendering,m===null)if(o)Ni(h,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Zl(e),m!==null){for(t.flags|=128,Ni(h,!1),e=m.updateQueue,t.updateQueue=e,no(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)kf(s,e),s=s.sibling;return Re(It,It.current&1|2),t.child}e=e.sibling}h.tail!==null&&kt()>lo&&(t.flags|=128,o=!0,Ni(h,!1),t.lanes=4194304)}else{if(!o)if(e=Zl(m),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,no(t,e),Ni(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!ct)return St(t),null}else 2*kt()-h.renderingStartTime>lo&&s!==536870912&&(t.flags|=128,o=!0,Ni(h,!1),t.lanes=4194304);h.isBackwards?(m.sibling=t.child,t.child=m):(e=h.last,e!==null?e.sibling=m:t.child=m,h.last=m)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=kt(),t.sibling=null,e=It.current,Re(It,o?e&1|2:e&1),t):(St(t),null);case 22:case 23:return jr(t),cu(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(s&536870912)!==0&&(t.flags&128)===0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),s=t.updateQueue,s!==null&&no(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==s&&(t.flags|=2048),e!==null&&Ce(An),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yr(qt),St(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function my(e,t){switch(Xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(qt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Le(t),null;case 13:if(jr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(It),null;case 4:return be(),null;case 10:return yr(t.type),null;case 22:case 23:return jr(t),cu(),e!==null&&Ce(An),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yr(qt),null;case 25:return null;default:return null}}function a0(e,t){switch(Xc(t),t.tag){case 3:yr(qt),be();break;case 26:case 27:case 5:Le(t);break;case 4:be();break;case 13:jr(t);break;case 19:Ce(It);break;case 10:yr(t.type);break;case 22:case 23:jr(t),cu(),e!==null&&Ce(An);break;case 24:yr(qt)}}function Si(e,t){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var m=s.create,y=s.inst;o=m(),y.destroy=o}s=s.next}while(s!==h)}}catch(S){xt(t,t.return,S)}}function Gr(e,t,s){try{var o=t.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,h=t;var k=s,V=S;try{V()}catch(W){xt(h,k,W)}}}o=o.next}while(o!==m)}}catch(W){xt(t,t.return,W)}}function r0(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{If(t,s)}catch(o){xt(e,e.return,o)}}}function n0(e,t,s){s.props=Cn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){xt(e,t,o)}}function Ei(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){xt(e,t,h)}}function ar(e,t){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){xt(e,t,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){xt(e,t,h)}else s.current=null}function s0(e){var t=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){xt(e,e.return,h)}}function Bu(e,t,s){try{var o=e.stateNode;Ly(o,e.type,s,t),o[de]=t}catch(h){xt(e,e.return,h)}}function i0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zr(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=xo));else if(o!==4&&(o===27&&Zr(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for($u(e,t,s),e=e.sibling;e!==null;)$u(e,t,s),e=e.sibling}function so(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(o!==4&&(o===27&&Zr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(so(e,t,s),e=e.sibling;e!==null;)so(e,t,s),e=e.sibling}function l0(e){var t=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=t.attributes;h.length;)t.removeAttributeNode(h[0]);Jt(t,o,s),t[le]=e,t[de]=s}catch(m){xt(e,e.return,m)}}var Sr=!1,Rt=!1,Pu=!1,o0=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function py(e,t){if(e=e.containerInfo,ud=No,e=vf(e),zc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var y=0,S=-1,k=-1,V=0,W=0,se=e,q=null;t:for(;;){for(var F;se!==s||h!==0&&se.nodeType!==3||(S=y+h),se!==m||o!==0&&se.nodeType!==3||(k=y+o),se.nodeType===3&&(y+=se.nodeValue.length),(F=se.firstChild)!==null;)q=se,se=F;for(;;){if(se===e)break t;if(q===s&&++V===h&&(S=y),q===m&&++W===o&&(k=y),(F=se.nextSibling)!==null)break;se=q,q=se.parentNode}se=F}s=S===-1||k===-1?null:{start:S,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},No=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,m=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,s=t,h=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var Ie=Cn(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(Ie,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){xt(s,s.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function c0(e,t,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fr(e,s),o&4&&Si(5,s);break;case 1:if(Fr(e,s),o&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(y){xt(s,s.return,y)}else{var h=Cn(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(h,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){xt(s,s.return,y)}}o&64&&r0(s),o&512&&Ei(s,s.return);break;case 3:if(Fr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{If(e,t)}catch(y){xt(s,s.return,y)}}break;case 27:t===null&&o&4&&l0(s);case 26:case 5:Fr(e,s),t===null&&o&4&&s0(s),o&512&&Ei(s,s.return);break;case 12:Fr(e,s);break;case 13:Fr(e,s),o&4&&h0(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Ny.bind(null,s),Hy(e,s))));break;case 22:if(o=s.memoizedState!==null||Sr,!o){t=t!==null&&t.memoizedState!==null||Rt,h=Sr;var m=Rt;Sr=o,(Rt=t)&&!m?Yr(e,s,(s.subtreeFlags&8772)!==0):Fr(e,s),Sr=h,Rt=m}break;case 30:break;default:Fr(e,s)}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&De(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wt=null,ca=!1;function Er(e,t,s){for(s=s.child;s!==null;)d0(e,t,s),s=s.sibling}function d0(e,t,s){if(G&&typeof G.onCommitFiberUnmount=="function")try{G.onCommitFiberUnmount(xe,s)}catch{}switch(s.tag){case 26:Rt||ar(s,t),Er(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||ar(s,t);var o=wt,h=ca;Zr(s.type)&&(wt=s.stateNode,ca=!1),Er(e,t,s),Li(s.stateNode),wt=o,ca=h;break;case 5:Rt||ar(s,t);case 6:if(o=wt,h=ca,wt=null,Er(e,t,s),wt=o,ca=h,wt!==null)if(ca)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(s.stateNode)}catch(m){xt(s,t,m)}else try{wt.removeChild(s.stateNode)}catch(m){xt(s,t,m)}break;case 18:wt!==null&&(ca?(e=wt,Z0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qi(e)):Z0(wt,s.stateNode));break;case 4:o=wt,h=ca,wt=s.stateNode.containerInfo,ca=!0,Er(e,t,s),wt=o,ca=h;break;case 0:case 11:case 14:case 15:Rt||Gr(2,s,t),Rt||Gr(4,s,t),Er(e,t,s);break;case 1:Rt||(ar(s,t),o=s.stateNode,typeof o.componentWillUnmount=="function"&&n0(s,t,o)),Er(e,t,s);break;case 21:Er(e,t,s);break;case 22:Rt=(o=Rt)||s.memoizedState!==null,Er(e,t,s),Rt=o;break;default:Er(e,t,s)}}function h0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qi(e)}catch(s){xt(t,t.return,s)}}function gy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new o0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new o0),t;default:throw Error(l(435,e.tag))}}function Vu(e,t){var s=gy(e);t.forEach(function(o){var h=Sy.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function va(e,t){var s=t.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],m=e,y=t,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Zr(S.type)){wt=S.stateNode,ca=!1;break e}break;case 5:wt=S.stateNode,ca=!1;break e;case 3:case 4:wt=S.stateNode.containerInfo,ca=!0;break e}S=S.return}if(wt===null)throw Error(l(160));d0(m,y,h),wt=null,ca=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}var Ia=null;function f0(e,t){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:va(t,e),ya(e),o&4&&(Gr(3,e,e.return),Si(3,e),Gr(5,e,e.return));break;case 1:va(t,e),ya(e),o&512&&(Rt||s===null||ar(s,s.return)),o&64&&Sr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ia;if(va(t,e),ya(e),o&512&&(Rt||s===null||ar(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ae]||m[le]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Jt(m,o,s),m[le]=e,Fe(m),o=m;break e;case"link":var y=lp("link","href",h).get(o+(s.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(S,1);break t}}m=h.createElement(o),Jt(m,o,s),h.head.appendChild(m);break;case"meta":if(y=lp("meta","content",h).get(o+(s.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(S,1);break t}}m=h.createElement(o),Jt(m,o,s),h.head.appendChild(m);break;default:throw Error(l(468,o))}m[le]=e,Fe(m),o=m}e.stateNode=o}else op(h,e.type,e.stateNode);else e.stateNode=ip(h,o,e.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?op(h,e.type,e.stateNode):ip(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,s.memoizedProps)}break;case 27:va(t,e),ya(e),o&512&&(Rt||s===null||ar(s,s.return)),s!==null&&o&4&&Bu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(va(t,e),ya(e),o&512&&(Rt||s===null||ar(s,s.return)),e.flags&32){h=e.stateNode;try{es(h,"")}catch(F){xt(e,e.return,F)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bu(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Pu=!0);break;case 6:if(va(t,e),ya(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(F){xt(e,e.return,F)}}break;case 3:if(wo=null,h=Ia,Ia=vo(t.containerInfo),va(t,e),Ia=h,ya(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(F){xt(e,e.return,F)}Pu&&(Pu=!1,m0(e));break;case 4:o=Ia,Ia=vo(e.stateNode.containerInfo),va(t,e),ya(e),Ia=o;break;case 12:va(t,e),ya(e);break;case 13:va(t,e),ya(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=kt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 22:h=e.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,V=Sr,W=Rt;if(Sr=V||h,Rt=W||k,va(t,e),Rt=W,Sr=V,ya(e),o&8192)e:for(t=e.stateNode,t._visibility=h?t._visibility&-2:t._visibility|1,h&&(s===null||k||Sr||Rt||Rn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){k=s=t;try{if(m=k.stateNode,h)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=k.stateNode;var se=k.memoizedProps.style,q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){xt(k,k.return,F)}}}else if(t.tag===6){if(s===null){k=t;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(F){xt(k,k.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Vu(e,s))));break;case 19:va(t,e),ya(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 30:break;case 21:break;default:va(t,e),ya(e)}}function ya(e){var t=e.flags;if(t&2){try{for(var s,o=e.return;o!==null;){if(i0(o)){s=o;break}o=o.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var h=s.stateNode,m=zu(e);so(e,m,h);break;case 5:var y=s.stateNode;s.flags&32&&(es(y,""),s.flags&=-33);var S=zu(e);so(e,S,y);break;case 3:case 4:var k=s.stateNode.containerInfo,V=zu(e);$u(e,V,k);break;default:throw Error(l(161))}}catch(W){xt(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;m0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)c0(e,t.alternate,t),t=t.sibling}function Rn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gr(4,t,t.return),Rn(t);break;case 1:ar(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&n0(t,t.return,s),Rn(t);break;case 27:Li(t.stateNode);case 26:case 5:ar(t,t.return),Rn(t);break;case 22:t.memoizedState===null&&Rn(t);break;case 30:Rn(t);break;default:Rn(t)}e=e.sibling}}function Yr(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,h=e,m=t,y=m.flags;switch(m.tag){case 0:case 11:case 15:Yr(h,m,s),Si(4,m);break;case 1:if(Yr(h,m,s),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){xt(o,o.return,V)}if(o=m,h=o.updateQueue,h!==null){var S=o.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)qf(k[h],S)}catch(V){xt(o,o.return,V)}}s&&y&64&&r0(m),Ei(m,m.return);break;case 27:l0(m);case 26:case 5:Yr(h,m,s),s&&o===null&&y&4&&s0(m),Ei(m,m.return);break;case 12:Yr(h,m,s);break;case 13:Yr(h,m,s),s&&y&4&&h0(h,m);break;case 22:m.memoizedState===null&&Yr(h,m,s),Ei(m,m.return);break;case 30:break;default:Yr(h,m,s)}t=t.sibling}}function Hu(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&di(s))}function qu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&di(e))}function rr(e,t,s,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p0(e,t,s,o),t=t.sibling}function p0(e,t,s,o){var h=t.flags;switch(t.tag){case 0:case 11:case 15:rr(e,t,s,o),h&2048&&Si(9,t);break;case 1:rr(e,t,s,o);break;case 3:rr(e,t,s,o),h&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&di(e)));break;case 12:if(h&2048){rr(e,t,s,o),e=t.stateNode;try{var m=t.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){xt(t,t.return,k)}}else rr(e,t,s,o);break;case 13:rr(e,t,s,o);break;case 23:break;case 22:m=t.stateNode,y=t.alternate,t.memoizedState!==null?m._visibility&2?rr(e,t,s,o):Ti(e,t):m._visibility&2?rr(e,t,s,o):(m._visibility|=2,vs(e,t,s,o,(t.subtreeFlags&10256)!==0)),h&2048&&Hu(y,t);break;case 24:rr(e,t,s,o),h&2048&&qu(t.alternate,t);break;default:rr(e,t,s,o)}}function vs(e,t,s,o,h){for(h=h&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var m=e,y=t,S=s,k=o,V=y.flags;switch(y.tag){case 0:case 11:case 15:vs(m,y,S,k,h),Si(8,y);break;case 23:break;case 22:var W=y.stateNode;y.memoizedState!==null?W._visibility&2?vs(m,y,S,k,h):Ti(m,y):(W._visibility|=2,vs(m,y,S,k,h)),h&&V&2048&&Hu(y.alternate,y);break;case 24:vs(m,y,S,k,h),h&&V&2048&&qu(y.alternate,y);break;default:vs(m,y,S,k,h)}t=t.sibling}}function Ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,o=t,h=o.flags;switch(o.tag){case 22:Ti(s,o),h&2048&&Hu(o.alternate,o);break;case 24:Ti(s,o),h&2048&&qu(o.alternate,o);break;default:Ti(s,o)}t=t.sibling}}var Ai=8192;function ys(e){if(e.subtreeFlags&Ai)for(e=e.child;e!==null;)g0(e),e=e.sibling}function g0(e){switch(e.tag){case 26:ys(e),e.flags&Ai&&e.memoizedState!==null&&tw(Ia,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var t=Ia;Ia=vo(e.stateNode.containerInfo),ys(e),Ia=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ai,Ai=16777216,ys(e),Ai=t):ys(e));break;default:ys(e)}}function x0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var o=t[s];Ft=o,v0(o,e)}x0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(e),e=e.sibling}function b0(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Gr(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,io(e)):ki(e);break;default:ki(e)}}function io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var o=t[s];Ft=o,v0(o,e)}x0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gr(8,t,t.return),io(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,io(t));break;default:io(t)}e=e.sibling}}function v0(e,t){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Gr(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:di(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ft=o;else e:for(s=e;Ft!==null;){o=Ft;var h=o.sibling,m=o.return;if(u0(o),o===s){Ft=null;break e}if(h!==null){h.return=m,Ft=h;break e}Ft=m}}}var xy={getCacheForType:function(e){var t=ta(qt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},by=typeof WeakMap=="function"?WeakMap:Map,ut=0,bt=null,Ze=null,at=0,dt=0,wa=null,Kr=!1,ws=!1,Iu=!1,Tr=0,At=0,Xr=0,On=0,Gu=0,Ua=0,js=0,Ci=null,ua=null,Fu=!1,Yu=0,lo=1/0,oo=null,Qr=null,Qt=0,Jr=null,_s=null,Ns=0,Ku=0,Xu=null,y0=null,Ri=0,Qu=null;function ja(){if((ut&2)!==0&&at!==0)return at&-at;if(U.T!==null){var e=ds;return e!==0?e:rd()}return D()}function w0(){Ua===0&&(Ua=(at&536870912)===0||ct?Qn():536870912);var e=La.current;return e!==null&&(e.flags|=32),Ua}function _a(e,t,s){(e===bt&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),Wr(e,at,Ua,!1)),pn(e,s),((ut&2)===0||e!==bt)&&(e===bt&&((ut&2)===0&&(On|=s),At===4&&Wr(e,at,Ua,!1)),nr(e))}function j0(e,t,s){if((ut&6)!==0)throw Error(l(327));var o=!s&&(t&124)===0&&(t&e.expiredLanes)===0||Ta(e,t),h=o?wy(e,t):Zu(e,t,!0),m=o;do{if(h===0){ws&&!o&&Wr(e,t,0,!1);break}else{if(s=e.current.alternate,m&&!vy(s)){h=Zu(e,t,!1),m=!1;continue}if(h===2){if(m=t,e.errorRecoveryDisabledLanes&m)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var S=e;h=Ci;var k=S.current.memoizedState.isDehydrated;if(k&&(Ss(S,y).flags|=256),y=Zu(S,y,!1),y!==2){if(Iu&&!k){S.errorRecoveryDisabledLanes|=m,On|=m,h=4;break e}m=ua,ua=h,m!==null&&(ua===null?ua=m:ua.push.apply(ua,m))}h=y}if(m=!1,h!==2)continue}}if(h===1){Ss(e,0),Wr(e,t,0,!0);break}e:{switch(o=e,m=h,m){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Wr(o,t,Ua,!Kr);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(h=Yu+300-kt(),10<h)){if(Wr(o,t,Ua,!Kr),Wa(o,0,!0)!==0)break e;o.timeoutHandle=J0(_0.bind(null,o,s,ua,oo,Fu,t,Ua,On,js,Kr,m,2,-0,0),h);break e}_0(o,s,ua,oo,Fu,t,Ua,On,js,Kr,m,0,-0,0)}}break}while(!0);nr(e)}function _0(e,t,s,o,h,m,y,S,k,V,W,se,q,F){if(e.timeoutHandle=-1,se=t.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(zi={stylesheets:null,count:0,unsuspend:ew},g0(t),se=aw(),se!==null)){e.cancelPendingCommit=se(C0.bind(null,e,t,m,s,o,h,y,S,k,W,1,q,F)),Wr(e,m,y,!V);return}C0(e,t,m,s,o,h,y,S,k)}function vy(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],m=h.getSnapshot;h=h.value;try{if(!xa(m(),h))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t,s,o){t&=~Gu,t&=~On,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var h=t;0<h;){var m=31-st(h),y=1<<m;o[m]=-1,h&=~y}s!==0&&gn(e,s,t)}function co(){return(ut&6)===0?(Oi(0),!1):!0}function Ju(){if(Ze!==null){if(dt===0)var e=Ze.return;else e=Ze,vr=En=null,mu(e),xs=null,ji=0,e=Ze;for(;e!==null;)a0(e.alternate,e),e=e.return;Ze=null}}function Ss(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,By(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ju(),bt=e,Ze=s=gr(e.current,null),at=t,dt=0,wa=null,Kr=!1,ws=Ta(e,t),Iu=!1,js=Ua=Gu=On=Xr=At=0,ua=Ci=null,Fu=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var h=31-st(o),m=1<<h;t|=e[h],o&=~m}return Tr=t,Rl(),s}function N0(e,t){Xe=null,U.H=Ql,t===fi||t===Pl?(t=Vf(),dt=3):t===zf?(t=Vf(),dt=4):dt=t===Hm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wa=t,Ze===null&&(At=1,to(e,Ra(t,e.current)))}function S0(){var e=U.H;return U.H=Ql,e===null?Ql:e}function E0(){var e=U.A;return U.A=xy,e}function Wu(){At=4,Kr||(at&4194048)!==at&&La.current!==null||(ws=!0),(Xr&134217727)===0&&(On&134217727)===0||bt===null||Wr(bt,at,Ua,!1)}function Zu(e,t,s){var o=ut;ut|=2;var h=S0(),m=E0();(bt!==e||at!==t)&&(oo=null,Ss(e,t)),t=!1;var y=At;e:do try{if(dt!==0&&Ze!==null){var S=Ze,k=wa;switch(dt){case 8:Ju(),y=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(t=!0);var V=dt;if(dt=0,wa=null,Es(e,S,k,V),s&&ws){y=0;break e}break;default:V=dt,dt=0,wa=null,Es(e,S,k,V)}}yy(),y=At;break}catch(W){N0(e,W)}while(!0);return t&&e.shellSuspendCounter++,vr=En=null,ut=o,U.H=h,U.A=m,Ze===null&&(bt=null,at=0,Rl()),y}function yy(){for(;Ze!==null;)T0(Ze)}function wy(e,t){var s=ut;ut|=2;var o=S0(),h=E0();bt!==e||at!==t?(oo=null,lo=kt()+500,Ss(e,t)):ws=Ta(e,t);e:do try{if(dt!==0&&Ze!==null){t=Ze;var m=wa;t:switch(dt){case 1:dt=0,wa=null,Es(e,t,m,1);break;case 2:case 9:if($f(m)){dt=0,wa=null,A0(t);break}t=function(){dt!==2&&dt!==9||bt!==e||(dt=7),nr(e)},m.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:$f(m)?(dt=0,wa=null,A0(t)):(dt=0,wa=null,Es(e,t,m,7));break;case 5:var y=null;switch(Ze.tag){case 26:y=Ze.memoizedState;case 5:case 27:var S=Ze;if(!y||cp(y)){dt=0,wa=null;var k=S.sibling;if(k!==null)Ze=k;else{var V=S.return;V!==null?(Ze=V,uo(V)):Ze=null}break t}}dt=0,wa=null,Es(e,t,m,5);break;case 6:dt=0,wa=null,Es(e,t,m,6);break;case 8:Ju(),At=6;break e;default:throw Error(l(462))}}jy();break}catch(W){N0(e,W)}while(!0);return vr=En=null,U.H=o,U.A=h,ut=s,Ze!==null?0:(bt=null,at=0,Rl(),At)}function jy(){for(;Ze!==null&&!Be();)T0(Ze)}function T0(e){var t=e0(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?uo(e):Ze=t}function A0(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Km(s,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Km(s,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:mu(t);default:a0(s,t),t=Ze=kf(t,Tr),t=e0(s,t,Tr)}e.memoizedProps=e.pendingProps,t===null?uo(e):Ze=t}function Es(e,t,s,o){vr=En=null,mu(t),xs=null,ji=0;var h=t.return;try{if(dy(e,h,t,s,at)){At=1,to(e,Ra(s,e.current)),Ze=null;return}}catch(m){if(h!==null)throw Ze=h,m;At=1,to(e,Ra(s,e.current)),Ze=null;return}t.flags&32768?(ct||o===1?e=!0:ws||(at&536870912)!==0?e=!1:(Kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=La.current,o!==null&&o.tag===13&&(o.flags|=16384))),k0(t,e)):uo(t)}function uo(e){var t=e;do{if((t.flags&32768)!==0){k0(t,Kr);return}e=t.return;var s=fy(t.alternate,t,Tr);if(s!==null){Ze=s;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);At===0&&(At=5)}function k0(e,t){do{var s=my(e.alternate,e);if(s!==null){s.flags&=32767,Ze=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=s}while(e!==null);At=6,Ze=null}function C0(e,t,s,o,h,m,y,S,k){e.cancelPendingCommit=null;do ho();while(Qt!==0);if((ut&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(m=t.lanes|t.childLanes,m|=qc,vl(e,s,m,y,S,k),e===bt&&(Ze=bt=null,at=0),_s=t,Jr=e,Ns=s,Ku=m,Xu=h,y0=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ey(P,function(){return L0(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=re.p,re.p=2,y=ut,ut|=4;try{py(e,t,s)}finally{ut=y,re.p=h,U.T=o}}Qt=1,R0(),O0(),D0()}}function R0(){if(Qt===1){Qt=0;var e=Jr,t=_s,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var o=re.p;re.p=2;var h=ut;ut|=4;try{f0(t,e);var m=dd,y=vf(e.containerInfo),S=m.focusedElem,k=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&bf(S.ownerDocument.documentElement,S)){if(k!==null&&zc(S)){var V=k.start,W=k.end;if(W===void 0&&(W=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(W,S.value.length);else{var se=S.ownerDocument||document,q=se&&se.defaultView||window;if(q.getSelection){var F=q.getSelection(),Ie=S.textContent.length,Ve=Math.min(k.start,Ie),gt=k.end===void 0?Ve:Math.min(k.end,Ie);!F.extend&&Ve>gt&&(y=gt,gt=Ve,Ve=y);var B=xf(S,Ve),M=xf(S,gt);if(B&&M&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var $=se.createRange();$.setStart(B.node,B.offset),F.removeAllRanges(),Ve>gt?(F.addRange($),F.extend(M.node,M.offset)):($.setEnd(M.node,M.offset),F.addRange($))}}}}for(se=[],F=S;F=F.parentNode;)F.nodeType===1&&se.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ee=se[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}No=!!ud,dd=ud=null}finally{ut=h,re.p=o,U.T=s}}e.current=t,Qt=2}}function O0(){if(Qt===2){Qt=0;var e=Jr,t=_s,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var o=re.p;re.p=2;var h=ut;ut|=4;try{c0(e,t.alternate,t)}finally{ut=h,re.p=o,U.T=s}}Qt=3}}function D0(){if(Qt===4||Qt===3){Qt=0,Oe();var e=Jr,t=_s,s=Ns,o=y0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qt=5:(Qt=0,_s=Jr=null,M0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qr=null),Js(s),t=t.stateNode,G&&typeof G.onCommitFiberRoot=="function")try{G.onCommitFiberRoot(xe,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=U.T,h=re.p,re.p=2,U.T=null;try{for(var m=e.onRecoverableError,y=0;y<o.length;y++){var S=o[y];m(S.value,{componentStack:S.stack})}}finally{U.T=t,re.p=h}}(Ns&3)!==0&&ho(),nr(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Qu?Ri++:(Ri=0,Qu=e):Ri=0,Oi(0)}}function M0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,di(t)))}function ho(e){return R0(),O0(),D0(),L0()}function L0(){if(Qt!==5)return!1;var e=Jr,t=Ku;Ku=0;var s=Js(Ns),o=U.T,h=re.p;try{re.p=32>s?32:s,U.T=null,s=Xu,Xu=null;var m=Jr,y=Ns;if(Qt=0,_s=Jr=null,Ns=0,(ut&6)!==0)throw Error(l(331));var S=ut;if(ut|=4,b0(m.current),p0(m,m.current,y,s),ut=S,Oi(0,!1),G&&typeof G.onPostCommitFiberRoot=="function")try{G.onPostCommitFiberRoot(xe,m)}catch{}return!0}finally{re.p=h,U.T=o,M0(e,t)}}function U0(e,t,s){t=Ra(s,t),t=Au(e.stateNode,t,2),e=Vr(e,t,2),e!==null&&(pn(e,2),nr(e))}function xt(e,t,s){if(e.tag===3)U0(e,e,s);else for(;t!==null;){if(t.tag===3){U0(t,e,s);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qr===null||!Qr.has(o))){e=Ra(s,e),s=Pm(2),o=Vr(t,s,2),o!==null&&(Vm(s,o,t,e),pn(o,2),nr(o));break}}t=t.return}}function ed(e,t,s){var o=e.pingCache;if(o===null){o=e.pingCache=new by;var h=new Set;o.set(t,h)}else h=o.get(t),h===void 0&&(h=new Set,o.set(t,h));h.has(s)||(Iu=!0,h.add(s),e=_y.bind(null,e,t,s),t.then(e,e))}function _y(e,t,s){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,bt===e&&(at&s)===s&&(At===4||At===3&&(at&62914560)===at&&300>kt()-Yu?(ut&2)===0&&Ss(e,0):Gu|=s,js===at&&(js=0)),nr(e)}function B0(e,t){t===0&&(t=bl()),e=ls(e,t),e!==null&&(pn(e,t),nr(e))}function Ny(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),B0(e,s)}function Sy(e,t){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(t),B0(e,s)}function Ey(e,t){return nt(e,t)}var fo=null,Ts=null,td=!1,mo=!1,ad=!1,Dn=0;function nr(e){e!==Ts&&e.next===null&&(Ts===null?fo=Ts=e:Ts=Ts.next=e),mo=!0,td||(td=!0,Ay())}function Oi(e,t){if(!ad&&mo){ad=!0;do for(var s=!1,o=fo;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var y=o.suspendedLanes,S=o.pingedLanes;m=(1<<31-st(42|e)+1)-1,m&=h&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,V0(o,m))}else m=at,m=Wa(o,o===bt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Ta(o,m)||(s=!0,V0(o,m));o=o.next}while(s);ad=!1}}function Ty(){z0()}function z0(){mo=td=!1;var e=0;Dn!==0&&(Uy()&&(e=Dn),Dn=0);for(var t=kt(),s=null,o=fo;o!==null;){var h=o.next,m=$0(o,t);m===0?(o.next=null,s===null?fo=h:s.next=h,h===null&&(Ts=s)):(s=o,(e!==0||(m&3)!==0)&&(mo=!0)),o=h}Oi(e)}function $0(e,t){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var y=31-st(m),S=1<<y,k=h[y];k===-1?((S&s)===0||(S&o)!==0)&&(h[y]=mn(S,t)):k<=t&&(e.expiredLanes|=S),m&=~S}if(t=bt,s=at,s=Wa(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ta(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(o!==null&&lt(o),Js(s)){case 2:case 8:s=O;break;case 32:s=P;break;case 268435456:s=he;break;default:s=P}return o=P0.bind(null,e),s=nt(s,o),e.callbackPriority=t,e.callbackNode=s,t}return o!==null&&o!==null&&lt(o),e.callbackPriority=2,e.callbackNode=null,2}function P0(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ho()&&e.callbackNode!==s)return null;var o=at;return o=Wa(e,e===bt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(j0(e,o,t),$0(e,kt()),e.callbackNode!=null&&e.callbackNode===s?P0.bind(null,e):null)}function V0(e,t){if(ho())return null;j0(e,t,!0)}function Ay(){zy(function(){(ut&6)!==0?nt(ea,Ty):z0()})}function rd(){return Dn===0&&(Dn=Qn()),Dn}function H0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function q0(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function ky(e,t,s,o,h){if(t==="submit"&&s&&s.stateNode===h){var m=H0((h[de]||null).action),y=o.submitter;y&&(t=(t=y[de]||null)?H0(t.formAction):y.getAttribute("formAction"),t!==null&&(m=t,y=null));var S=new Al("action","action",null,o,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dn!==0){var k=y?q0(h,y):new FormData(h);_u(s,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=y?q0(h,y):new FormData(h),_u(s,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var nd=0;nd<Hc.length;nd++){var sd=Hc[nd],Cy=sd.toLowerCase(),Ry=sd[0].toUpperCase()+sd.slice(1);qa(Cy,"on"+Ry)}qa(jf,"onAnimationEnd"),qa(_f,"onAnimationIteration"),qa(Nf,"onAnimationStart"),qa("dblclick","onDoubleClick"),qa("focusin","onFocus"),qa("focusout","onBlur"),qa(Kv,"onTransitionRun"),qa(Xv,"onTransitionStart"),qa(Qv,"onTransitionCancel"),qa(Sf,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Di));function I0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;e:{var m=void 0;if(t)for(var y=o.length-1;0<=y;y--){var S=o[y],k=S.instance,V=S.currentTarget;if(S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=V;try{m(h)}catch(W){eo(W)}h.currentTarget=null,m=k}else for(y=0;y<o.length;y++){if(S=o[y],k=S.instance,V=S.currentTarget,S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=V;try{m(h)}catch(W){eo(W)}h.currentTarget=null,m=k}}}}function et(e,t){var s=t[Ue];s===void 0&&(s=t[Ue]=new Set);var o=e+"__bubble";s.has(o)||(G0(t,e,2,!1),s.add(o))}function id(e,t,s){var o=0;t&&(o|=4),G0(s,e,o,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[po]){e[po]=!0,ft.forEach(function(s){s!=="selectionchange"&&(Oy.has(s)||id(s,!1,e),id(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,id("selectionchange",!1,t))}}function G0(e,t,s,o){switch(pp(t)){case 2:var h=sw;break;case 8:h=iw;break;default:h=wd}s=h.bind(null,t,s,e),h=void 0,!kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function od(e,t,s,o,h){var m=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===h)break;if(y===4)for(y=o.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;S!==null;){if(y=Ke(S),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){o=m=y;continue e}S=S.parentNode}}o=o.return}Jh(function(){var V=m,W=Tc(s),se=[];e:{var q=Ef.get(e);if(q!==void 0){var F=Al,Ie=e;switch(e){case"keypress":if(El(s)===0)break e;case"keydown":case"keyup":F=Ev;break;case"focusin":Ie="focus",F=Dc;break;case"focusout":Ie="blur",F=Dc;break;case"beforeblur":case"afterblur":F=Dc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=kv;break;case jf:case _f:case Nf:F=xv;break;case Sf:F=Rv;break;case"scroll":case"scrollend":F=hv;break;case"wheel":F=Dv;break;case"copy":case"cut":case"paste":F=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=af;break;case"toggle":case"beforetoggle":F=Lv}var Ve=(t&4)!==0,gt=!Ve&&(e==="scroll"||e==="scrollend"),B=Ve?q!==null?q+"Capture":null:q;Ve=[];for(var M=V,$;M!==null;){var ee=M;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||B===null||(ee=Ws(M,B),ee!=null&&Ve.push(Mi(M,ee,$))),gt)break;M=M.return}0<Ve.length&&(q=new F(q,Ie,null,s,W),se.push({event:q,listeners:Ve}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&s!==Ec&&(Ie=s.relatedTarget||s.fromElement)&&(Ke(Ie)||Ie[Ee]))break e;if((F||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Ie=s.relatedTarget||s.toElement,F=V,Ie=Ie?Ke(Ie):null,Ie!==null&&(gt=u(Ie),Ve=Ie.tag,Ie!==gt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(F=null,Ie=V),F!==Ie)){if(Ve=ef,ee="onMouseLeave",B="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=af,ee="onPointerLeave",B="onPointerEnter",M="pointer"),gt=F==null?q:yt(F),$=Ie==null?q:yt(Ie),q=new Ve(ee,M+"leave",F,s,W),q.target=gt,q.relatedTarget=$,ee=null,Ke(W)===V&&(Ve=new Ve(B,M+"enter",Ie,s,W),Ve.target=$,Ve.relatedTarget=gt,ee=Ve),gt=ee,F&&Ie)t:{for(Ve=F,B=Ie,M=0,$=Ve;$;$=As($))M++;for($=0,ee=B;ee;ee=As(ee))$++;for(;0<M-$;)Ve=As(Ve),M--;for(;0<$-M;)B=As(B),$--;for(;M--;){if(Ve===B||B!==null&&Ve===B.alternate)break t;Ve=As(Ve),B=As(B)}Ve=null}else Ve=null;F!==null&&F0(se,q,F,Ve,!1),Ie!==null&&gt!==null&&F0(se,gt,Ie,Ve,!0)}}e:{if(q=V?yt(V):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Ne=df;else if(cf(q))if(hf)Ne=Gv;else{Ne=qv;var Qe=Hv}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&Sc(V.elementType)&&(Ne=df):Ne=Iv;if(Ne&&(Ne=Ne(e,V))){uf(se,Ne,s,W);break e}Qe&&Qe(e,q,V),e==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&Nc(q,"number",q.value)}switch(Qe=V?yt(V):window,e){case"focusin":(cf(Qe)||Qe.contentEditable==="true")&&(ns=Qe,$c=V,ii=null);break;case"focusout":ii=$c=ns=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,yf(se,s,W);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":yf(se,s,W)}var ze;if(Lc)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else rs?lf(e,s)&&(He="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(rf&&s.locale!=="ko"&&(rs||He!=="onCompositionStart"?He==="onCompositionEnd"&&rs&&(ze=Wh()):(Br=W,Cc="value"in Br?Br.value:Br.textContent,rs=!0)),Qe=go(V,He),0<Qe.length&&(He=new tf(He,e,null,s,W),se.push({event:He,listeners:Qe}),ze?He.data=ze:(ze=of(s),ze!==null&&(He.data=ze)))),(ze=Bv?zv(e,s):$v(e,s))&&(He=go(V,"onBeforeInput"),0<He.length&&(Qe=new tf("onBeforeInput","beforeinput",null,s,W),se.push({event:Qe,listeners:He}),Qe.data=ze)),ky(se,e,V,s,W)}I0(se,t)})}function Mi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function go(e,t){for(var s=t+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ws(e,s),h!=null&&o.unshift(Mi(e,h,m)),h=Ws(e,t),h!=null&&o.push(Mi(e,h,m))),e.tag===3)return o;e=e.return}return[]}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function F0(e,t,s,o,h){for(var m=t._reactName,y=[];s!==null&&s!==o;){var S=s,k=S.alternate,V=S.stateNode;if(S=S.tag,k!==null&&k===o)break;S!==5&&S!==26&&S!==27||V===null||(k=V,h?(V=Ws(s,m),V!=null&&y.unshift(Mi(s,V,k))):h||(V=Ws(s,m),V!=null&&y.push(Mi(s,V,k)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var Dy=/\r\n?/g,My=/\u0000|\uFFFD/g;function Y0(e){return(typeof e=="string"?e:""+e).replace(Dy,`
`).replace(My,"")}function K0(e,t){return t=Y0(t),Y0(e)===t}function xo(){}function pt(e,t,s,o,h,m){switch(s){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||es(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&es(e,""+o);break;case"className":fr(e,"class",o);break;case"tabIndex":fr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,s,o);break;case"style":Xh(e,o,m);break;case"data":if(t!=="object"){fr(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Nl(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(t!=="input"&&pt(e,t,"name",h.name,h,null),pt(e,t,"formEncType",h.formEncType,h,null),pt(e,t,"formMethod",h.formMethod,h,null),pt(e,t,"formTarget",h.formTarget,h,null)):(pt(e,t,"encType",h.encType,h,null),pt(e,t,"method",h.method,h,null),pt(e,t,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Nl(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=xo);break;case"onScroll":o!=null&&et("scroll",e);break;case"onScrollEnd":o!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Nl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":et("beforetoggle",e),et("toggle",e),hr(e,"popover",o);break;case"xlinkActuate":Ye(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ye(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ye(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ye(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ye(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ye(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uv.get(s)||s,hr(e,s,o))}}function cd(e,t,s,o,h,m){switch(s){case"style":Xh(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof o=="string"?es(e,o):(typeof o=="number"||typeof o=="bigint")&&es(e,""+o);break;case"onScroll":o!=null&&et("scroll",e);break;case"onScrollEnd":o!=null&&et("scrollend",e);break;case"onClick":o!=null&&(e.onclick=xo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),t=s.slice(2,h?s.length-7:void 0),m=e[de]||null,m=m!=null?m[s]:null,typeof m=="function"&&e.removeEventListener(t,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,o,h);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):hr(e,s,o)}}}function Jt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var o=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var y=s[m];if(y!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:pt(e,t,m,y,s,null)}}h&&pt(e,t,"srcSet",s.srcSet,s,null),o&&pt(e,t,"src",s.src,s,null);return;case"input":et("invalid",e);var S=m=y=h=null,k=null,V=null;for(o in s)if(s.hasOwnProperty(o)){var W=s[o];if(W!=null)switch(o){case"name":h=W;break;case"type":y=W;break;case"checked":k=W;break;case"defaultChecked":V=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,t));break;default:pt(e,t,o,W,s,null)}}Gh(e,m,S,k,V,y,h,!1),jl(e);return;case"select":et("invalid",e),o=y=m=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:pt(e,t,h,S,s,null)}t=m,s=y,e.multiple=!!o,t!=null?Zn(e,!!o,t,!1):s!=null&&Zn(e,!!o,s,!0);return;case"textarea":et("invalid",e),m=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(S=s[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:pt(e,t,y,S,s,null)}Yh(e,o,h,m),jl(e);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:pt(e,t,k,o,s,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(o=0;o<Di.length;o++)et(Di[o],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in s)if(s.hasOwnProperty(V)&&(o=s[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:pt(e,t,V,o,s,null)}return;default:if(Sc(t)){for(W in s)s.hasOwnProperty(W)&&(o=s[W],o!==void 0&&cd(e,t,W,o,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(o=s[S],o!=null&&pt(e,t,S,o,s,null))}function Ly(e,t,s,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,y=null,S=null,k=null,V=null,W=null;for(F in s){var se=s[F];if(s.hasOwnProperty(F)&&se!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":k=se;default:o.hasOwnProperty(F)||pt(e,t,F,null,o,se)}}for(var q in o){var F=o[q];if(se=s[q],o.hasOwnProperty(q)&&(F!=null||se!=null))switch(q){case"type":m=F;break;case"name":h=F;break;case"checked":V=F;break;case"defaultChecked":W=F;break;case"value":y=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,t));break;default:F!==se&&pt(e,t,q,F,o,se)}}_c(e,y,S,k,V,W,m,h);return;case"select":F=y=S=q=null;for(m in s)if(k=s[m],s.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":F=k;default:o.hasOwnProperty(m)||pt(e,t,m,null,o,k)}for(h in o)if(m=o[h],k=s[h],o.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":q=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==k&&pt(e,t,h,m,o,k)}t=S,s=y,o=F,q!=null?Zn(e,!!s,q,!1):!!o!=!!s&&(t!=null?Zn(e,!!s,t,!0):Zn(e,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(e,t,S,null,o,h)}for(y in o)if(h=o[y],m=s[y],o.hasOwnProperty(y)&&(h!=null||m!=null))switch(y){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==m&&pt(e,t,y,h,o,m)}Fh(e,q,F);return;case"option":for(var Ie in s)if(q=s[Ie],s.hasOwnProperty(Ie)&&q!=null&&!o.hasOwnProperty(Ie))switch(Ie){case"selected":e.selected=!1;break;default:pt(e,t,Ie,null,o,q)}for(k in o)if(q=o[k],F=s[k],o.hasOwnProperty(k)&&q!==F&&(q!=null||F!=null))switch(k){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:pt(e,t,k,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)q=s[Ve],s.hasOwnProperty(Ve)&&q!=null&&!o.hasOwnProperty(Ve)&&pt(e,t,Ve,null,o,q);for(V in o)if(q=o[V],F=s[V],o.hasOwnProperty(V)&&q!==F&&(q!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:pt(e,t,V,q,o,F)}return;default:if(Sc(t)){for(var gt in s)q=s[gt],s.hasOwnProperty(gt)&&q!==void 0&&!o.hasOwnProperty(gt)&&cd(e,t,gt,void 0,o,q);for(W in o)q=o[W],F=s[W],!o.hasOwnProperty(W)||q===F||q===void 0&&F===void 0||cd(e,t,W,q,o,F);return}}for(var B in s)q=s[B],s.hasOwnProperty(B)&&q!=null&&!o.hasOwnProperty(B)&&pt(e,t,B,null,o,q);for(se in o)q=o[se],F=s[se],!o.hasOwnProperty(se)||q===F||q==null&&F==null||pt(e,t,se,q,o,F)}var ud=null,dd=null;function bo(e){return e.nodeType===9?e:e.ownerDocument}function X0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function Uy(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,By=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(e){return W0.resolve(null).then(e).catch($y)}:J0;function $y(e){setTimeout(function(){throw e})}function Zr(e){return e==="head"}function Z0(e,t){var s=t,o=0,h=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<o&&8>o){s=o;var y=e.ownerDocument;if(s&1&&Li(y.documentElement),s&2&&Li(y.body),s&4)for(s=y.head,Li(s),y=s.firstChild;y;){var S=y.nextSibling,k=y.nodeName;y[Ae]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=S}}if(h===0){e.removeChild(m),qi(t);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=m}while(s);qi(t)}function md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),De(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Py(e,t,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ae])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ga(e.nextSibling),e===null)break}return null}function Vy(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ga(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Hy(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var o=function(){t(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var gd=null;function ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function tp(e,t,s){switch(t=bo(s),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Li(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);De(e)}var Ba=new Map,ap=new Set;function vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ar=re.d;re.d={f:qy,r:Iy,D:Gy,C:Fy,L:Yy,m:Ky,X:Qy,S:Xy,M:Jy};function qy(){var e=Ar.f(),t=co();return e||t}function Iy(e){var t=ot(e);t!==null&&t.tag===5&&t.type==="form"?jm(t):Ar.r(e)}var ks=typeof document>"u"?null:document;function rp(e,t,s){var o=ks;if(o&&typeof t=="string"&&t){var h=Ca(t);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),ap.has(h)||(ap.add(h),e={rel:e,crossOrigin:s,href:t},o.querySelector(h)===null&&(t=o.createElement("link"),Jt(t,"link",e),Fe(t),o.head.appendChild(t)))}}function Gy(e){Ar.D(e),rp("dns-prefetch",e,null)}function Fy(e,t){Ar.C(e,t),rp("preconnect",e,t)}function Yy(e,t,s){Ar.L(e,t,s);var o=ks;if(o&&e&&t){var h='link[rel="preload"][as="'+Ca(t)+'"]';t==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ca(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ca(s.imageSizes)+'"]')):h+='[href="'+Ca(e)+'"]';var m=h;switch(t){case"style":m=Cs(e);break;case"script":m=Rs(e)}Ba.has(m)||(e=x({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Ba.set(m,e),o.querySelector(h)!==null||t==="style"&&o.querySelector(Ui(m))||t==="script"&&o.querySelector(Bi(m))||(t=o.createElement("link"),Jt(t,"link",e),Fe(t),o.head.appendChild(t)))}}function Ky(e,t){Ar.m(e,t);var s=ks;if(s&&e){var o=t&&typeof t.as=="string"?t.as:"script",h='link[rel="modulepreload"][as="'+Ca(o)+'"][href="'+Ca(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rs(e)}if(!Ba.has(m)&&(e=x({rel:"modulepreload",href:e},t),Ba.set(m,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bi(m)))return}o=s.createElement("link"),Jt(o,"link",e),Fe(o),s.head.appendChild(o)}}}function Xy(e,t,s){Ar.S(e,t,s);var o=ks;if(o&&e){var h=Et(o).hoistableStyles,m=Cs(e);t=t||"default";var y=h.get(m);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Ui(m)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Ba.get(m))&&xd(e,s);var k=y=o.createElement("link");Fe(k),Jt(k,"link",e),k._p=new Promise(function(V,W){k.onload=V,k.onerror=W}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yo(y,t,o)}y={type:"stylesheet",instance:y,count:1,state:S},h.set(m,y)}}}function Qy(e,t){Ar.X(e,t);var s=ks;if(s&&e){var o=Et(s).hoistableScripts,h=Rs(e),m=o.get(h);m||(m=s.querySelector(Bi(h)),m||(e=x({src:e,async:!0},t),(t=Ba.get(h))&&bd(e,t),m=s.createElement("script"),Fe(m),Jt(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Jy(e,t){Ar.M(e,t);var s=ks;if(s&&e){var o=Et(s).hoistableScripts,h=Rs(e),m=o.get(h);m||(m=s.querySelector(Bi(h)),m||(e=x({src:e,async:!0,type:"module"},t),(t=Ba.get(h))&&bd(e,t),m=s.createElement("script"),Fe(m),Jt(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function np(e,t,s,o){var h=(h=ht.current)?vo(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Cs(s.href),s=Et(h).hoistableStyles,o=s.get(t),o||(o={type:"style",instance:null,count:0,state:null},s.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Cs(s.href);var m=Et(h).hoistableStyles,y=m.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,y),(m=h.querySelector(Ui(e)))&&!m._p&&(y.instance=m,y.state.loading=5),Ba.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ba.set(e,s),m||Wy(h,e,s,y.state))),t&&o===null)throw Error(l(528,""));return y}if(t&&o!==null)throw Error(l(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(s),s=Et(h).hoistableScripts,o=s.get(t),o||(o={type:"script",instance:null,count:0,state:null},s.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Cs(e){return'href="'+Ca(e)+'"'}function Ui(e){return'link[rel="stylesheet"]['+e+"]"}function sp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Wy(e,t,s,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Jt(t,"link",s),Fe(t),e.head.appendChild(t))}function Rs(e){return'[src="'+Ca(e)+'"]'}function Bi(e){return"script[async]"+e}function ip(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Ca(s.href)+'"]');if(o)return t.instance=o,Fe(o),o;var h=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Fe(o),Jt(o,"style",h),yo(o,s.precedence,e),t.instance=o;case"stylesheet":h=Cs(s.href);var m=e.querySelector(Ui(h));if(m)return t.state.loading|=4,t.instance=m,Fe(m),m;o=sp(s),(h=Ba.get(h))&&xd(o,h),m=(e.ownerDocument||e).createElement("link"),Fe(m);var y=m;return y._p=new Promise(function(S,k){y.onload=S,y.onerror=k}),Jt(m,"link",o),t.state.loading|=4,yo(m,s.precedence,e),t.instance=m;case"script":return m=Rs(s.src),(h=e.querySelector(Bi(m)))?(t.instance=h,Fe(h),h):(o=s,(h=Ba.get(m))&&(o=x({},s),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Fe(h),Jt(h,"link",o),e.head.appendChild(h),t.instance=h);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,yo(o,s.precedence,e));return t.instance}function yo(e,t,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===t)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wo=null;function lp(e,t,s){if(wo===null){var o=new Map,h=wo=new Map;h.set(s,o)}else h=wo,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var m=s[h];if(!(m[Ae]||m[le]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(t)||"";y=e+y;var S=o.get(y);S?S.push(m):o.set(y,[m])}}return o}function op(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Zy(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zi=null;function ew(){}function tw(e,t,s){if(zi===null)throw Error(l(475));var o=zi;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var h=Cs(s.href),m=e.querySelector(Ui(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=jo.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=m,Fe(m);return}m=e.ownerDocument||e,s=sp(s),(h=Ba.get(h))&&xd(s,h),m=m.createElement("link"),Fe(m);var y=m;y._p=new Promise(function(S,k){y.onload=S,y.onerror=k}),Jt(m,"link",s),t.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(o.count++,t=jo.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}function aw(){if(zi===null)throw Error(l(475));var e=zi;return e.stylesheets&&e.count===0&&vd(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&vd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function jo(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _o=null;function vd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_o=new Map,t.forEach(rw,e),_o=null,jo.call(e))}function rw(e,t){if(!(t.state.loading&4)){var s=_o.get(e);if(s)var o=s.get(null);else{s=new Map,_o.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var y=h[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=t.instance,y=h.getAttribute("data-precedence"),m=s.get(y)||o,m===o&&s.set(null,h),s.set(y,h),this.count++,o=jo.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),t.state.loading|=4}}var $i={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function nw(e,t,s,o,h,m,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function up(e,t,s,o,h,m,y,S,k,V,W,se){return e=new nw(e,t,s,y,S,k,V,se),t=1,m===!0&&(t|=24),m=ba(3,null,null,t),e.current=m,m.stateNode=e,t=eu(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:t},nu(m),e}function dp(e){return e?(e=os,e):os}function hp(e,t,s,o,h,m){h=dp(h),o.context===null?o.context=h:o.pendingContext=h,o=Pr(t),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Vr(e,o,t),s!==null&&(_a(s,e,t),pi(s,e,t))}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function yd(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function mp(e){if(e.tag===13){var t=ls(e,67108864);t!==null&&_a(t,e,67108864),yd(e,67108864)}}var No=!0;function sw(e,t,s,o){var h=U.T;U.T=null;var m=re.p;try{re.p=2,wd(e,t,s,o)}finally{re.p=m,U.T=h}}function iw(e,t,s,o){var h=U.T;U.T=null;var m=re.p;try{re.p=8,wd(e,t,s,o)}finally{re.p=m,U.T=h}}function wd(e,t,s,o){if(No){var h=jd(o);if(h===null)od(e,t,o,So,s),gp(e,o);else if(ow(h,e,t,s,o))o.stopPropagation();else if(gp(e,o),t&4&&-1<lw.indexOf(e)){for(;h!==null;){var m=ot(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Ha(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var k=1<<31-st(y);S.entanglements[1]|=k,y&=~k}nr(m),(ut&6)===0&&(lo=kt()+500,Oi(0))}}break;case 13:S=ls(m,2),S!==null&&_a(S,m,2),co(),yd(m,2)}if(m=jd(o),m===null&&od(e,t,o,So,s),m===h)break;h=m}h!==null&&o.stopPropagation()}else od(e,t,o,null,s)}}function jd(e){return e=Tc(e),_d(e)}var So=null;function _d(e){if(So=null,e=Ke(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=d(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return So=e,null}function pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case ea:return 2;case O:return 8;case P:case X:return 32;case he:return 268435456;default:return 32}default:return 32}}var Nd=!1,en=null,tn=null,an=null,Pi=new Map,Vi=new Map,rn=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Hi(e,t,s,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},t!==null&&(t=ot(t),t!==null&&mp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function ow(e,t,s,o,h){switch(t){case"focusin":return en=Hi(en,e,t,s,o,h),!0;case"dragenter":return tn=Hi(tn,e,t,s,o,h),!0;case"mouseover":return an=Hi(an,e,t,s,o,h),!0;case"pointerover":var m=h.pointerId;return Pi.set(m,Hi(Pi.get(m)||null,e,t,s,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vi.set(m,Hi(Vi.get(m)||null,e,t,s,o,h)),!0}return!1}function xp(e){var t=Ke(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=d(s),t!==null){e.blockedOn=t,z(e.priority,function(){if(s.tag===13){var o=ja();o=Qs(o);var h=ls(s,o);h!==null&&_a(h,s,o),yd(s,o)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=jd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ec=o,s.target.dispatchEvent(o),Ec=null}else return t=ot(s),t!==null&&mp(t),e.blockedOn=s,!1;t.shift()}return!0}function bp(e,t,s){Eo(e)&&s.delete(t)}function cw(){Nd=!1,en!==null&&Eo(en)&&(en=null),tn!==null&&Eo(tn)&&(tn=null),an!==null&&Eo(an)&&(an=null),Pi.forEach(bp),Vi.forEach(bp)}function To(e,t){e.blockedOn===t&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cw)))}var Ao=null;function vp(e){Ao!==e&&(Ao=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ao===e&&(Ao=null);for(var t=0;t<e.length;t+=3){var s=e[t],o=e[t+1],h=e[t+2];if(typeof o!="function"){if(_d(o||s)===null)continue;break}var m=ot(s);m!==null&&(e.splice(t,3),t-=3,_u(m,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qi(e){function t(k){return To(k,e)}en!==null&&To(en,e),tn!==null&&To(tn,e),an!==null&&To(an,e),Pi.forEach(t),Vi.forEach(t);for(var s=0;s<rn.length;s++){var o=rn[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<rn.length&&(s=rn[0],s.blockedOn===null);)xp(s),s.blockedOn===null&&rn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],y=h[de]||null;if(typeof m=="function")y||vp(s);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,y=m[de]||null)S=y.formAction;else if(_d(h)!==null)continue}else S=y.action;typeof S=="function"?s[o+1]=S:(s.splice(o,3),o-=3),vp(s)}}}function Sd(e){this._internalRoot=e}ko.prototype.render=Sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var s=t.current,o=ja();hp(s,o,e,t,null,null)},ko.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),co(),t[Ee]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=D();e={blockedOn:null,target:e,priority:t};for(var s=0;s<rn.length&&t!==0&&t<rn[s].priority;s++);rn.splice(s,0,e),s===0&&xp(e)}};var yp=a.version;if(yp!=="19.1.1")throw Error(l(527,yp,"19.1.1"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var uw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{xe=Co.inject(uw),G=Co}catch{}}return Ii.createRoot=function(e,t){if(!c(e))throw Error(l(299));var s=!1,o="",h=Um,m=Bm,y=zm,S=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(h=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=up(e,1,!1,null,null,s,o,h,m,y,S,null),e[Ee]=t.current,ld(e),new Sd(t)},Ii.hydrateRoot=function(e,t,s){if(!c(e))throw Error(l(299));var o=!1,h="",m=Um,y=Bm,S=zm,k=null,V=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&(V=s.formState)),t=up(e,1,!0,t,s??null,o,h,m,y,S,k,V),t.context=dp(null),s=t.current,o=ja(),o=Qs(o),h=Pr(o),h.callback=null,Vr(s,h,o),s=o,t.current.lanes=s,pn(t,s),nr(t),e[Ee]=t.current,ld(e),new ko(t)},Ii.version="19.1.1",Ii}var Sp;function yw(){if(Sp)return Ed.exports;Sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Ed.exports=vw(),Ed.exports}var ww=yw();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xg=r=>{throw TypeError(r)},jw=(r,a,n)=>a.has(r)||Xg("Cannot "+n),kd=(r,a,n)=>(jw(r,a,"read from private field"),n?n.call(r):a.get(r)),_w=(r,a,n)=>a.has(r)?Xg("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,n),Ep="popstate";function Nw(r={}){function a(l,c){let{pathname:u,search:d,hash:f}=l.location;return sl("",{pathname:u,search:d,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){return typeof c=="string"?c:hn(c)}return Ew(a,n,null,r)}function tt(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Vt(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function Tp(r,a){return{usr:r.state,key:r.key,idx:a}}function sl(r,a,n=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?fn(a):a,state:n,key:a&&a.key||l||Sw()}}function hn({pathname:r="/",search:a="",hash:n=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fn(r){let a={};if(r){let n=r.indexOf("#");n>=0&&(a.hash=r.substring(n),r=r.substring(0,n));let l=r.indexOf("?");l>=0&&(a.search=r.substring(l),r=r.substring(0,l)),r&&(a.pathname=r)}return a}function Ew(r,a,n,l={}){let{window:c=document.defaultView,v5Compat:u=!1}=l,d=c.history,f="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function w(){f="POP";let _=x(),E=_==null?null:_-g;g=_,p&&p({action:f,location:N.location,delta:E})}function v(_,E){f="PUSH";let A=sl(N.location,_,E);g=x()+1;let C=Tp(A,g),H=N.createHref(A);try{d.pushState(C,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;c.location.assign(H)}u&&p&&p({action:f,location:N.location,delta:1})}function b(_,E){f="REPLACE";let A=sl(N.location,_,E);g=x();let C=Tp(A,g),H=N.createHref(A);d.replaceState(C,"",H),u&&p&&p({action:f,location:N.location,delta:0})}function j(_){return Qg(_)}let N={get action(){return f},get location(){return r(c,d)},listen(_){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Ep,w),p=_,()=>{c.removeEventListener(Ep,w),p=null}},createHref(_){return a(c,_)},createURL:j,encodeLocation(_){let E=j(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(_){return d.go(_)}};return N}function Qg(r,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:hn(r);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=n+l),new URL(l,n)}var Wi,Ap=class{constructor(r){if(_w(this,Wi,new Map),r)for(let[a,n]of r)this.set(a,n)}get(r){if(kd(this,Wi).has(r))return kd(this,Wi).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,a){kd(this,Wi).set(r,a)}};Wi=new WeakMap;var Tw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Aw(r){return Tw.has(r)}var kw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Cw(r){return kw.has(r)}function Rw(r){return r.index===!0}function il(r,a,n=[],l={},c=!1){return r.map((u,d)=>{let f=[...n,String(d)],p=typeof u.id=="string"?u.id:f.join("-");if(tt(u.index!==!0||!u.children,"Cannot specify children on an index route"),tt(c||!l[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),Rw(u)){let g={...u,...a(u),id:p};return l[p]=g,g}else{let g={...u,...a(u),id:p,children:void 0};return l[p]=g,u.children&&(g.children=il(u.children,a,f,l,c)),g}})}function ln(r,a,n="/"){return qo(r,a,n,!1)}function qo(r,a,n,l){let c=typeof a=="string"?fn(a):a,u=$a(c.pathname||"/",n);if(u==null)return null;let d=Jg(r);Dw(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=Iw(u);f=Hw(d[p],g,l)}return f}function Ow(r,a){let{route:n,pathname:l,params:c}=r;return{id:n.id,pathname:l,params:c,data:a[n.id],loaderData:a[n.id],handle:n.handle}}function Jg(r,a=[],n=[],l="",c=!1){let u=(d,f,p=c,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&p)return;tt(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let w=or([l,x.relativePath]),v=n.concat(x);d.children&&d.children.length>0&&(tt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Jg(d.children,a,v,w,p)),!(d.path==null&&!d.index)&&a.push({path:w,score:Pw(w,d.index),routesMeta:v})};return r.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let p of Wg(d.path))u(d,f,!0,p)}),a}function Wg(r){let a=r.split("/");if(a.length===0)return[];let[n,...l]=a,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let d=Wg(l.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),c&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function Dw(r){r.sort((a,n)=>a.score!==n.score?n.score-a.score:Vw(a.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}var Mw=/^:[\w-]+$/,Lw=3,Uw=2,Bw=1,zw=10,$w=-2,kp=r=>r==="*";function Pw(r,a){let n=r.split("/"),l=n.length;return n.some(kp)&&(l+=$w),a&&(l+=Uw),n.filter(c=>!kp(c)).reduce((c,u)=>c+(Mw.test(u)?Lw:u===""?Bw:zw),l)}function Vw(r,a){return r.length===a.length&&r.slice(0,-1).every((l,c)=>l===a[c])?r[r.length-1]-a[a.length-1]:0}function Hw(r,a,n=!1){let{routesMeta:l}=r,c={},u="/",d=[];for(let f=0;f<l.length;++f){let p=l[f],g=f===l.length-1,x=u==="/"?a:a.slice(u.length)||"/",w=Zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),v=p.route;if(!w&&g&&n&&!l[l.length-1].route.index&&(w=Zo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(c,w.params),d.push({params:c,pathname:or([u,w.pathname]),pathnameBase:Kw(or([u,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(u=or([u,w.pathnameBase]))}return d}function Zo(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,l]=qw(r.path,r.caseSensitive,r.end),c=a.match(n);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:l.reduce((g,{paramName:x,isOptional:w},v)=>{if(x==="*"){let j=f[v]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const b=f[v];return w&&!b?g[x]=void 0:g[x]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function qw(r,a=!1,n=!0){Vt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(l.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function Iw(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Vt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function $a(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,l=r.charAt(n);return l&&l!=="/"?null:r.slice(n)||"/"}function Gw({basename:r,pathname:a}){return a==="/"?r:or([r,a])}function Fw(r,a="/"){let{pathname:n,search:l="",hash:c=""}=typeof r=="string"?fn(r):r;return{pathname:n?n.startsWith("/")?n:Yw(n,a):a,search:Xw(l),hash:Qw(c)}}function Yw(r,a){let n=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Cd(r,a,n,l){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zg(r){return r.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function gh(r){let a=Zg(r);return a.map((n,l)=>l===a.length-1?n.pathname:n.pathnameBase)}function xh(r,a,n,l=!1){let c;typeof r=="string"?c=fn(r):(c={...r},tt(!c.pathname||!c.pathname.includes("?"),Cd("?","pathname","search",c)),tt(!c.pathname||!c.pathname.includes("#"),Cd("#","pathname","hash",c)),tt(!c.search||!c.search.includes("#"),Cd("#","search","hash",c)));let u=r===""||c.pathname==="",d=u?"/":c.pathname,f;if(d==null)f=n;else{let w=a.length-1;if(!l&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),w-=1;c.pathname=v.join("/")}f=w>=0?a[w]:"/"}let p=Fw(c,f),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),Kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Qw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ec=class{constructor(r,a,n,l=!1){this.status=r,this.statusText=a||"",this.internal=l,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ll(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ex=["POST","PUT","PATCH","DELETE"],Jw=new Set(ex),Ww=["GET",...ex],Zw=new Set(Ww),e1=new Set([301,302,303,307,308]),t1=new Set([307,308]),Rd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bh=r=>r1.test(r),n1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),tx="remix-router-transitions",ax=Symbol("ResetLoaderData");function s1(r){const a=r.window?r.window:typeof window<"u"?window:void 0,n=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=r.hydrationRouteProperties||[],c=r.mapRouteProperties||n1,u={},d=il(r.routes,c,void 0,u),f,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=r.dataStrategy||u1,x={...r.future},w=null,v=new Set,b=null,j=null,N=null,_=r.hydrationData!=null,E=ln(d,r.history.location,p),A=!1,C=null,H;if(E==null&&!r.patchRoutesOnNavigation){let D=za(404,{pathname:r.history.location.pathname}),{matches:z,route:Y}=Ro(d);H=!0,E=z,C={[Y.id]:D}}else if(E&&!r.hydrationData&&gn(E,d,r.history.location.pathname).active&&(E=null),E)if(E.some(D=>D.route.lazy))H=!1;else if(!E.some(D=>D.route.loader))H=!0;else{let D=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let Y=E.findIndex(le=>z[le.route.id]!==void 0);H=E.slice(0,Y+1).every(le=>!Yd(le.route,D,z))}else H=E.every(Y=>!Yd(Y.route,D,z))}else{H=!1,E=[];let D=gn(null,d,r.history.location.pathname);D.active&&D.matches&&(A=!0,E=D.matches)}let K,R={historyAction:r.history.action,location:r.history.location,matches:E,initialized:H,navigation:Rd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||C,fetchers:new Map,blockers:new Map},te="POP",ge=!1,me,ce=!1,we=new Map,pe=null,I=!1,ae=!1,Z=new Set,U=new Map,re=0,Q=-1,J=new Map,ie=new Set,ye=new Map,Ce=new Map,Re=new Set,Se=new Map,Je,ht=null;function ne(){if(w=r.history.listen(({action:D,location:z,delta:Y})=>{if(Je){Je(),Je=void 0;return}Vt(Se.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=mn({currentLocation:R.location,nextLocation:z,historyAction:D});if(le&&Y!=null){let de=new Promise(Ee=>{Je=Ee});r.history.go(Y*-1),Ta(le,{state:"blocked",location:z,proceed(){Ta(le,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),de.then(()=>r.history.go(Y))},reset(){let Ee=new Map(R.blockers);Ee.set(le,Gi),ve({blockers:Ee})}});return}return lt(D,z)}),n){S1(a,we);let D=()=>E1(a,we);a.addEventListener("pagehide",D),pe=()=>a.removeEventListener("pagehide",D)}return R.initialized||lt("POP",R.location,{initialHydration:!0}),K}function je(){w&&w(),pe&&pe(),v.clear(),me&&me.abort(),R.fetchers.forEach((D,z)=>st(z)),R.blockers.forEach((D,z)=>Wa(z))}function be(D){return v.add(D),()=>v.delete(D)}function ve(D,z={}){D.matches&&(D.matches=D.matches.map(de=>{let Ee=u[de.route.id],Ue=de.route;return Ue.element!==Ee.element||Ue.errorElement!==Ee.errorElement||Ue.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...de,route:Ee}:de})),R={...R,...D};let Y=[],le=[];R.fetchers.forEach((de,Ee)=>{de.state==="idle"&&(Re.has(Ee)?Y.push(Ee):le.push(Ee))}),Re.forEach(de=>{!R.fetchers.has(de)&&!U.has(de)&&Y.push(de)}),[...v].forEach(de=>de(R,{deletedFetchers:Y,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),Y.forEach(de=>st(de)),le.forEach(de=>R.fetchers.delete(de))}function Le(D,z,{flushSync:Y}={}){let le=R.actionData!=null&&R.navigation.formMethod!=null&&fa(R.navigation.formMethod)&&R.navigation.state==="loading"&&D.state?._isRedirect!==!0,de;z.actionData?Object.keys(z.actionData).length>0?de=z.actionData:de=null:le?de=R.actionData:de=null;let Ee=z.loaderData?$p(R.loaderData,z.loaderData,z.matches||[],z.errors):R.loaderData,Ue=R.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Ae,De)=>Ue.set(De,Gi)));let Te=I?!1:vl(D,z.matches||R.matches),$e=ge===!0||R.navigation.formMethod!=null&&fa(R.navigation.formMethod)&&D.state?._isRedirect!==!0;f&&(d=f,f=void 0),I||te==="POP"||(te==="PUSH"?r.history.push(D,D.state):te==="REPLACE"&&r.history.replace(D,D.state));let Pe;if(te==="POP"){let Ae=we.get(R.location.pathname);Ae&&Ae.has(D.pathname)?Pe={currentLocation:R.location,nextLocation:D}:we.has(D.pathname)&&(Pe={currentLocation:D,nextLocation:R.location})}else if(ce){let Ae=we.get(R.location.pathname);Ae?Ae.add(D.pathname):(Ae=new Set([D.pathname]),we.set(R.location.pathname,Ae)),Pe={currentLocation:R.location,nextLocation:D}}ve({...z,actionData:de,loaderData:Ee,historyAction:te,location:D,initialized:!0,navigation:Rd,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:$e,blockers:Ue},{viewTransitionOpts:Pe,flushSync:Y===!0}),te="POP",ge=!1,ce=!1,I=!1,ae=!1,ht?.resolve(),ht=null}async function We(D,z){if(typeof D=="number"){r.history.go(D);return}let Y=Fd(R.location,R.matches,p,D,z?.fromRouteId,z?.relative),{path:le,submission:de,error:Ee}=Cp(!1,Y,z),Ue=R.location,Te=sl(R.location,le,z&&z.state);Te={...Te,...r.history.encodeLocation(Te)};let $e=z&&z.replace!=null?z.replace:void 0,Pe="PUSH";$e===!0?Pe="REPLACE":$e===!1||de!=null&&fa(de.formMethod)&&de.formAction===R.location.pathname+R.location.search&&(Pe="REPLACE");let Ae=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,De=(z&&z.flushSync)===!0,Ke=mn({currentLocation:Ue,nextLocation:Te,historyAction:Pe});if(Ke){Ta(Ke,{state:"blocked",location:Te,proceed(){Ta(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),We(D,z)},reset(){let ot=new Map(R.blockers);ot.set(Ke,Gi),ve({blockers:ot})}});return}await lt(Pe,Te,{submission:de,pendingError:Ee,preventScrollReset:Ae,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:De})}function nt(){ht||(ht=T1()),ue(),ve({revalidation:"loading"});let D=ht.promise;return R.navigation.state==="submitting"?D:R.navigation.state==="idle"?(lt(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),D):(lt(te||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:ce===!0}),D)}async function lt(D,z,Y){me&&me.abort(),me=null,te=D,I=(Y&&Y.startUninterruptedRevalidation)===!0,pn(R.location,R.matches),ge=(Y&&Y.preventScrollReset)===!0,ce=(Y&&Y.enableViewTransition)===!0;let le=f||d,de=Y&&Y.overrideNavigation,Ee=Y?.initialHydration&&R.matches&&R.matches.length>0&&!A?R.matches:ln(le,z,p),Ue=(Y&&Y.flushSync)===!0;if(Ee&&R.initialized&&!ae&&b1(R.location,z)&&!(Y&&Y.submission&&fa(Y.submission.formMethod))){Le(z,{matches:Ee},{flushSync:Ue});return}let Te=gn(Ee,le,z.pathname);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){let{error:Et,notFoundMatches:Fe,route:ft}=Qn(z.pathname);Le(z,{matches:Fe,loaderData:{},errors:{[ft.id]:Et}},{flushSync:Ue});return}me=new AbortController;let $e=Bs(r.history,z,me.signal,Y&&Y.submission),Pe=r.unstable_getContext?await r.unstable_getContext():new Ap,Ae;if(Y&&Y.pendingError)Ae=[on(Ee).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&fa(Y.submission.formMethod)){let Et=await Be($e,z,Y.submission,Ee,Pe,Te.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Ue});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[Fe,ft]=Et.pendingActionResult;if(Sa(ft)&&ll(ft.error)&&ft.error.status===404){me=null,Le(z,{matches:Et.matches,loaderData:{},errors:{[Fe]:ft.error}});return}}Ee=Et.matches||Ee,Ae=Et.pendingActionResult,de=Od(z,Y.submission),Ue=!1,Te.active=!1,$e=Bs(r.history,$e.url,$e.signal)}let{shortCircuited:De,matches:Ke,loaderData:ot,errors:yt}=await Oe($e,z,Ee,Pe,Te.active,de,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ue,Ae);De||(me=null,Le(z,{matches:Ke||Ee,...Pp(Ae),loaderData:ot,errors:yt}))}async function Be(D,z,Y,le,de,Ee,Ue,Te={}){ue();let $e=_1(z,Y);if(ve({navigation:$e},{flushSync:Te.flushSync===!0}),Ee){let De=await xn(le,z.pathname,D.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){if(De.partialMatches.length===0){let{matches:ot,route:yt}=Ro(d);return{matches:ot,pendingActionResult:[yt.id,{type:"error",error:De.error}]}}let Ke=on(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Ke,{type:"error",error:De.error}]}}else if(De.matches)le=De.matches;else{let{notFoundMatches:Ke,error:ot,route:yt}=Qn(z.pathname);return{matches:Ke,pendingActionResult:[yt.id,{type:"error",error:ot}]}}}let Pe,Ae=Io(le,z);if(!Ae.route.action&&!Ae.route.lazy)Pe={type:"error",error:za(405,{method:D.method,pathname:z.pathname,routeId:Ae.route.id})};else{let De=Vs(c,u,D,le,Ae,Ue?[]:l,de),Ke=await he(D,De,de,null);if(Pe=Ke[Ae.route.id],!Pe){for(let ot of le)if(Ke[ot.route.id]){Pe=Ke[ot.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(Hn(Pe)){let De;return Te&&Te.replace!=null?De=Te.replace:De=Up(Pe.response.headers.get("Location"),new URL(D.url),p)===R.location.pathname+R.location.search,await X(D,Pe,!0,{submission:Y,replace:De}),{shortCircuited:!0}}if(Sa(Pe)){let De=on(le,Ae.route.id);return(Te&&Te.replace)!==!0&&(te="PUSH"),{matches:le,pendingActionResult:[De.route.id,Pe,Ae.route.id]}}return{matches:le,pendingActionResult:[Ae.route.id,Pe]}}async function Oe(D,z,Y,le,de,Ee,Ue,Te,$e,Pe,Ae,De){let Ke=Ee||Od(z,Ue),ot=Ue||Te||Hp(Ke),yt=!I&&!Pe;if(de){if(yt){let Mt=kt(De);ve({navigation:Ke,...Mt!==void 0?{actionData:Mt}:{}},{flushSync:Ae})}let Ye=await xn(Y,z.pathname,D.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:mr,route:ia}=Ro(d);return{matches:mr,loaderData:{},errors:{[ia.id]:Ye.error}}}let Mt=on(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[Mt]:Ye.error}}}else if(Ye.matches)Y=Ye.matches;else{let{error:Mt,notFoundMatches:mr,route:ia}=Qn(z.pathname);return{matches:mr,loaderData:{},errors:{[ia.id]:Mt}}}}let Et=f||d,{dsMatches:Fe,revalidatingFetchers:ft}=Rp(D,le,c,u,r.history,R,Y,ot,z,Pe?[]:l,Pe===!0,ae,Z,Re,ye,ie,Et,p,r.patchRoutesOnNavigation!=null,De);if(Q=++re,!r.dataStrategy&&!Fe.some(Ye=>Ye.shouldLoad)&&!Fe.some(Ye=>Ye.route.unstable_middleware)&&ft.length===0){let Ye=Pa();return Le(z,{matches:Y,loaderData:{},errors:De&&Sa(De[1])?{[De[0]]:De[1].error}:null,...Pp(De),...Ye?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Ae}),{shortCircuited:!0}}if(yt){let Ye={};if(!de){Ye.navigation=Ke;let Mt=kt(De);Mt!==void 0&&(Ye.actionData=Mt)}ft.length>0&&(Ye.fetchers=Mr(ft)),ve(Ye,{flushSync:Ae})}ft.forEach(Ye=>{Ht(Ye.key),Ye.controller&&U.set(Ye.key,Ye.controller)});let Za=()=>ft.forEach(Ye=>Ht(Ye.key));me&&me.signal.addEventListener("abort",Za);let{loaderResults:ga,fetcherResults:ra}=await fe(Fe,ft,D,le);if(D.signal.aborted)return{shortCircuited:!0};me&&me.signal.removeEventListener("abort",Za),ft.forEach(Ye=>U.delete(Ye.key));let Aa=Oo(ga);if(Aa)return await X(D,Aa.result,!0,{replace:$e}),{shortCircuited:!0};if(Aa=Oo(ra),Aa)return ie.add(Aa.key),await X(D,Aa.result,!0,{replace:$e}),{shortCircuited:!0};let{loaderData:Wn,errors:Lr}=zp(R,Y,ga,De,ft,ra);Pe&&R.errors&&(Lr={...R.errors,...Lr});let dr=Pa(),hr=Va(Q),fr=dr||hr||ft.length>0;return{matches:Y,loaderData:Wn,errors:Lr,...fr?{fetchers:new Map(R.fetchers)}:{}}}function kt(D){if(D&&!Sa(D[1]))return{[D[0]]:D[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Mr(D){return D.forEach(z=>{let Y=R.fetchers.get(z.key),le=Fi(void 0,Y?Y.data:void 0);R.fetchers.set(z.key,le)}),new Map(R.fetchers)}async function ea(D,z,Y,le){Ht(D);let de=(le&&le.flushSync)===!0,Ee=f||d,Ue=Fd(R.location,R.matches,p,Y,z,le?.relative),Te=ln(Ee,Ue,p),$e=gn(Te,Ee,Ue);if($e.active&&$e.matches&&(Te=$e.matches),!Te){G(D,z,za(404,{pathname:Ue}),{flushSync:de});return}let{path:Pe,submission:Ae,error:De}=Cp(!0,Ue,le);if(De){G(D,z,De,{flushSync:de});return}let Ke=r.unstable_getContext?await r.unstable_getContext():new Ap,ot=(le&&le.preventScrollReset)===!0;if(Ae&&fa(Ae.formMethod)){await O(D,z,Pe,Te,Ke,$e.active,de,ot,Ae);return}ye.set(D,{routeId:z,path:Pe}),await P(D,z,Pe,Te,Ke,$e.active,de,ot,Ae)}async function O(D,z,Y,le,de,Ee,Ue,Te,$e){ue(),ye.delete(D);let Pe=R.fetchers.get(D);xe(D,N1($e,Pe),{flushSync:Ue});let Ae=new AbortController,De=Bs(r.history,Y,Ae.signal,$e);if(Ee){let Nt=await xn(le,new URL(De.url).pathname,De.signal,D);if(Nt.type==="aborted")return;if(Nt.type==="error"){G(D,z,Nt.error,{flushSync:Ue});return}else if(Nt.matches)le=Nt.matches;else{G(D,z,za(404,{pathname:Y}),{flushSync:Ue});return}}let Ke=Io(le,Y);if(!Ke.route.action&&!Ke.route.lazy){let Nt=za(405,{method:$e.formMethod,pathname:Y,routeId:z});G(D,z,Nt,{flushSync:Ue});return}U.set(D,Ae);let ot=re,yt=Vs(c,u,De,le,Ke,l,de),Fe=(await he(De,yt,de,D))[Ke.route.id];if(De.signal.aborted){U.get(D)===Ae&&U.delete(D);return}if(Re.has(D)){if(Hn(Fe)||Sa(Fe)){xe(D,sn(void 0));return}}else{if(Hn(Fe))if(U.delete(D),Q>ot){xe(D,sn(void 0));return}else return ie.add(D),xe(D,Fi($e)),X(De,Fe,!1,{fetcherSubmission:$e,preventScrollReset:Te});if(Sa(Fe)){G(D,z,Fe.error);return}}let ft=R.navigation.location||R.location,Za=Bs(r.history,ft,Ae.signal),ga=f||d,ra=R.navigation.state!=="idle"?ln(ga,R.navigation.location,p):R.matches;tt(ra,"Didn't find any matches after fetcher action");let Aa=++re;J.set(D,Aa);let Wn=Fi($e,Fe.data);R.fetchers.set(D,Wn);let{dsMatches:Lr,revalidatingFetchers:dr}=Rp(Za,de,c,u,r.history,R,ra,$e,ft,l,!1,ae,Z,Re,ye,ie,ga,p,r.patchRoutesOnNavigation!=null,[Ke.route.id,Fe]);dr.filter(Nt=>Nt.key!==D).forEach(Nt=>{let Ur=Nt.key,yl=R.fetchers.get(Ur),wl=Fi(void 0,yl?yl.data:void 0);R.fetchers.set(Ur,wl),Ht(Ur),Nt.controller&&U.set(Ur,Nt.controller)}),ve({fetchers:new Map(R.fetchers)});let hr=()=>dr.forEach(Nt=>Ht(Nt.key));Ae.signal.addEventListener("abort",hr);let{loaderResults:fr,fetcherResults:Ye}=await fe(Lr,dr,Za,de);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",hr),J.delete(D),U.delete(D),dr.forEach(Nt=>U.delete(Nt.key)),R.fetchers.has(D)){let Nt=sn(Fe.data);R.fetchers.set(D,Nt)}let Mt=Oo(fr);if(Mt)return X(Za,Mt.result,!1,{preventScrollReset:Te});if(Mt=Oo(Ye),Mt)return ie.add(Mt.key),X(Za,Mt.result,!1,{preventScrollReset:Te});let{loaderData:mr,errors:ia}=zp(R,ra,fr,void 0,dr,Ye);Va(Aa),R.navigation.state==="loading"&&Aa>Q?(tt(te,"Expected pending action"),me&&me.abort(),Le(R.navigation.location,{matches:ra,loaderData:mr,errors:ia,fetchers:new Map(R.fetchers)})):(ve({errors:ia,loaderData:$p(R.loaderData,mr,ra,ia),fetchers:new Map(R.fetchers)}),ae=!1)}async function P(D,z,Y,le,de,Ee,Ue,Te,$e){let Pe=R.fetchers.get(D);xe(D,Fi($e,Pe?Pe.data:void 0),{flushSync:Ue});let Ae=new AbortController,De=Bs(r.history,Y,Ae.signal);if(Ee){let ft=await xn(le,new URL(De.url).pathname,De.signal,D);if(ft.type==="aborted")return;if(ft.type==="error"){G(D,z,ft.error,{flushSync:Ue});return}else if(ft.matches)le=ft.matches;else{G(D,z,za(404,{pathname:Y}),{flushSync:Ue});return}}let Ke=Io(le,Y);U.set(D,Ae);let ot=re,yt=Vs(c,u,De,le,Ke,l,de),Fe=(await he(De,yt,de,D))[Ke.route.id];if(U.get(D)===Ae&&U.delete(D),!De.signal.aborted){if(Re.has(D)){xe(D,sn(void 0));return}if(Hn(Fe))if(Q>ot){xe(D,sn(void 0));return}else{ie.add(D),await X(De,Fe,!1,{preventScrollReset:Te});return}if(Sa(Fe)){G(D,z,Fe.error);return}xe(D,sn(Fe.data))}}async function X(D,z,Y,{submission:le,fetcherSubmission:de,preventScrollReset:Ee,replace:Ue}={}){z.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let Te=z.response.headers.get("Location");tt(Te,"Expected a Location header on the redirect Response"),Te=Up(Te,new URL(D.url),p);let $e=sl(R.location,Te,{_isRedirect:!0});if(n){let yt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(bh(Te)){const Et=Qg(Te,!0);yt=Et.origin!==a.location.origin||$a(Et.pathname,p)==null}if(yt){Ue?a.location.replace(Te):a.location.assign(Te);return}}me=null;let Pe=Ue===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:De,formEncType:Ke}=R.navigation;!le&&!de&&Ae&&De&&Ke&&(le=Hp(R.navigation));let ot=le||de;if(t1.has(z.response.status)&&ot&&fa(ot.formMethod))await lt(Pe,$e,{submission:{...ot,formAction:Te},preventScrollReset:Ee||ge,enableViewTransition:Y?ce:void 0});else{let yt=Od($e,le);await lt(Pe,$e,{overrideNavigation:yt,fetcherSubmission:de,preventScrollReset:Ee||ge,enableViewTransition:Y?ce:void 0})}}async function he(D,z,Y,le){let de,Ee={};try{de=await h1(g,D,z,le,Y,!1)}catch(Ue){return z.filter(Te=>Te.shouldLoad).forEach(Te=>{Ee[Te.route.id]={type:"error",error:Ue}}),Ee}if(D.signal.aborted)return Ee;for(let[Ue,Te]of Object.entries(de))if(w1(Te)){let $e=Te.result;Ee[Ue]={type:"redirect",response:g1($e,D,Ue,z,p)}}else Ee[Ue]=await p1(Te);return Ee}async function fe(D,z,Y,le){let de=he(Y,D,le,null),Ee=Promise.all(z.map(async $e=>{if($e.matches&&$e.match&&$e.request&&$e.controller){let Ae=(await he($e.request,$e.matches,le,$e.key))[$e.match.route.id];return{[$e.key]:Ae}}else return Promise.resolve({[$e.key]:{type:"error",error:za(404,{pathname:$e.path})}})})),Ue=await de,Te=(await Ee).reduce(($e,Pe)=>Object.assign($e,Pe),{});return{loaderResults:Ue,fetcherResults:Te}}function ue(){ae=!0,ye.forEach((D,z)=>{U.has(z)&&Z.add(z),Ht(z)})}function xe(D,z,Y={}){R.fetchers.set(D,z),ve({fetchers:new Map(R.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function G(D,z,Y,le={}){let de=on(R.matches,z);st(D),ve({errors:{[de.route.id]:Y},fetchers:new Map(R.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Ge(D){return Ce.set(D,(Ce.get(D)||0)+1),Re.has(D)&&Re.delete(D),R.fetchers.get(D)||a1}function st(D){let z=R.fetchers.get(D);U.has(D)&&!(z&&z.state==="loading"&&J.has(D))&&Ht(D),ye.delete(D),J.delete(D),ie.delete(D),Re.delete(D),Z.delete(D),R.fetchers.delete(D)}function Ja(D){let z=(Ce.get(D)||0)-1;z<=0?(Ce.delete(D),Re.add(D)):Ce.set(D,z),ve({fetchers:new Map(R.fetchers)})}function Ht(D){let z=U.get(D);z&&(z.abort(),U.delete(D))}function Xn(D){for(let z of D){let Y=Ge(z),le=sn(Y.data);R.fetchers.set(z,le)}}function Pa(){let D=[],z=!1;for(let Y of ie){let le=R.fetchers.get(Y);tt(le,`Expected fetcher: ${Y}`),le.state==="loading"&&(ie.delete(Y),D.push(Y),z=!0)}return Xn(D),z}function Va(D){let z=[];for(let[Y,le]of J)if(le<D){let de=R.fetchers.get(Y);tt(de,`Expected fetcher: ${Y}`),de.state==="loading"&&(Ht(Y),J.delete(Y),z.push(Y))}return Xn(z),z.length>0}function Ha(D,z){let Y=R.blockers.get(D)||Gi;return Se.get(D)!==z&&Se.set(D,z),Y}function Wa(D){R.blockers.delete(D),Se.delete(D)}function Ta(D,z){let Y=R.blockers.get(D)||Gi;tt(Y.state==="unblocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="proceeding"||Y.state==="blocked"&&z.state==="unblocked"||Y.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${z.state}`);let le=new Map(R.blockers);le.set(D,z),ve({blockers:le})}function mn({currentLocation:D,nextLocation:z,historyAction:Y}){if(Se.size===0)return;Se.size>1&&Vt(!1,"A router only supports one blocker at a time");let le=Array.from(Se.entries()),[de,Ee]=le[le.length-1],Ue=R.blockers.get(de);if(!(Ue&&Ue.state==="proceeding")&&Ee({currentLocation:D,nextLocation:z,historyAction:Y}))return de}function Qn(D){let z=za(404,{pathname:D}),Y=f||d,{matches:le,route:de}=Ro(Y);return{notFoundMatches:le,route:de,error:z}}function bl(D,z,Y){if(b=D,N=z,j=Y||null,!_&&R.navigation===Rd){_=!0;let le=vl(R.location,R.matches);le!=null&&ve({restoreScrollPosition:le})}return()=>{b=null,N=null,j=null}}function Jn(D,z){return j&&j(D,z.map(le=>Ow(le,R.loaderData)))||D.key}function pn(D,z){if(b&&N){let Y=Jn(D,z);b[Y]=N()}}function vl(D,z){if(b){let Y=Jn(D,z),le=b[Y];if(typeof le=="number")return le}return null}function gn(D,z,Y){if(r.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:qo(z,Y,p,!0)}}else return{active:!0,matches:qo(z,Y,p,!0)||[]};return{active:!1,matches:null}}async function xn(D,z,Y,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:D};let de=D;for(;;){let Ee=f==null,Ue=f||d,Te=u;try{await r.patchRoutesOnNavigation({signal:Y,path:z,matches:de,fetcherKey:le,patch:(Ae,De)=>{Y.aborted||Op(Ae,De,Ue,Te,c,!1)}})}catch(Ae){return{type:"error",error:Ae,partialMatches:de}}finally{Ee&&!Y.aborted&&(d=[...d])}if(Y.aborted)return{type:"aborted"};let $e=ln(Ue,z,p);if($e)return{type:"success",matches:$e};let Pe=qo(Ue,z,p,!0);if(!Pe||de.length===Pe.length&&de.every((Ae,De)=>Ae.route.id===Pe[De].route.id))return{type:"success",matches:null};de=Pe}}function Qs(D){u={},f=il(D,c,void 0,u)}function Js(D,z,Y=!1){let le=f==null;Op(D,z,f||d,u,c,Y),le&&(d=[...d],ve({}))}return K={get basename(){return p},get future(){return x},get state(){return R},get routes(){return d},get window(){return a},initialize:ne,subscribe:be,enableScrollRestoration:bl,navigate:We,fetch:ea,revalidate:nt,createHref:D=>r.history.createHref(D),encodeLocation:D=>r.history.encodeLocation(D),getFetcher:Ge,deleteFetcher:Ja,dispose:je,getBlocker:Ha,deleteBlocker:Wa,patchRoutes:Js,_internalFetchControllers:U,_internalSetRoutes:Qs,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){ve(D)}},K}function i1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Fd(r,a,n,l,c,u){let d,f;if(c){d=[];for(let g of a)if(d.push(g),g.route.id===c){f=g;break}}else d=a,f=a[a.length-1];let p=xh(l||".",gh(d),$a(r.pathname,n)||r.pathname,u==="path");if(l==null&&(p.search=r.search,p.hash=r.hash),(l==null||l===""||l===".")&&f){let g=vh(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let x=new URLSearchParams(p.search),w=x.getAll("index");x.delete("index"),w.filter(b=>b).forEach(b=>x.append("index",b));let v=x.toString();p.search=v?`?${v}`:""}}return n!=="/"&&(p.pathname=Gw({basename:n,pathname:p.pathname})),hn(p)}function Cp(r,a,n){if(!n||!i1(n))return{path:a};if(n.formMethod&&!j1(n.formMethod))return{path:a,error:za(405,{method:n.formMethod})};let l=()=>({path:a,error:za(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),d=ox(a);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fa(u))return l();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[b,j])=>`${v}${b}=${j}
`,""):String(n.body);return{path:a,submission:{formMethod:u,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!fa(u))return l();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:a,submission:{formMethod:u,formAction:d,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return l()}}}tt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=Xd(n.formData),p=n.formData;else if(n.body instanceof FormData)f=Xd(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=Bp(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=Bp(f)}catch{return l()}let g={formMethod:u,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(fa(g.formMethod))return{path:a,submission:g};let x=fn(a);return r&&x.search&&vh(x.search)&&f.append("index",""),x.search=`?${f}`,{path:hn(x),submission:g}}function Rp(r,a,n,l,c,u,d,f,p,g,x,w,v,b,j,N,_,E,A,C){let H=C?Sa(C[1])?C[1].error:C[1].data:void 0,K=c.createURL(u.location),R=c.createURL(p),te;if(x&&u.errors){let I=Object.keys(u.errors)[0];te=d.findIndex(ae=>ae.route.id===I)}else if(C&&Sa(C[1])){let I=C[0];te=d.findIndex(ae=>ae.route.id===I)-1}let ge=C?C[1].statusCode:void 0,me=ge&&ge>=400,ce={currentUrl:K,currentParams:u.matches[0]?.params||{},nextUrl:R,nextParams:d[0].params,...f,actionResult:H,actionStatus:ge},we=d.map((I,ae)=>{let{route:Z}=I,U=null;if(te!=null&&ae>te?U=!1:Z.lazy?U=!0:Z.loader==null?U=!1:x?U=Yd(Z,u.loaderData,u.errors):l1(u.loaderData,u.matches[ae],I)&&(U=!0),U!==null)return Kd(n,l,r,I,g,a,U);let re=me?!1:w||K.pathname+K.search===R.pathname+R.search||K.search!==R.search||o1(u.matches[ae],I),Q={...ce,defaultShouldRevalidate:re},J=tc(I,Q);return Kd(n,l,r,I,g,a,J,Q)}),pe=[];return j.forEach((I,ae)=>{if(x||!d.some(Ce=>Ce.route.id===I.routeId)||b.has(ae))return;let Z=u.fetchers.get(ae),U=Z&&Z.state!=="idle"&&Z.data===void 0,re=ln(_,I.path,E);if(!re){if(A&&U)return;pe.push({key:ae,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(N.has(ae))return;let Q=Io(re,I.path),J=new AbortController,ie=Bs(c,I.path,J.signal),ye=null;if(v.has(ae))v.delete(ae),ye=Vs(n,l,ie,re,Q,g,a);else if(U)w&&(ye=Vs(n,l,ie,re,Q,g,a));else{let Ce={...ce,defaultShouldRevalidate:me?!1:w};tc(Q,Ce)&&(ye=Vs(n,l,ie,re,Q,g,a,Ce))}ye&&pe.push({key:ae,routeId:I.routeId,path:I.path,matches:ye,match:Q,request:ie,controller:J})}),{dsMatches:we,revalidatingFetchers:pe}}function Yd(r,a,n){if(r.lazy)return!0;if(!r.loader)return!1;let l=a!=null&&r.id in a,c=n!=null&&n[r.id]!==void 0;return!l&&c?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!l&&!c}function l1(r,a,n){let l=!a||n.route.id!==a.route.id,c=!r.hasOwnProperty(n.route.id);return l||c}function o1(r,a){let n=r.route.path;return r.pathname!==a.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==a.params["*"]}function tc(r,a){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(a);if(typeof n=="boolean")return n}return a.defaultShouldRevalidate}function Op(r,a,n,l,c,u){let d;if(r){let g=l[r];tt(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),d=g.children}else d=n;let f=[],p=[];if(a.forEach(g=>{let x=d.find(w=>rx(g,w));x?p.push({existingRoute:x,newRoute:g}):f.push(g)}),f.length>0){let g=il(f,c,[r||"_","patch",String(d?.length||"0")],l);d.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:x,newRoute:w}=p[g],v=x,[b]=il([w],c,[],{},!0);Object.assign(v,{element:b.element?b.element:v.element,errorElement:b.errorElement?b.errorElement:v.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:v.hydrateFallbackElement})}}function rx(r,a){return"id"in r&&"id"in a&&r.id===a.id?!0:r.index===a.index&&r.path===a.path&&r.caseSensitive===a.caseSensitive?(!r.children||r.children.length===0)&&(!a.children||a.children.length===0)?!0:r.children.every((n,l)=>a.children?.some(c=>rx(n,c))):!1}var Dp=new WeakMap,nx=({key:r,route:a,manifest:n,mapRouteProperties:l})=>{let c=n[a.id];if(tt(c,"No route found in manifest"),!c.lazy||typeof c.lazy!="object")return;let u=c.lazy[r];if(!u)return;let d=Dp.get(c);d||(d={},Dp.set(c,d));let f=d[r];if(f)return f;let p=(async()=>{let g=Aw(r),w=c[r]!==void 0&&r!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),d[r]=Promise.resolve();else if(w)Vt(!1,`Route "${c.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let v=await u();v!=null&&(Object.assign(c,{[r]:v}),Object.assign(c,l(c)))}typeof c.lazy=="object"&&(c.lazy[r]=void 0,Object.values(c.lazy).every(v=>v===void 0)&&(c.lazy=void 0))})();return d[r]=p,p},Mp=new WeakMap;function c1(r,a,n,l,c){let u=n[r.id];if(tt(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let x=Mp.get(u);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let w=(async()=>{tt(typeof r.lazy=="function","No lazy route function found");let v=await r.lazy(),b={};for(let j in v){let N=v[j];if(N===void 0)continue;let _=Cw(j),A=u[j]!==void 0&&j!=="hasErrorBoundary";_?Vt(!_,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Vt(!A,`Route "${u.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=N}Object.assign(u,b),Object.assign(u,{...l(u),lazy:void 0})})();return Mp.set(u,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let d=Object.keys(r.lazy),f=[],p;for(let x of d){if(c&&c.includes(x))continue;let w=nx({key:x,route:r,manifest:n,mapRouteProperties:l});w&&(f.push(w),x===a&&(p=w))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Lp(r){let a=r.matches.filter(c=>c.shouldLoad),n={};return(await Promise.all(a.map(c=>c.resolve()))).forEach((c,u)=>{n[a[u].route.id]=c}),n}async function u1(r){return r.matches.some(a=>a.route.unstable_middleware)?sx(r,()=>Lp(r)):Lp(r)}function sx(r,a){return d1(r,a,l=>l,v1,n);function n(l,c,u){if(u)return Promise.resolve(Object.assign(u.value,{[c]:{type:"error",result:l}}));{let{matches:d}=r,f=Math.min(d.findIndex(g=>g.route.id===c)||0,d.findIndex(g=>g.unstable_shouldCallHandler())||0),p=on(d,d[f].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:l}})}}}async function d1(r,a,n,l,c){let{matches:u,request:d,params:f,context:p}=r,g=u.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(v=>[w.route.id,v]):[]);return await ix({request:d,params:f,context:p},g,a,n,l,c)}async function ix(r,a,n,l,c,u,d=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let p=a[d];if(!p)return await n();let[g,x]=p,w,v=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await ix(r,a,n,l,c,u,d+1)},w.value}catch(b){return w={value:await u(b,g,w)},w.value}};try{let b=await x(r,v),j=b!=null?l(b):void 0;return c(j)?j:w?j??w.value:(w={value:await v()},w.value)}catch(b){return await u(b,g,w)}}function lx(r,a,n,l,c){let u=nx({key:"unstable_middleware",route:l.route,manifest:a,mapRouteProperties:r}),d=c1(l.route,fa(n.method)?"action":"loader",a,r,c);return{middleware:u,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Kd(r,a,n,l,c,u,d,f=null){let p=!1,g=lx(r,a,n,l,c);return{...l,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(x){return p=!0,f?typeof x=="boolean"?tc(l,{...f,defaultShouldRevalidate:x}):tc(l,f):d},resolve(x){return p||d||x&&!fa(n.method)&&(l.route.lazy||l.route.loader)?f1({request:n,match:l,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:x,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Vs(r,a,n,l,c,u,d,f=null){return l.map(p=>p.route.id!==c.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:lx(r,a,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Kd(r,a,n,p,u,d,!0,f))}async function h1(r,a,n,l,c,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let d={request:a,params:n[0].params,context:c,matches:n},p=await r({...d,fetcherKey:l,unstable_runClientMiddleware:g=>{let x=d;return sx(x,()=>g({...x,fetcherKey:l,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function f1({request:r,match:a,lazyHandlerPromise:n,lazyRoutePromise:l,handlerOverride:c,scopedContext:u}){let d,f,p=fa(r.method),g=p?"action":"loader",x=w=>{let v,b=new Promise((_,E)=>v=E);f=()=>v(),r.signal.addEventListener("abort",f);let j=_=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${a.route.id}]`)):w({request:r,params:a.params,context:u},..._!==void 0?[_]:[]),N=(async()=>{try{return{type:"data",result:await(c?c(E=>j(E)):j())}}catch(_){return{type:"error",result:_}}})();return Promise.race([N,b])};try{let w=p?a.route.action:a.route.loader;if(n||l)if(w){let v,[b]=await Promise.all([x(w).catch(j=>{v=j}),n,l]);if(v!==void 0)throw v;d=b}else{await n;let v=p?a.route.action:a.route.loader;if(v)[d]=await Promise.all([x(v),l]);else if(g==="action"){let b=new URL(r.url),j=b.pathname+b.search;throw za(405,{method:r.method,pathname:j,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(w)d=await x(w);else{let v=new URL(r.url),b=v.pathname+v.search;throw za(404,{pathname:b})}}catch(w){return{type:"error",result:w}}finally{f&&r.signal.removeEventListener("abort",f)}return d}async function m1(r){let a=r.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?r.body==null?null:r.json():r.text()}async function p1(r){let{result:a,type:n}=r;if(cx(a)){let l;try{l=await m1(a)}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new ec(a.status,a.statusText,l),statusCode:a.status,headers:a.headers}:{type:"data",data:l,statusCode:a.status,headers:a.headers}}return n==="error"?Vp(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new ec(a.init?.status||500,void 0,a.data),statusCode:ll(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:ll(a)?a.status:void 0}:Vp(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function g1(r,a,n,l,c){let u=r.headers.get("Location");if(tt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!bh(u)){let d=l.slice(0,l.findIndex(f=>f.route.id===n)+1);u=Fd(new URL(a.url),d,c,u),r.headers.set("Location",u)}return r}function Up(r,a,n){if(bh(r)){let l=r,c=l.startsWith("//")?new URL(a.protocol+l):new URL(l),u=$a(c.pathname,n)!=null;if(c.origin===a.origin&&u)return c.pathname+c.search+c.hash}return r}function Bs(r,a,n,l){let c=r.createURL(ox(a)).toString(),u={signal:n};if(l&&fa(l.formMethod)){let{formMethod:d,formEncType:f}=l;u.method=d.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(l.json)):f==="text/plain"?u.body=l.text:f==="application/x-www-form-urlencoded"&&l.formData?u.body=Xd(l.formData):u.body=l.formData}return new Request(c,u)}function Xd(r){let a=new URLSearchParams;for(let[n,l]of r.entries())a.append(n,typeof l=="string"?l:l.name);return a}function Bp(r){let a=new FormData;for(let[n,l]of r.entries())a.append(n,l);return a}function x1(r,a,n,l=!1,c=!1){let u={},d=null,f,p=!1,g={},x=n&&Sa(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in a))return;let v=w.route.id,b=a[v];if(tt(!Hn(b),"Cannot handle redirect results in processLoaderData"),Sa(b)){let j=b.error;if(x!==void 0&&(j=x,x=void 0),d=d||{},c)d[v]=j;else{let N=on(r,v);d[N.route.id]==null&&(d[N.route.id]=j)}l||(u[v]=ax),p||(p=!0,f=ll(b.error)?b.error.status:500),b.headers&&(g[v]=b.headers)}else u[v]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(f=b.statusCode),b.headers&&(g[v]=b.headers)}),x!==void 0&&n&&(d={[n[0]]:x},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:d,statusCode:f||200,loaderHeaders:g}}function zp(r,a,n,l,c,u){let{loaderData:d,errors:f}=x1(a,n,l);return c.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:x,controller:w}=p;if(w&&w.signal.aborted)return;let v=u[g];if(tt(v,"Did not find corresponding fetcher result"),Sa(v)){let b=on(r.matches,x?.route.id);f&&f[b.route.id]||(f={...f,[b.route.id]:v.error}),r.fetchers.delete(g)}else if(Hn(v))tt(!1,"Unhandled fetcher revalidation redirect");else{let b=sn(v.data);r.fetchers.set(g,b)}}),{loaderData:d,errors:f}}function $p(r,a,n,l){let c=Object.entries(a).filter(([,u])=>u!==ax).reduce((u,[d,f])=>(u[d]=f,u),{});for(let u of n){let d=u.route.id;if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&u.route.loader&&(c[d]=r[d]),l&&l.hasOwnProperty(d))break}return c}function Pp(r){return r?Sa(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function on(r,a){return(a?r.slice(0,r.findIndex(l=>l.route.id===a)+1):[...r]).reverse().find(l=>l.route.hasErrorBoundary===!0)||r[0]}function Ro(r){let a=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function za(r,{pathname:a,routeId:n,method:l,type:c,message:u}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(d="Bad Request",l&&a&&n?f=`You made a ${l} request to "${a}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:c==="invalid-body"&&(f="Unable to encode submission body")):r===403?(d="Forbidden",f=`Route "${n}" does not match URL "${a}"`):r===404?(d="Not Found",f=`No route matches URL "${a}"`):r===405&&(d="Method Not Allowed",l&&a&&n?f=`You made a ${l.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:l&&(f=`Invalid request method "${l.toUpperCase()}"`)),new ec(r||500,d,new Error(f),!0)}function Oo(r){let a=Object.entries(r);for(let n=a.length-1;n>=0;n--){let[l,c]=a[n];if(Hn(c))return{key:l,result:c}}}function ox(r){let a=typeof r=="string"?fn(r):r;return hn({...a,hash:""})}function b1(r,a){return r.pathname!==a.pathname||r.search!==a.search?!1:r.hash===""?a.hash!=="":r.hash===a.hash?!0:a.hash!==""}function v1(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([a,n])=>typeof a=="string"&&y1(n))}function y1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function w1(r){return cx(r.result)&&e1.has(r.result.status)}function Sa(r){return r.type==="error"}function Hn(r){return(r&&r.type)==="redirect"}function Vp(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function cx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function j1(r){return Zw.has(r.toUpperCase())}function fa(r){return Jw.has(r.toUpperCase())}function vh(r){return new URLSearchParams(r).getAll("index").some(a=>a==="")}function Io(r,a){let n=typeof a=="string"?fn(a).search:a.search;if(r[r.length-1].route.index&&vh(n||""))return r[r.length-1];let l=Zg(r);return l[l.length-1]}function Hp(r){let{formMethod:a,formAction:n,formEncType:l,text:c,formData:u,json:d}=r;if(!(!a||!n||!l)){if(c!=null)return{formMethod:a,formAction:n,formEncType:l,formData:void 0,json:void 0,text:c};if(u!=null)return{formMethod:a,formAction:n,formEncType:l,formData:u,json:void 0,text:void 0};if(d!==void 0)return{formMethod:a,formAction:n,formEncType:l,formData:void 0,json:d,text:void 0}}}function Od(r,a){return a?{state:"loading",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _1(r,a){return{state:"submitting",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function Fi(r,a){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function N1(r,a){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a?a.data:void 0}}function sn(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function S1(r,a){try{let n=r.sessionStorage.getItem(tx);if(n){let l=JSON.parse(n);for(let[c,u]of Object.entries(l||{}))u&&Array.isArray(u)&&a.set(c,new Set(u||[]))}}catch{}}function E1(r,a){if(a.size>0){let n={};for(let[l,c]of a)n[l]=[...c];try{r.sessionStorage.setItem(tx,JSON.stringify(n))}catch(l){Vt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function T1(){let r,a,n=new Promise((l,c)=>{r=async u=>{l(u);try{await n}catch{}},a=async u=>{c(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:a}}var Yn=T.createContext(null);Yn.displayName="DataRouter";var dl=T.createContext(null);dl.displayName="DataRouterState";T.createContext(!1);var yh=T.createContext({isTransitioning:!1});yh.displayName="ViewTransition";var ux=T.createContext(new Map);ux.displayName="Fetchers";var A1=T.createContext(null);A1.displayName="Await";var cr=T.createContext(null);cr.displayName="Navigation";var pc=T.createContext(null);pc.displayName="Location";var ur=T.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var wh=T.createContext(null);wh.displayName="RouteError";function k1(r,{relative:a}={}){tt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:l}=T.useContext(cr),{hash:c,pathname:u,search:d}=ml(r,{relative:a}),f=u;return n!=="/"&&(f=u==="/"?n:or([n,u])),l.createHref({pathname:f,search:d,hash:c})}function hl(){return T.useContext(pc)!=null}function Kn(){return tt(hl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(pc).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(r){T.useContext(cr).static||T.useLayoutEffect(r)}function fl(){let{isDataRoute:r}=T.useContext(ur);return r?q1():C1()}function C1(){tt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Yn),{basename:a,navigator:n}=T.useContext(cr),{matches:l}=T.useContext(ur),{pathname:c}=Kn(),u=JSON.stringify(gh(l)),d=T.useRef(!1);return hx(()=>{d.current=!0}),T.useCallback((p,g={})=>{if(Vt(d.current,dx),!d.current)return;if(typeof p=="number"){n.go(p);return}let x=xh(p,JSON.parse(u),c,g.relative==="path");r==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:or([a,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[a,n,u,c,r])}T.createContext(null);function R1(){let{matches:r}=T.useContext(ur),a=r[r.length-1];return a?a.params:{}}function ml(r,{relative:a}={}){let{matches:n}=T.useContext(ur),{pathname:l}=Kn(),c=JSON.stringify(gh(n));return T.useMemo(()=>xh(r,JSON.parse(c),l,a==="path"),[r,c,l,a])}function O1(r,a,n,l,c){tt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(cr),{matches:d}=T.useContext(ur),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",x=f?f.pathnameBase:"/",w=f&&f.route;{let A=w&&w.path||"";fx(g,!w||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Kn(),b;b=v;let j=b.pathname||"/",N=j;if(x!=="/"){let A=x.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=ln(r,{pathname:N});return Vt(w||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),B1(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:or([x,u.encodeLocation?u.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:or([x,u.encodeLocation?u.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),d,n,l,c)}function D1(){let r=H1(),a=ll(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),n?T.createElement("pre",{style:c},n):null,d)}var M1=T.createElement(D1,null),L1=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.unstable_onError?this.props.unstable_onError(r,a):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?T.createElement(ur.Provider,{value:this.props.routeContext},T.createElement(wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U1({routeContext:r,match:a,children:n}){let l=T.useContext(Yn);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(ur.Provider,{value:r},n)}function B1(r,a=[],n=null,l=null,c=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let g=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:w,errors:v}=n,b=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||b){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,x,w)=>{let v,b=!1,j=null,N=null;n&&(v=d&&x.route.id?d[x.route.id]:void 0,j=x.route.errorElement||M1,f&&(p<0&&w===0?(fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):p===w&&(b=!0,N=x.route.hydrateFallbackElement||null)));let _=a.concat(u.slice(0,w+1)),E=()=>{let A;return v?A=j:b?A=N:x.route.Component?A=T.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=g,T.createElement(U1,{match:x,routeContext:{outlet:g,matches:_,isDataRoute:n!=null},children:A})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?T.createElement(L1,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:l}):E()},null)}function jh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(r){let a=T.useContext(Yn);return tt(a,jh(r)),a}function $1(r){let a=T.useContext(dl);return tt(a,jh(r)),a}function P1(r){let a=T.useContext(ur);return tt(a,jh(r)),a}function _h(r){let a=P1(r),n=a.matches[a.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function V1(){return _h("useRouteId")}function H1(){let r=T.useContext(wh),a=$1("useRouteError"),n=_h("useRouteError");return r!==void 0?r:a.errors?.[n]}function q1(){let{router:r}=z1("useNavigate"),a=_h("useNavigate"),n=T.useRef(!1);return hx(()=>{n.current=!0}),T.useCallback(async(c,u={})=>{Vt(n.current,dx),n.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:a,...u}))},[r,a])}var qp={};function fx(r,a,n){!a&&!qp[r]&&(qp[r]=!0,Vt(!1,n))}var Ip={};function Gp(r,a){!r&&!Ip[a]&&(Ip[a]=!0,console.warn(a))}function I1(r){let a={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:T.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:T.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:T.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),a}var G1=["HydrateFallback","hydrateFallbackElement"],F1=class{constructor(){this.status="pending",this.promise=new Promise((a,n)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",a(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",n(l))}})}};function Y1({router:r,flushSync:a,unstable_onError:n}){let[l,c]=T.useState(r.state),[u,d]=T.useState(),[f,p]=T.useState({isTransitioning:!1}),[g,x]=T.useState(),[w,v]=T.useState(),[b,j]=T.useState(),N=T.useRef(new Map),_=T.useCallback(K=>{c(R=>(K.errors&&n&&Object.entries(K.errors).forEach(([te,ge])=>{R.errors?.[te]!==ge&&n(ge)}),K))},[n]),E=T.useCallback((K,{deletedFetchers:R,flushSync:te,viewTransitionOpts:ge})=>{K.fetchers.forEach((ce,we)=>{ce.data!==void 0&&N.current.set(we,ce.data)}),R.forEach(ce=>N.current.delete(ce)),Gp(te===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let me=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(Gp(ge==null||me,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ge||!me){a&&te?a(()=>_(K)):T.startTransition(()=>_(K));return}if(a&&te){a(()=>{w&&(g&&g.resolve(),w.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation})});let ce=r.window.document.startViewTransition(()=>{a(()=>_(K))});ce.finished.finally(()=>{a(()=>{x(void 0),v(void 0),d(void 0),p({isTransitioning:!1})})}),a(()=>v(ce));return}w?(g&&g.resolve(),w.skipTransition(),j({state:K,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation})):(d(K),p({isTransitioning:!0,flushSync:!1,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation}))},[r.window,a,w,g,_]);T.useLayoutEffect(()=>r.subscribe(E),[r,E]),T.useEffect(()=>{f.isTransitioning&&!f.flushSync&&x(new F1)},[f]),T.useEffect(()=>{if(g&&u&&r.window){let K=u,R=g.promise,te=r.window.document.startViewTransition(async()=>{T.startTransition(()=>_(K)),await R});te.finished.finally(()=>{x(void 0),v(void 0),d(void 0),p({isTransitioning:!1})}),v(te)}},[u,g,r.window,_]),T.useEffect(()=>{g&&u&&l.location.key===u.location.key&&g.resolve()},[g,w,l.location,u]),T.useEffect(()=>{!f.isTransitioning&&b&&(d(b.state),p({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),j(void 0))},[f.isTransitioning,b]);let A=T.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:K=>r.navigate(K),push:(K,R,te)=>r.navigate(K,{state:R,preventScrollReset:te?.preventScrollReset}),replace:(K,R,te)=>r.navigate(K,{replace:!0,state:R,preventScrollReset:te?.preventScrollReset})}),[r]),C=r.basename||"/",H=T.useMemo(()=>({router:r,navigator:A,static:!1,basename:C,unstable_onError:n}),[r,A,C,n]);return T.createElement(T.Fragment,null,T.createElement(Yn.Provider,{value:H},T.createElement(dl.Provider,{value:l},T.createElement(ux.Provider,{value:N.current},T.createElement(yh.Provider,{value:f},T.createElement(Q1,{basename:C,location:l.location,navigationType:l.historyAction,navigator:A},T.createElement(K1,{routes:r.routes,future:r.future,state:l,unstable_onError:n})))))),null)}var K1=T.memo(X1);function X1({routes:r,future:a,state:n,unstable_onError:l}){return O1(r,void 0,n,l,a)}function Q1({basename:r="/",children:a=null,location:n,navigationType:l="POP",navigator:c,static:u=!1}){tt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:d,navigator:c,static:u,future:{}}),[d,c,u]);typeof n=="string"&&(n=fn(n));let{pathname:p="/",search:g="",hash:x="",state:w=null,key:v="default"}=n,b=T.useMemo(()=>{let j=$a(p,d);return j==null?null:{location:{pathname:j,search:g,hash:x,state:w,key:v},navigationType:l}},[d,p,g,x,w,v,l]);return Vt(b!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(cr.Provider,{value:f},T.createElement(pc.Provider,{children:a,value:b}))}var Go="get",Fo="application/x-www-form-urlencoded";function gc(r){return r!=null&&typeof r.tagName=="string"}function J1(r){return gc(r)&&r.tagName.toLowerCase()==="button"}function W1(r){return gc(r)&&r.tagName.toLowerCase()==="form"}function Z1(r){return gc(r)&&r.tagName.toLowerCase()==="input"}function ej(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tj(r,a){return r.button===0&&(!a||a==="_self")&&!ej(r)}var Do=null;function aj(){if(Do===null)try{new FormData(document.createElement("form"),0),Do=!1}catch{Do=!0}return Do}var rj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(r){return r!=null&&!rj.has(r)?(Vt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):r}function nj(r,a){let n,l,c,u,d;if(W1(r)){let f=r.getAttribute("action");l=f?$a(f,a):null,n=r.getAttribute("method")||Go,c=Dd(r.getAttribute("enctype"))||Fo,u=new FormData(r)}else if(J1(r)||Z1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(l=p?$a(p,a):null,n=r.getAttribute("formmethod")||f.getAttribute("method")||Go,c=Dd(r.getAttribute("formenctype"))||Dd(f.getAttribute("enctype"))||Fo,u=new FormData(f,r),!aj()){let{name:g,type:x,value:w}=r;if(x==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,w)}}else{if(gc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Go,l=null,c=Fo,d=r}return u&&c==="text/plain"&&(d=u,u=void 0),{action:l,method:n.toLowerCase(),encType:c,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nh(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function sj(r,a,n){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${n}`:a&&$a(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function ij(r,a){if(r.id in a)return a[r.id];try{let n=await import(r.module);return a[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oj(r,a,n){let l=await Promise.all(r.map(async c=>{let u=a.routes[c.route.id];if(u){let d=await ij(u,n);return d.links?d.links():[]}return[]}));return hj(l.flat(1).filter(lj).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Fp(r,a,n,l,c,u){let d=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?a.filter((p,g)=>d(p,g)||f(p,g)):u==="data"?a.filter((p,g)=>{let x=l.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cj(r,a,{includeHydrateFallback:n}={}){return uj(r.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function uj(r){return[...new Set(r)]}function dj(r){let a={},n=Object.keys(r).sort();for(let l of n)a[l]=r[l];return a}function hj(r,a){let n=new Set;return new Set(a),r.reduce((l,c)=>{let u=JSON.stringify(dj(c));return n.has(u)||(n.add(u),l.push({key:u,link:c})),l},[])}function mx(){let r=T.useContext(Yn);return Nh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fj(){let r=T.useContext(dl);return Nh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sh=T.createContext(void 0);Sh.displayName="FrameworkContext";function px(){let r=T.useContext(Sh);return Nh(r,"You must render this element inside a <HydratedRouter> element"),r}function mj(r,a){let n=T.useContext(Sh),[l,c]=T.useState(!1),[u,d]=T.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:w}=a,v=T.useRef(null);T.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let N=E=>{E.forEach(A=>{d(A.isIntersecting)})},_=new IntersectionObserver(N,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[r]),T.useEffect(()=>{if(l){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[l]);let b=()=>{c(!0)},j=()=>{c(!1),d(!1)};return n?r!=="intent"?[u,v,{}]:[u,v,{onFocus:Yi(f,b),onBlur:Yi(p,j),onMouseEnter:Yi(g,b),onMouseLeave:Yi(x,j),onTouchStart:Yi(w,b)}]:[!1,v,{}]}function Yi(r,a){return n=>{r&&r(n),n.defaultPrevented||a(n)}}function pj({page:r,...a}){let{router:n}=mx(),l=T.useMemo(()=>ln(n.routes,r,n.basename),[n.routes,r,n.basename]);return l?T.createElement(xj,{page:r,matches:l,...a}):null}function gj(r){let{manifest:a,routeModules:n}=px(),[l,c]=T.useState([]);return T.useEffect(()=>{let u=!1;return oj(r,a,n).then(d=>{u||c(d)}),()=>{u=!0}},[r,a,n]),l}function xj({page:r,matches:a,...n}){let l=Kn(),{manifest:c,routeModules:u}=px(),{basename:d}=mx(),{loaderData:f,matches:p}=fj(),g=T.useMemo(()=>Fp(r,a,p,c,l,"data"),[r,a,p,c,l]),x=T.useMemo(()=>Fp(r,a,p,c,l,"assets"),[r,a,p,c,l]),w=T.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let j=new Set,N=!1;if(a.forEach(E=>{let A=c.routes[E.route.id];!A||!A.hasLoader||(!g.some(C=>C.route.id===E.route.id)&&E.route.id in f&&u[E.route.id]?.shouldRevalidate||A.hasClientLoader?N=!0:j.add(E.route.id))}),j.size===0)return[];let _=sj(r,d,"data");return N&&j.size>0&&_.searchParams.set("_routes",a.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[d,f,l,c,g,a,r,u]),v=T.useMemo(()=>cj(x,c),[x,c]),b=gj(x);return T.createElement(T.Fragment,null,w.map(j=>T.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),v.map(j=>T.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:N})=>T.createElement("link",{key:j,nonce:n.nonce,...N})))}function bj(...r){return a=>{r.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gx&&(window.__reactRouterVersion="7.8.2")}catch{}function vj(r,a){return s1({basename:a?.basename,unstable_getContext:a?.unstable_getContext,future:a?.future,history:Nw({window:a?.window}),hydrationData:yj(),routes:r,mapRouteProperties:I1,hydrationRouteProperties:G1,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window}).initialize()}function yj(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:wj(r.errors)}),r}function wj(r){if(!r)return null;let a=Object.entries(r),n={};for(let[l,c]of a)if(c&&c.__type==="RouteErrorResponse")n[l]=new ec(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let u=window[c.__subType];if(typeof u=="function")try{let d=new u(c.message);d.stack="",n[l]=d}catch{}}if(n[l]==null){let u=new Error(c.message);u.stack="",n[l]=u}}else n[l]=c;return n}var xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ps=T.forwardRef(function({onClick:a,discover:n="render",prefetch:l="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:x,viewTransition:w,...v},b){let{basename:j}=T.useContext(cr),N=typeof g=="string"&&xx.test(g),_,E=!1;if(typeof g=="string"&&N&&(_=g,gx))try{let me=new URL(window.location.href),ce=g.startsWith("//")?new URL(me.protocol+g):new URL(g),we=$a(ce.pathname,j);ce.origin===me.origin&&we!=null?g=we+ce.search+ce.hash:E=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=k1(g,{relative:c}),[C,H,K]=mj(l,v),R=Sj(g,{replace:d,state:f,target:p,preventScrollReset:x,relative:c,viewTransition:w});function te(me){a&&a(me),me.defaultPrevented||R(me)}let ge=T.createElement("a",{...v,...K,href:_||A,onClick:E||u?a:te,ref:bj(b,H),target:p,"data-discover":!N&&n==="render"?"true":void 0});return C&&!N?T.createElement(T.Fragment,null,ge,T.createElement(pj,{page:A})):ge});Ps.displayName="Link";var jj=T.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:l="",end:c=!1,style:u,to:d,viewTransition:f,children:p,...g},x){let w=ml(d,{relative:g.relative}),v=Kn(),b=T.useContext(dl),{navigator:j,basename:N}=T.useContext(cr),_=b!=null&&Cj(w)&&f===!0,E=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,A=v.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(A=A.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&N&&(C=$a(C,N)||C);const H=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let K=A===E||!c&&A.startsWith(E)&&A.charAt(H)==="/",R=C!=null&&(C===E||!c&&C.startsWith(E)&&C.charAt(E.length)==="/"),te={isActive:K,isPending:R,isTransitioning:_},ge=K?a:void 0,me;typeof l=="function"?me=l(te):me=[l,K?"active":null,R?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ce=typeof u=="function"?u(te):u;return T.createElement(Ps,{...g,"aria-current":ge,className:me,ref:x,style:ce,to:d,viewTransition:f},typeof p=="function"?p(te):p)});jj.displayName="NavLink";var _j=T.forwardRef(({discover:r="render",fetcherKey:a,navigate:n,reloadDocument:l,replace:c,state:u,method:d=Go,action:f,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:w,...v},b)=>{let j=Aj(),N=kj(f,{relative:g}),_=d.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&xx.test(f),A=C=>{if(p&&p(C),C.defaultPrevented)return;C.preventDefault();let H=C.nativeEvent.submitter,K=H?.getAttribute("formmethod")||d;j(H||C.currentTarget,{fetcherKey:a,method:K,navigate:n,replace:c,state:u,relative:g,preventScrollReset:x,viewTransition:w})};return T.createElement("form",{ref:b,method:_,action:N,onSubmit:l?p:A,...v,"data-discover":!E&&r==="render"?"true":void 0})});_j.displayName="Form";function Nj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(r){let a=T.useContext(Yn);return tt(a,Nj(r)),a}function Sj(r,{target:a,replace:n,state:l,preventScrollReset:c,relative:u,viewTransition:d}={}){let f=fl(),p=Kn(),g=ml(r,{relative:u});return T.useCallback(x=>{if(tj(x,a)){x.preventDefault();let w=n!==void 0?n:hn(p)===hn(g);f(r,{replace:w,state:l,preventScrollReset:c,relative:u,viewTransition:d})}},[p,f,g,n,l,a,r,c,u,d])}var Ej=0,Tj=()=>`__${String(++Ej)}__`;function Aj(){let{router:r}=bx("useSubmit"),{basename:a}=T.useContext(cr),n=V1();return T.useCallback(async(l,c={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=nj(l,a);if(c.navigate===!1){let x=c.fetcherKey||Tj();await r.fetch(x,n,c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await r.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,n])}function kj(r,{relative:a}={}){let{basename:n}=T.useContext(cr),l=T.useContext(ur);tt(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),u={...ml(r||".",{relative:a})},d=Kn();if(r==null){u.search=d.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let x=f.toString();u.search=x?`?${x}`:""}}return(!r||r===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),hn(u)}function Cj(r,{relative:a}={}){let n=T.useContext(yh);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=bx("useViewTransitionState"),c=ml(r,{relative:a});if(!n.isTransitioning)return!1;let u=$a(n.currentLocation.pathname,l)||n.currentLocation.pathname,d=$a(n.nextLocation.pathname,l)||n.nextLocation.pathname;return Zo(c.pathname,d)!=null||Zo(c.pathname,u)!=null}var Rj=Kg();function Oj(r){return T.createElement(Y1,{flushSync:Rj.flushSync,...r})}function vx({isOpen:r,title:a,message:n,confirmText:l="Confirmar",cancelText:c="Cancelar",type:u="danger",onConfirm:d,onCancel:f,isLoading:p=!1}){const x={danger:{iconBg:"bg-red-100",iconColor:"text-red-600",confirmBg:"bg-red-600 hover:bg-red-700",border:"border-red-100"},warning:{iconBg:"bg-amber-100",iconColor:"text-amber-600",confirmBg:"bg-amber-600 hover:bg-amber-700",border:"border-amber-100"},info:{iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBg:"bg-blue-600 hover:bg-blue-700",border:"border-blue-100"}}[u],w={danger:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),warning:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return i.jsx(Ot,{children:r&&i.jsxs(i.Fragment,{children:[i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:f}),i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs(L.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:v=>v.stopPropagation(),className:`bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full border ${x.border} pointer-events-auto`,children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:`${x.iconBg} rounded-full p-2 flex-shrink-0 ${x.iconColor}`,children:w[u]}),i.jsx("div",{className:"flex-1",children:i.jsx("h3",{className:"text-xl font-semibold text-neutral-800 mb-1",children:a})})]}),i.jsx("p",{className:"text-neutral-600 mb-6 ml-14",children:n}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:f,disabled:p,className:"px-5 py-2.5 rounded-xl border border-neutral-300 text-neutral-700 font-medium hover:bg-neutral-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c}),i.jsx("button",{onClick:d,disabled:p,className:`px-5 py-2.5 rounded-xl text-white font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${x.confirmBg} flex items-center gap-2`,children:p?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{children:"Procesando..."})]}):l})]})]})})]})})}function yx(){const[r,a]=T.useState({isOpen:!1,options:{title:"",message:""},onConfirm:()=>{},onCancel:()=>{},isLoading:!1}),n=T.useCallback(u=>{const d=typeof u=="string"?{title:"Confirmar",message:u}:u;return new Promise(f=>{a({isOpen:!0,options:d,isLoading:!1,onConfirm:async()=>{a(p=>({...p,isLoading:!0}));try{f(!0),await new Promise(p=>setTimeout(p,300)),a(p=>({...p,isOpen:!1,isLoading:!1}))}catch{a(g=>({...g,isLoading:!1})),f(!1)}},onCancel:()=>{f(!1),a(p=>({...p,isOpen:!1}))}})})},[]),l=T.useCallback(()=>{a(u=>({...u,isOpen:!1}))},[]);return{dialog:i.jsx(vx,{isOpen:r.isOpen,title:r.options.title,message:r.options.message,confirmText:r.options.confirmText,cancelText:r.options.cancelText,type:r.options.type,onConfirm:r.onConfirm,onCancel:r.onCancel,isLoading:r.isLoading}),dialogState:{isOpen:r.isOpen,options:r.options,onConfirm:r.onConfirm,onCancel:r.onCancel,isLoading:r.isLoading},showConfirm:n,closeDialog:l}}var kr={},Mo={},Qd=function(r,a){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])},Qd(r,a)};function wx(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Qd(r,a);function n(){this.constructor=r}r.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var ac=function(){return ac=Object.assign||function(a){for(var n,l=1,c=arguments.length;l<c;l++){n=arguments[l];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},ac.apply(this,arguments)};function Ys(r,a){var n={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(n[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(n[l[c]]=r[l[c]]);return n}function jx(r,a,n,l){var c=arguments.length,u=c<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,n):l,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,a,n,l);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(u=(c<3?d(u):c>3?d(a,n,u):d(a,n))||u);return c>3&&u&&Object.defineProperty(a,n,u),u}function _x(r,a){return function(n,l){a(n,l,r)}}function Nx(r,a,n,l,c,u){function d(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var f=l.kind,p=f==="getter"?"get":f==="setter"?"set":"value",g=!a&&r?l.static?r:r.prototype:null,x=a||(g?Object.getOwnPropertyDescriptor(g,l.name):{}),w,v=!1,b=n.length-1;b>=0;b--){var j={};for(var N in l)j[N]=N==="access"?{}:l[N];for(var N in l.access)j.access[N]=l.access[N];j.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(E||null))};var _=(0,n[b])(f==="accessor"?{get:x.get,set:x.set}:x[p],j);if(f==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(w=d(_.get))&&(x.get=w),(w=d(_.set))&&(x.set=w),(w=d(_.init))&&c.unshift(w)}else(w=d(_))&&(f==="field"?c.unshift(w):x[p]=w)}g&&Object.defineProperty(g,l.name,x),v=!0}function Sx(r,a,n){for(var l=arguments.length>2,c=0;c<a.length;c++)n=l?a[c].call(r,n):a[c].call(r);return l?n:void 0}function Ex(r){return typeof r=="symbol"?r:"".concat(r)}function Tx(r,a,n){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",a):a})}function Ax(r,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,a)}function _e(r,a,n,l){function c(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(x){try{g(l.next(x))}catch(w){d(w)}}function p(x){try{g(l.throw(x))}catch(w){d(w)}}function g(x){x.done?u(x.value):c(x.value).then(f,p)}g((l=l.apply(r,a||[])).next())})}function kx(r,a){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,c,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(g){return function(x){return p([g,x])}}function p(g){if(l)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(l=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=a.call(r,n)}catch(x){g=[6,x],c=0}finally{l=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var xc=Object.create?(function(r,a,n,l){l===void 0&&(l=n);var c=Object.getOwnPropertyDescriptor(a,n);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[n]}}),Object.defineProperty(r,l,c)}):(function(r,a,n,l){l===void 0&&(l=n),r[l]=a[n]});function Cx(r,a){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(a,n)&&xc(a,r,n)}function rc(r){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&r[a],l=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eh(r,a){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var l=n.call(r),c,u=[],d;try{for(;(a===void 0||a-- >0)&&!(c=l.next()).done;)u.push(c.value)}catch(f){d={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(d)throw d.error}}return u}function Rx(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(Eh(arguments[a]));return r}function Ox(){for(var r=0,a=0,n=arguments.length;a<n;a++)r+=arguments[a].length;for(var l=Array(r),c=0,a=0;a<n;a++)for(var u=arguments[a],d=0,f=u.length;d<f;d++,c++)l[c]=u[d];return l}function Dx(r,a,n){if(n||arguments.length===2)for(var l=0,c=a.length,u;l<c;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return r.concat(u||Array.prototype.slice.call(a))}function Gs(r){return this instanceof Gs?(this.v=r,this):new Gs(r)}function Mx(r,a,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=n.apply(r,a||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),c[Symbol.asyncIterator]=function(){return this},c;function d(b){return function(j){return Promise.resolve(j).then(b,w)}}function f(b,j){l[b]&&(c[b]=function(N){return new Promise(function(_,E){u.push([b,N,_,E])>1||p(b,N)})},j&&(c[b]=j(c[b])))}function p(b,j){try{g(l[b](j))}catch(N){v(u[0][3],N)}}function g(b){b.value instanceof Gs?Promise.resolve(b.value.v).then(x,w):v(u[0][2],b)}function x(b){p("next",b)}function w(b){p("throw",b)}function v(b,j){b(j),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Lx(r){var a,n;return a={},l("next"),l("throw",function(c){throw c}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(c,u){a[c]=r[c]?function(d){return(n=!n)?{value:Gs(r[c](d)),done:!1}:u?u(d):d}:u}}function Ux(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r[Symbol.asyncIterator],n;return a?a.call(r):(r=typeof rc=="function"?rc(r):r[Symbol.iterator](),n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n);function l(u){n[u]=r[u]&&function(d){return new Promise(function(f,p){d=r[u](d),c(f,p,d.done,d.value)})}}function c(u,d,f,p){Promise.resolve(p).then(function(g){u({value:g,done:f})},d)}}function Bx(r,a){return Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,r}var Dj=Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a},Jd=function(r){return Jd=Object.getOwnPropertyNames||function(a){var n=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[n.length]=l);return n},Jd(r)};function zx(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var n=Jd(r),l=0;l<n.length;l++)n[l]!=="default"&&xc(a,r,n[l]);return Dj(a,r),a}function $x(r){return r&&r.__esModule?r:{default:r}}function Px(r,a,n,l){if(n==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?r!==a||!l:!a.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?l:n==="a"?l.call(r):l?l.value:a.get(r)}function Vx(r,a,n,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?r!==a||!c:!a.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(r,n):c?c.value=n:a.set(r,n),n}function Hx(r,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?a===r:r.has(a)}function qx(r,a,n){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,c;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],n&&(c=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");c&&(l=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),r.stack.push({value:a,dispose:l,async:n})}else n&&r.stack.push({async:!0});return a}var Mj=typeof SuppressedError=="function"?SuppressedError:function(r,a,n){var l=new Error(n);return l.name="SuppressedError",l.error=r,l.suppressed=a,l};function Ix(r){function a(u){r.error=r.hasError?new Mj(u,r.error,"An error was suppressed during disposal."):u,r.hasError=!0}var n,l=0;function c(){for(;n=r.stack.pop();)try{if(!n.async&&l===1)return l=0,r.stack.push(n),Promise.resolve().then(c);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return l|=2,Promise.resolve(u).then(c,function(d){return a(d),c()})}else l|=1}catch(d){a(d)}if(l===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return c()}function Gx(r,a){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,l,c,u,d){return l?a?".jsx":".js":c&&(!u||!d)?n:c+u+"."+d.toLowerCase()+"js"}):r}const Lj={__extends:wx,__assign:ac,__rest:Ys,__decorate:jx,__param:_x,__esDecorate:Nx,__runInitializers:Sx,__propKey:Ex,__setFunctionName:Tx,__metadata:Ax,__awaiter:_e,__generator:kx,__createBinding:xc,__exportStar:Cx,__values:rc,__read:Eh,__spread:Rx,__spreadArrays:Ox,__spreadArray:Dx,__await:Gs,__asyncGenerator:Mx,__asyncDelegator:Lx,__asyncValues:Ux,__makeTemplateObject:Bx,__importStar:zx,__importDefault:$x,__classPrivateFieldGet:Px,__classPrivateFieldSet:Vx,__classPrivateFieldIn:Hx,__addDisposableResource:qx,__disposeResources:Ix,__rewriteRelativeImportExtension:Gx},Uj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qx,get __assign(){return ac},__asyncDelegator:Lx,__asyncGenerator:Mx,__asyncValues:Ux,__await:Gs,__awaiter:_e,__classPrivateFieldGet:Px,__classPrivateFieldIn:Hx,__classPrivateFieldSet:Vx,__createBinding:xc,__decorate:jx,__disposeResources:Ix,__esDecorate:Nx,__exportStar:Cx,__extends:wx,__generator:kx,__importDefault:$x,__importStar:zx,__makeTemplateObject:Bx,__metadata:Ax,__param:_x,__propKey:Ex,__read:Eh,__rest:Ys,__rewriteRelativeImportExtension:Gx,__runInitializers:Sx,__setFunctionName:Tx,__spread:Rx,__spreadArray:Dx,__spreadArrays:Ox,__values:rc,default:Lj},Symbol.toStringTag,{value:"Module"})),Bj=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);let bc=class extends Error{constructor(a,n="FunctionsError",l){super(a),this.name=n,this.context=l}},Fx=class extends bc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Wd=class extends bc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},Zd=class extends bc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var nc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(nc||(nc={}));class zj{constructor(a,{headers:n={},customFetch:l,region:c=nc.Any}={}){this.url=a,this.headers=n,this.region=c,this.fetch=Bj(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return _e(this,arguments,void 0,function*(n,l={}){var c;let u,d;try{const{headers:f,method:p,body:g,signal:x,timeout:w}=l;let v={},{region:b}=l;b||(b=this.region);const j=new URL(`${this.url}/${n}`);b&&b!=="any"&&(v["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let N;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(v["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(v["Content-Type"]="application/json",N=JSON.stringify(g)):N=g;let _=x;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),x?(_=d.signal,x.addEventListener("abort",()=>d.abort())):_=d.signal);const E=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:N,signal:_}).catch(K=>{throw new Fx(K)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new Wd(E);if(!E.ok)throw new Zd(E);let C=((c=E.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),H;return C==="application/json"?H=yield E.json():C==="application/octet-stream"||C==="application/pdf"?H=yield E.blob():C==="text/event-stream"?H=E:C==="multipart/form-data"?H=yield E.formData():H=yield E.text(),{data:H,error:null,response:E}}catch(f){return{data:null,error:f,response:f instanceof Zd||f instanceof Wd?f.context:void 0}}finally{u&&clearTimeout(u)}})}}const $j=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return nc},FunctionsClient:zj,FunctionsError:bc,FunctionsFetchError:Fx,FunctionsHttpError:Zd,FunctionsRelayError:Wd},Symbol.toStringTag,{value:"Module"})),Yx=ul($j);var aa={};const Ks=ul(Uj);var Lo={},Uo={},Bo={},zo={},$o={},Po={},Yp;function Kx(){if(Yp)return Po;Yp=1,Object.defineProperty(Po,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Po.default=r,Po}var Kp;function Xx(){if(Kp)return $o;Kp=1,Object.defineProperty($o,"__esModule",{value:!0});const a=Ks.__importDefault(Kx());let n=class{constructor(c){var u,d;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(d=c.isMaybeSingle)!==null&&d!==void 0?d:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,x,w,v;let b=null,j=null,N=null,_=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const K=await p.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?j=K:j=JSON.parse(K))}const C=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),H=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");C&&H&&H.length>1&&(N=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,_=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await p.text();try{b=JSON.parse(C),Array.isArray(b)&&p.status===404&&(j=[],b=null,_=200,E="OK")}catch{p.status===404&&C===""?(_=204,E="No Content"):b={message:C}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,_=200,E="OK"),b&&this.shouldThrowOnError)throw new a.default(b)}return{error:b,data:j,count:N,status:_,statusText:E}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,x,w,v,b,j;let N="";const _=p?.cause;if(_){const E=(g=_?.message)!==null&&g!==void 0?g:"",A=(x=_?.code)!==null&&x!==void 0?x:"";N=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,N+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${E}`,A&&(N+=` (${A})`),_?.stack&&(N+=`
${_.stack}`)}else N=(b=p?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(j=p?.name)!==null&&j!==void 0?j:"FetchError"}: ${p?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(c,u)}returns(){return this}overrideTypes(){return this}};return $o.default=n,$o}var Xp;function Qx(){if(Xp)return zo;Xp=1,Object.defineProperty(zo,"__esModule",{value:!0});const a=Ks.__importDefault(Xx());let n=class extends a.default{select(c){let u=!1;const d=(c??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${c}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${c}`),this}range(c,u,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var x;const w=[c?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${v}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}};return zo.default=n,zo}var Qp;function Th(){if(Qp)return Bo;Qp=1,Object.defineProperty(Bo,"__esModule",{value:!0});const a=Ks.__importDefault(Qx()),n=new RegExp("[,()]");let l=class extends a.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${x}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}};return Bo.default=l,Bo}var Jp;function Jx(){if(Jp)return Uo;Jp=1,Object.defineProperty(Uo,"__esModule",{value:!0});const a=Ks.__importDefault(Th());let n=class{constructor(c,{headers:u={},schema:d,fetch:f}){this.url=c,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(c,u){const{head:d=!1,count:f}=u??{},p=d?"HEAD":"GET";let g=!1;const x=(c??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",x),f&&this.headers.append("Prefer",`count=${f}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(g.length>0){const x=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(w.length>0){const v=[...new Set(w)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:c}={}){var u;const d="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Uo.default=n,Uo}var Wp;function Pj(){if(Wp)return Lo;Wp=1,Object.defineProperty(Lo,"__esModule",{value:!0});const r=Ks,a=r.__importDefault(Jx()),n=r.__importDefault(Th());let l=class Wx{constructor(u,{headers:d={},schema:f,fetch:p}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new a.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new Wx(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:p=!1,count:g}={}){var x;let w;const v=new URL(`${this.url}/rpc/${u}`);let b;f||p?(w=f?"HEAD":"GET",Object.entries(d).filter(([N,_])=>_!==void 0).map(([N,_])=>[N,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([N,_])=>{v.searchParams.append(N,_)})):(w="POST",b=d);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new n.default({method:w,url:v,headers:j,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return Lo.default=l,Lo}var Zp;function Zx(){if(Zp)return aa;Zp=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.PostgrestError=aa.PostgrestBuilder=aa.PostgrestTransformBuilder=aa.PostgrestFilterBuilder=aa.PostgrestQueryBuilder=aa.PostgrestClient=void 0;const r=Ks,a=r.__importDefault(Pj());aa.PostgrestClient=a.default;const n=r.__importDefault(Jx());aa.PostgrestQueryBuilder=n.default;const l=r.__importDefault(Th());aa.PostgrestFilterBuilder=l.default;const c=r.__importDefault(Qx());aa.PostgrestTransformBuilder=c.default;const u=r.__importDefault(Xx());aa.PostgrestBuilder=u.default;const d=r.__importDefault(Kx());return aa.PostgrestError=d.default,aa.default={PostgrestClient:a.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:d.default},aa}class eb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const l=this.getWebSocketConstructor();return new l(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Vj="2.86.2",Hj=`realtime-js/${Vj}`,tb="1.0.0",qj="2.0.0",eg=tb,eh=1e4,Ij=1e3,Gj=100;var Pn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Pn||(Pn={}));var zt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(zt||(zt={}));var Ka;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ka||(Ka={}));var th;(function(r){r.websocket="websocket"})(th||(th={}));var Vn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Vn||(Vn={}));class Fj{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,n){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var n;return this._isArrayBuffer((n=a.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var n,l;const c=(l=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var n,l;const c=(l=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,n,l){var c,u;const d=a.topic,f=(c=a.ref)!==null&&c!==void 0?c:"",p=(u=a.join_ref)!==null&&u!==void 0?u:"",g=a.payload.event,x=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+g.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let j=new DataView(b),N=0;j.setUint8(N++,this.KINDS.userBroadcastPush),j.setUint8(N++,p.length),j.setUint8(N++,f.length),j.setUint8(N++,d.length),j.setUint8(N++,g.length),j.setUint8(N++,w.length),j.setUint8(N++,n),Array.from(p,E=>j.setUint8(N++,E.charCodeAt(0))),Array.from(f,E=>j.setUint8(N++,E.charCodeAt(0))),Array.from(d,E=>j.setUint8(N++,E.charCodeAt(0))),Array.from(g,E=>j.setUint8(N++,E.charCodeAt(0))),Array.from(w,E=>j.setUint8(N++,E.charCodeAt(0)));var _=new Uint8Array(b.byteLength+l.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(l),b.byteLength),_.buffer}decode(a,n){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return n(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,u,d,f,p]=l;return n({join_ref:c,ref:u,topic:d,event:f,payload:p})}return n({})}_binaryDecode(a){const n=new DataView(a),l=n.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,n,c)}}_decodeUserBroadcast(a,n,l){const c=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=l.decode(a.slice(p,p+c));p=p+c;const x=l.decode(a.slice(p,p+u));p=p+u;const w=l.decode(a.slice(p,p+d));p=p+d;const v=a.slice(p,a.byteLength),b=f===this.JSON_ENCODING?JSON.parse(l.decode(v)):v,j={type:this.BROADCAST_EVENT,event:x,payload:b};return d>0&&(j.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var n;return a instanceof ArrayBuffer||((n=a?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(a,n){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>n.includes(l)))}}class ab{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(vt||(vt={}));const tg=(r,a,n={})=>{var l;const c=(l=n.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((u,d)=>(u[d]=Yj(d,r,a,c),u),{}):{}},Yj=(r,a,n,l)=>{const c=a.find(f=>f.name===r),u=c?.type,d=n[r];return u&&!l.includes(u)?rb(u,d):ah(d)},rb=(r,a)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return Jj(a,n)}switch(r){case vt.bool:return Kj(a);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return Xj(a);case vt.json:case vt.jsonb:return Qj(a);case vt.timestamp:return Wj(a);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return ah(a);default:return ah(a)}},ah=r=>r,Kj=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Xj=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},Qj=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(a){return console.log(`JSON parse error: ${a}`),r}return r},Jj=(r,a)=>{if(typeof r!="string")return r;const n=r.length-1,l=r[n];if(r[0]==="{"&&l==="}"){let u;const d=r.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>rb(a,f))}return r},Wj=r=>typeof r=="string"?r.replace(" ","T"):r,nb=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Md{constructor(a,n,l={},c=eh){this.channel=a,this.event=n,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var l;return this._hasReceived(a)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var rh;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(rh||(rh={}));let sb=class Yo{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yo.syncState(this.state,c,u,d),this.pendingDiffs.forEach(p=>{this.state=Yo.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Yo.syncDiff(this.state,c,u,d),f())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,l,c){const u=this.cloneDeep(a),d=this.transformState(n),f={},p={};return this.map(u,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const w=u[g];if(w){const v=x.map(_=>_.presence_ref),b=w.map(_=>_.presence_ref),j=x.filter(_=>b.indexOf(_.presence_ref)<0),N=w.filter(_=>v.indexOf(_.presence_ref)<0);j.length>0&&(f[g]=j),N.length>0&&(p[g]=N)}else f[g]=x}),this.syncDiff(u,{joins:f,leaves:p},l,c)}static syncDiff(a,n,l,c){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(f,p)=>{var g;const x=(g=a[f])!==null&&g!==void 0?g:[];if(a[f]=this.cloneDeep(p),x.length>0){const w=a[f].map(b=>b.presence_ref),v=x.filter(b=>w.indexOf(b.presence_ref)<0);a[f].unshift(...v)}l(f,x,p)}),this.map(d,(f,p)=>{let g=a[f];if(!g)return;const x=p.map(w=>w.presence_ref);g=g.filter(w=>x.indexOf(w.presence_ref)<0),a[f]=g,c(f,g,p),g.length===0&&delete a[f]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(l=>n(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,l)=>{const c=a[l];return"metas"in c?n[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[l]=c,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nh;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(nh||(nh={}));var Hs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Hs||(Hs={}));var sr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));const Zj=zt;let ib=class lb{constructor(a,n={config:{}},l){var c,u;if(this.topic=a,this.params=n,this.socket=l,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,Ka.join,this.params,this.timeout),this.rejoinTimer=new ab(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ka.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new sb(this),this.broadcastEndpointURL=nb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,n=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},v={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>a?.(sr.CHANNEL_ERROR,b)),this._onClose(()=>a?.(sr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){a?.(sr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(j=N?.length)!==null&&j!==void 0?j:0,E=[];for(let A=0;A<_;A++){const C=N[A],{filter:{event:H,schema:K,table:R,filter:te}}=C,ge=b&&b[A];if(ge&&ge.event===H&&ge.schema===K&&ge.table===R&&ge.filter===te)E.push(Object.assign(Object.assign({},C),{id:ge.id}));else{this.unsubscribe(),this.state=zt.errored,a?.(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,a&&a(sr.SUBSCRIBED);return}}).receive("error",b=>{this.state=zt.errored,a?.(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{a?.(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,l){return this.state===zt.joined&&a===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,n,l)}async httpSend(a,n,l={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(a,n={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=a,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const g=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ka.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Md(this,Ka.leave,{},a),l.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(a,n,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),d=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),d}_push(a,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Md(this,a,n,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Gj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,l){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,l){var c,u;const d=a.toLocaleLowerCase(),{close:f,error:p,leave:g,join:x}=Ka;if(l&&[f,p,g,x].indexOf(d)>=0&&l!==this._joinRef())return;let v=this._onMessage(d,n,l);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(b=>{var j,N,_;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(N=b.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(b=>b.callback(v,l)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var j,N,_,E,A,C;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const H=b.id,K=(j=b.filter)===null||j===void 0?void 0:j.event;return H&&((N=n.ids)===null||N===void 0?void 0:N.includes(H))&&(K==="*"||K?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const H=(A=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return H==="*"||H===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:N,table:_,commit_timestamp:E,type:A,errors:C}=j;v=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:E,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(j))}b.callback(v,l)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,l){const c=a.toLocaleLowerCase(),u={type:c,filter:n,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(a,n){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&lb.isEqual(c.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const l in a)if(a[l]!==n[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ka.close,{},a)}_onError(a){this._on(Ka.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=tg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=tg(a.columns,a.old_record)),n}};const Ld=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e_=[1e3,2e3,5e3,1e4],t_=1e4,a_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let r_=class{constructor(a,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eh,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ld,this.ref=0,this.reconnectTimer=null,this.vsn=eg,this.logger=Ld,this.conn=null,this.sendBuffer=[],this.serializer=new Fj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${th.websocket}`,this.httpEndpoint=nb(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,l){this.logger(a,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Pn.connecting:return Vn.Connecting;case Pn.open:return Vn.Open;case Pn.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new ib(`realtime:${a}`,n,this);return this.channels.push(u),u}}push(a){const{topic:n,event:l,payload:c,ref:u}=a,d=()=>{this.encode(a,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${l} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Ij,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:d}=n,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${l} ${c} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pn.open||this.conn.readyState===Pn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ka.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${a}${l}${c}`}_workerObjectUrl(a){let n;if(a)n=a;else{const l=new Blob([a_],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n;a?n=a:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:Hj};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Ka.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(n)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new ab(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,l,c,u,d,f,p,g,x,w,v,b;switch(this.transport=(n=a?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:eh,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Vo.HEARTBEAT_INTERVAL,this.worker=(u=a?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=a?.heartbeatCallback)!==null&&f!==void 0?f:Ld,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:eg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(j=>e_[j-1]||t_),this.vsn){case tb:this.encode=(x=a?.encode)!==null&&x!==void 0?x:((j,N)=>N(JSON.stringify(j))),this.decode=(w=a?.decode)!==null&&w!==void 0?w:((j,N)=>N(JSON.parse(j)));break;case qj:this.encode=(v=a?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=a?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}};const n_=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Zj,get REALTIME_LISTEN_TYPES(){return Hs},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return nh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return rh},get REALTIME_SUBSCRIBE_STATES(){return sr},RealtimeChannel:ib,RealtimeClient:r_,RealtimePresence:sb,WebSocketFactory:eb},Symbol.toStringTag,{value:"Module"})),ob=ul(n_);class pl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function _t(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class cb extends pl{constructor(a,n,l){super(a),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sc extends pl{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}}const Ah=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),s_=()=>Response,sh=r=>{if(Array.isArray(r))return r.map(n=>sh(n));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([n,l])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));a[c]=sh(l)}),a},i_=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},l_=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),Ud=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},o_=(r,a,n)=>_e(void 0,void 0,void 0,function*(){const l=yield s_();r instanceof l&&!n?.noResolveJson?r.json().then(c=>{const u=r.status||500,d=c?.statusCode||u+"";a(new cb(Ud(c),u,d))}).catch(c=>{a(new sc(Ud(c),c))}):a(new sc(Ud(r),r))}),c_=(r,a,n,l)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"||!l?c:(i_(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),n))};function gl(r,a,n,l,c,u){return _e(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,c_(a,l,c,u)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>o_(p,f,l))})})}function ol(r,a,n,l){return _e(this,void 0,void 0,function*(){return gl(r,"GET",a,n,l)})}function Ya(r,a,n,l,c){return _e(this,void 0,void 0,function*(){return gl(r,"POST",a,l,c,n)})}function ih(r,a,n,l,c){return _e(this,void 0,void 0,function*(){return gl(r,"PUT",a,l,c,n)})}function u_(r,a,n,l){return _e(this,void 0,void 0,function*(){return gl(r,"HEAD",a,Object.assign(Object.assign({},n),{noResolveJson:!0}),l)})}function kh(r,a,n,l,c){return _e(this,void 0,void 0,function*(){return gl(r,"DELETE",a,l,c,n)})}class d_{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}}var ub;class h_{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[ub]="BlobDownloadBuilder",this.promise=null}asStream(){return new d_(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}}ub=Symbol.toStringTag;const f_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ag={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m_{constructor(a,n={},l,c){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.bucketId=l,this.fetch=Ah(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,n,l,c){return _e(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},ag),c);let f=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=l,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),c?.headers&&(f=Object.assign(Object.assign({},f),c.headers));const g=this._removeEmptyFolders(n),x=this._getFinalPath(g),w=yield(a=="PUT"?ih:Ya)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(_t(u))return{data:null,error:u};throw u}})}upload(a,n,l){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,n,l)})}uploadToSignedUrl(a,n,l,c){return _e(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(a),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:ag.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",g.cacheControl)):(p=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const w=yield ih(this.fetch,f.toString(),p,{headers:x});return{data:{path:u,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(_t(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(a,n){return _e(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const u=yield Ya(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new pl("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:f},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l))return{data:null,error:l};throw l}})}update(a,n,l){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,n,l)})}move(a,n,l){return _e(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}copy(a,n,l){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Ya(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}createSignedUrl(a,n,l){return _e(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),u=yield Ya(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}createSignedUrls(a,n,l){return _e(this,void 0,void 0,function*(){try{const c=yield Ya(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:a},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}download(a,n){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",f=this._getFinalPath(a),p=()=>ol(this.fetch,`${this.url}/${c}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new h_(p,this.shouldThrowOnError)}info(a){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{const l=yield ol(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sh(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l))return{data:null,error:l};throw l}})}exists(a){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{return yield u_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l)&&l instanceof sc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,n){const l=this._getFinalPath(a),c=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&c.push(u);const f=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&c.push(p);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${g}`)}}}remove(a){return _e(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}list(a,n,l){return _e(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},f_),n),{prefix:a||""});return{data:yield Ya(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}listV2(a,n){return _e(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield Ya(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},n),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}}const db="2.86.2",hb={"X-Client-Info":`storage-js/${db}`};class p_{constructor(a,n={},l,c){this.shouldThrowOnError=!1;const u=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hb),n),this.fetch=Ah(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return _e(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(a);return{data:yield ol(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}createBucket(a){return _e(this,arguments,void 0,function*(n,l={public:!1}){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}updateBucket(a,n){return _e(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l))return{data:null,error:l};throw l}})}emptyBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var cl=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g_(r,a,n){const l=new URL(a,r);if(n)for(const[c,u]of Object.entries(n))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function x_(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function b_(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:c,body:u,headers:d}){const f=g_(r.baseUrl,l,c),p=await x_(r.auth),g=await a(f,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),v=w&&x?JSON.parse(x):x;if(!g.ok){const b=w?v:void 0,j=b?.error;throw new cl(j?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:j?.type,icebergCode:j?.code,details:b})}return{status:g.status,headers:g.headers,data:v}}}}function Ho(r){return r.join("")}var v_=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:Ho(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const n={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(r.namespace)}`}),!0}catch(a){if(a instanceof cl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(n){if(n instanceof cl&&n.status===409)return;throw n}}};function Os(r){return r.join("")}var y_=class{constructor(r,a="",n){this.client=r,this.prefix=a,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables`,body:a,headers:n})).data.metadata}async updateTable(r,a){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Os(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(n){if(n instanceof cl&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(n){if(n instanceof cl&&n.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw n}}},w_=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=b_({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new v_(this.client,a),this.tableOps=new y_(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}};class fb{constructor(a,n={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hb),n),this.fetch=Ah(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBuckets(a){return _e(this,void 0,void 0,function*(){try{const n=new URLSearchParams;a?.limit!==void 0&&n.set("limit",a.limit.toString()),a?.offset!==void 0&&n.set("offset",a.offset.toString()),a?.sortColumn&&n.set("sortColumn",a.sortColumn),a?.sortOrder&&n.set("sortOrder",a.sortOrder),a?.search&&n.set("search",a.search);const l=n.toString(),c=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,c,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}from(a){if(!l_(a))throw new pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new w_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ch={"X-Client-Info":`storage-js/${db}`,"Content-Type":"application/json"};class Rh extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pa(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Ko extends Rh{constructor(a,n,l){super(a),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mb extends Rh{constructor(a,n){super(a),this.name="StorageVectorsUnknownError",this.originalError=n}}var lh;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lh||(lh={}));const vc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),j_=()=>Response,pb=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},__=r=>Array.from(new Float32Array(r)),N_=(r,a)=>{if(a!==void 0&&r.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${r.float32.length}`)},rg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),S_=(r,a,n)=>_e(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const c=r.status||500,u=r;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||c+"";a(new Ko(rg(d),c,f))}).catch(()=>{const d=c+"",f=u.statusText||`HTTP ${c} error`;a(new Ko(f,c,d))});else{const d=c+"",f=u.statusText||`HTTP ${c} error`;a(new Ko(f,c,d))}}else a(new mb(rg(r),r))}),E_=(r,a,n,l)=>{const c={method:r,headers:a?.headers||{}};return l?(pb(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),n)):c};function T_(r,a,n,l,c,u){return _e(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,E_(a,l,c,u)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>S_(p,f,l))})})}function Ea(r,a,n,l,c){return _e(this,void 0,void 0,function*(){return T_(r,"POST",a,l,c,n)})}class gb{constructor(a,n={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=vc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ea(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}getIndex(a,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pa(l))return{data:null,error:l};throw l}})}listIndexes(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}deleteIndex(a,n){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ea(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pa(l))return{data:null,error:l};throw l}})}}class xb{constructor(a,n={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=vc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return _e(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ea(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}getVectors(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}listVectors(a){return _e(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Ea(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}queryVectors(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}deleteVectors(a){return _e(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ea(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}}class bb{constructor(a,n={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ch),n),this.fetch=vc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ea(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}getBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}listBuckets(){return _e(this,arguments,void 0,function*(a={}){try{return{data:yield Ea(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}deleteBucket(a){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ea(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pa(n))return{data:null,error:n};throw n}})}}class vb extends bb{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new yb(this.url,this.headers,a,this.fetch)}createBucket(a){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return n.createBucket.call(this,a)})}getBucket(a){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return n.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(n={}){return a.listBuckets.call(this,n)})}deleteBucket(a){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return n.deleteBucket.call(this,a)})}}class yb extends gb{constructor(a,n,l,c){super(a,n,c),this.vectorBucketName=l}createIndex(a){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(n={}){return a.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new wb(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class wb extends xb{constructor(a,n,l,c,u){super(a,n,u),this.vectorBucketName=l,this.indexName=c}putVectors(a){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(n={}){return a.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class A_ extends p_{constructor(a,n={},l,c){super(a,n,l,c)}from(a){return new m_(this.url,this.headers,a,this.fetch)}get vectors(){return new vb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fb(this.url+"/iceberg",this.headers,this.fetch)}}const k_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fb,StorageApiError:cb,StorageClient:A_,StorageError:pl,StorageUnknownError:sc,StorageVectorsApiError:Ko,StorageVectorsClient:vb,StorageVectorsError:Rh,get StorageVectorsErrorCode(){return lh},StorageVectorsUnknownError:mb,VectorBucketApi:bb,VectorBucketScope:yb,VectorDataApi:xb,VectorIndexApi:gb,VectorIndexScope:wb,isPlainObject:pb,isStorageError:_t,isStorageVectorsError:pa,normalizeToFloat32:__,resolveFetch:vc,resolveResponse:j_,validateVectorDimension:N_},Symbol.toStringTag,{value:"Module"})),C_=ul(k_);var Bd={},Ki={},ng;function R_(){return ng||(ng=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.version=void 0,Ki.version="2.86.2"),Ki}var sg;function O_(){return sg||(sg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_REALTIME_OPTIONS=r.DEFAULT_AUTH_OPTIONS=r.DEFAULT_DB_OPTIONS=r.DEFAULT_GLOBAL_OPTIONS=r.DEFAULT_HEADERS=void 0;const a=R_();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",r.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${a.version}`},r.DEFAULT_GLOBAL_OPTIONS={headers:r.DEFAULT_HEADERS},r.DEFAULT_DB_OPTIONS={schema:"public"},r.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r.DEFAULT_REALTIME_OPTIONS={}})(Bd)),Bd}var zd={},ig;function D_(){return ig||(ig=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.fetchWithAuth=r.resolveHeadersConstructor=r.resolveFetch=void 0;const a=c=>c?(...u)=>c(...u):(...u)=>fetch(...u);r.resolveFetch=a;const n=()=>Headers;r.resolveHeadersConstructor=n;const l=(c,u,d)=>{const f=(0,r.resolveFetch)(d),p=(0,r.resolveHeadersConstructor)();return async(g,x)=>{var w;const v=(w=await u())!==null&&w!==void 0?w:c;let b=new p(x?.headers);return b.has("apikey")||b.set("apikey",c),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),f(g,Object.assign(Object.assign({},x),{headers:b}))}};r.fetchWithAuth=l})(zd)),zd}var Cr={},lg;function M_(){if(lg)return Cr;lg=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.isBrowser=void 0,Cr.uuid=r,Cr.ensureTrailingSlash=a,Cr.applySettingDefaults=l,Cr.validateSupabaseUrl=c;function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var d=Math.random()*16|0,f=u=="x"?d:d&3|8;return f.toString(16)})}function a(u){return u.endsWith("/")?u:u+"/"}const n=()=>typeof window<"u";Cr.isBrowser=n;function l(u,d){var f,p;const{db:g,auth:x,realtime:w,global:v}=u,{db:b,auth:j,realtime:N,global:_}=d,E={db:Object.assign(Object.assign({},b),g),auth:Object.assign(Object.assign({},j),x),realtime:Object.assign(Object.assign({},N),w),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(f=_?.headers)!==null&&f!==void 0?f:{}),(p=v?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}function c(u){const d=u?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Cr}var Xi={};const jb="2.86.2",zs=30*1e3,oh=3,$d=oh*zs,L_="http://localhost:9999",U_="supabase.auth.token",B_={"X-Client-Info":`gotrue-js/${jb}`},ch="X-Supabase-Api-Version",_b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$_=600*1e3;let Fs=class extends Error{constructor(a,n,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}};function Me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}let Nb=class extends Fs{constructor(a,n,l){super(a,n,l),this.name="AuthApiError",this.status=n,this.code=l}};function Sb(r){return Me(r)&&r.name==="AuthApiError"}let cn=class extends Fs{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}},Dr=class extends Fs{constructor(a,n,l,c){super(a,l,c),this.name=n,this.status=l}},da=class extends Dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Eb(r){return Me(r)&&r.name==="AuthSessionMissingError"}let Un=class extends Dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zi=class extends Dr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},el=class extends Dr{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Tb(r){return Me(r)&&r.name==="AuthImplicitGrantRedirectError"}let uh=class extends Dr{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ic=class extends Dr{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}};function Xo(r){return Me(r)&&r.name==="AuthRetryableFetchError"}let dh=class extends Dr{constructor(a,n,l){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}};function P_(r){return Me(r)&&r.name==="AuthWeakPasswordError"}let lc=class extends Dr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),og=` 	
\r=`.split(""),V_=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<og.length;a+=1)r[og[a].charCodeAt(0)]=-2;for(let a=0;a<oc.length;a+=1)r[oc[a].charCodeAt(0)]=a;return r})();function cg(r,a,n){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;n(oc[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;n(oc[l]),a.queuedBits-=6}}function Ab(r,a,n){const l=V_[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ug(r){const a=[],n=d=>{a.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{I_(d,l,n)};for(let d=0;d<r.length;d+=1)Ab(r.charCodeAt(d),c,u);return a.join("")}function H_(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function q_(r,a){for(let n=0;n<r.length;n+=1){let l=r.charCodeAt(n);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}H_(l,a)}}function I_(r,a,n){if(a.utf8seq===0){if(r<=127){n(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function qs(r){const a=[],n={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)Ab(r.charCodeAt(c),n,l);return new Uint8Array(a)}function G_(r){const a=[];return q_(r,n=>a.push(n)),new Uint8Array(a)}function qn(r){const a=[],n={queue:0,queuedBits:0},l=c=>{a.push(c)};return r.forEach(c=>cg(c,n,l)),cg(null,n,l),a.join("")}function F_(r){return Math.round(Date.now()/1e3)+r}function Y_(){return Symbol("auth-callback")}const Zt=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},kb=()=>{if(!Zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function K_(r){const a={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{a[u]=c})}catch{}return n.searchParams.forEach((l,c)=>{a[c]=l}),a}const Cb=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),X_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",$s=async(r,a,n)=>{await r.setItem(a,JSON.stringify(n))},Ln=async(r,a)=>{const n=await r.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wt=async(r,a)=>{await r.removeItem(a)};class yc{constructor(){this.promise=new yc.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}yc.promiseConstructor=Promise;function Pd(r){const a=r.split(".");if(a.length!==3)throw new lc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!z_.test(a[l]))throw new lc("JWT not in base64url format");return{header:JSON.parse(ug(a[0])),payload:JSON.parse(ug(a[1])),signature:qs(a[2]),raw:{header:a[0],payload:a[1]}}}async function Q_(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function J_(r,a){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await r(u);if(!a(u,null,d)){l(d);return}}catch(d){if(!a(u,d)){c(d);return}}})()})}function W_(r){return("0"+r.toString(16)).substr(-2)}function Z_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,W_).join("")}async function e2(r){const n=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function t2(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await e2(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(r,a,n=!1){const l=Z_();let c=l;n&&(c+="/PASSWORD_RECOVERY"),await $s(r,`${a}-code-verifier`,c);const u=await t2(l);return[u,l===u?"plain":"s256"]}const a2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r2(r){const a=r.headers.get(ch);if(!a||!a.match(a2))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function n2(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function s2(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(r){if(!i2.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vd(){const r={};return new Proxy(r,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l2(r,a){return new Proxy(r,{get:(n,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(n,l,c)}})}function dg(r){return JSON.parse(JSON.stringify(r))}const Bn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),o2=[502,503,504];async function hg(r){var a;if(!X_(r))throw new ic(Bn(r),0);if(o2.includes(r.status))throw new ic(Bn(r),r.status);let n;try{n=await r.json()}catch(u){throw new cn(Bn(u),u)}let l;const c=r2(r);if(c&&c.getTime()>=_b["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new dh(Bn(n),r.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new da}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new dh(Bn(n),r.status,n.weak_password.reasons);throw new Nb(Bn(n),r.status||500,l)}const c2=(r,a,n,l)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),n))};async function qe(r,a,n,l){var c;const u=Object.assign({},l?.headers);u[ch]||(u[ch]=_b["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const d=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await u2(r,a,n+f,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function u2(r,a,n,l,c,u){const d=c2(a,l,c,u);let f;try{f=await r(n,Object.assign({},d))}catch(p){throw console.error(p),new ic(Bn(p),0)}if(f.ok||await hg(f),l?.noResolveJson)return f;try{return await f.json()}catch(p){await hg(p)}}function Fa(r){var a;let n=null;f2(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=F_(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:n,user:l},error:null}}function fg(r){const a=Fa(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function un(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function d2(r){return{data:r,error:null}}function h2(r){const{action_link:a,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u}=r,d=Ys(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:a,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function mg(r){return r}function f2(r){return r.access_token&&r.refresh_token&&r.expires_in}const Qo=["global","local","others"];let Oh=class{constructor({url:a="",headers:n={},fetch:l}){this.url=a,this.headers=n,this.fetch=Cb(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,n=Qo[0]){if(Qo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qo.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Me(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:un})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:n}=a,l=Ys(a,["options"]),c=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:h2,redirectTo:n?.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:un})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,l,c,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:mg});if(x.error)throw x.error;const w=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);g[`${_}Page`]=N}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Me(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Ms(a);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:un})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){Ms(a);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:un})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,n=!1){Ms(a);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:un})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){Ms(a.userId);try{const{data:n,error:l}=await qe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:l}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(a){Ms(a.userId),Ms(a.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _listOAuthClients(a){var n,l,c,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:mg});if(x.error)throw x.error;const w=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);g[`${_}Page`]=N}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Me(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _getOAuthClient(a){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(a,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(a){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}};function pg(r={}){return{getItem:a=>r[a]||null,setItem:(a,n)=>{r[a]=n},removeItem:a=>{delete r[a]}}}const zn={debug:!!(globalThis&&kb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dh extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let Rb=class extends Dh{};class m2 extends Dh{}async function Ob(r,a,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Rb(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const gg={};async function p2(r,a,n){var l;const c=(l=gg[r])!==null&&l!==void 0?l:Promise.resolve(),u=Promise.race([c.catch(()=>null),a>=0?new Promise((d,f)=>{setTimeout(()=>{f(new m2(`Acquring process lock with name "${r}" timed out`))},a)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await n());return gg[r]=u.catch(async d=>{if(d&&d.isAcquireTimeout)return await c,null;throw d}),await u}function g2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Db(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function x2(r){return parseInt(r,16)}function b2(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function v2(r){var a;const{chainId:n,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:x,uri:w,version:v}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const b=Db(r.address),j=x?`${x}://${l}`:l,N=r.statement?`${r.statement}
`:"",_=`${j} wants you to sign in with your Ethereum account:
${b}

${N}`;let E=`URI: ${w}
Version: ${v}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(E+=`
Expiration Time: ${c.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),p&&(E+=`
Request ID: ${p}`),g){let A=`
Resources:`;for(const C of g){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);A+=`
- ${C}`}E+=A}return`${_}
${E}`}class $t extends Error{constructor({message:a,code:n,cause:l,name:c}){var u;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class cc extends $t{constructor(a,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:a}),this.name="WebAuthnUnknownError",this.originalError=n}}function y2({error:r,options:a}){var n,l,c;const{publicKey:u}=a;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new $t({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(Mb(d)){if(u.rp.id!==d)return new $t({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function w2({error:r,options:a}){const{publicKey:n}=a;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new $t({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Mb(l)){if(n.rpId!==l)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class j2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const _2=new j2;function N2(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:n,excludeCredentials:l}=r,c=Ys(r,["challenge","user","excludeCredentials"]),u=qs(a).buffer,d=Object.assign(Object.assign({},n),{id:qs(n.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:u,user:d});if(l&&l.length>0){f.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const g=l[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:qs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function S2(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:n}=r,l=Ys(r,["challenge","allowCredentials"]),c=qs(a).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:qs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function E2(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:qn(new Uint8Array(r.response.attestationObject)),clientDataJSON:qn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function T2(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:qn(new Uint8Array(c.authenticatorData)),clientDataJSON:qn(new Uint8Array(c.clientDataJSON)),signature:qn(new Uint8Array(c.signature)),userHandle:c.userHandle?qn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Mb(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function xg(){var r,a;return!!(Zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function A2(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cc("Browser returned unexpected credential type",a)}:{data:null,error:new cc("Empty credential response",a)}}catch(a){return{data:null,error:y2({error:a,options:r})}}}async function k2(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cc("Browser returned unexpected credential type",a)}:{data:null,error:new cc("Empty credential response",a)}}catch(a){return{data:null,error:w2({error:a,options:r})}}}const C2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},R2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uc(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))l[u]=d;else if(n(d))l[u]=d;else if(a(d)){const f=l[u];a(f)?l[u]=uc(f,d):l[u]=uc(d)}else l[u]=d}return l}function O2(r,a){return uc(C2,r,a||{})}function D2(r,a){return uc(R2,r,a||{})}class M2{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:n,friendlyName:l,signal:c},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:a,webauthn:n});if(!d)return{data:null,error:f};const p=c??_2.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=O2(d.webauthn.credential_options.publicKey,u?.create),{data:x,error:w}=await A2({publicKey:g,signal:p});return x?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const g=D2(d.webauthn.credential_options.publicKey,u?.request),{data:x,error:w}=await k2(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return x?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(d){return Me(d)?{data:null,error:d}:{data:null,error:new cn("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn authentication")};try{if(!xg())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:a,webauthn:{rpId:n,rpOrigins:l},signal:c},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:l,credential_response:p.credential_response}})}catch(d){return Me(d)?{data:null,error:d}:{data:null,error:new cn("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn registration")};try{if(!xg())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===a&&v.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:c},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Me(d)?{data:null,error:d}:{data:null,error:new cn("Unexpected error in register",d)}}}}g2();const L2={url:L_,storageKey:U_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function bg(r,a,n){return await n()}const Ls={};let Mh=class hh{get jwks(){var a,n;return(n=(a=Ls[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=Ls[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{cachedAt:a})}constructor(a){var n,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},L2),a);if(this.storageKey=u.storageKey,this.instanceID=(n=hh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,hh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Zt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Oh({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Cb(u.fetch),this.lock=u.lock||bg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Zt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Ob:this.lock=bg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:kb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=pg(this.memoryStorage)),Zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jb}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let n={},l="none";if(Zt()&&(n=K_(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),Zt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Tb(u)){const p=(a=u.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?this._returnResult({error:n}):this._returnResult({error:new cn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,l,c;try{const u=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=a?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Fa}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(Me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(a){var n,l,c;try{let u;if("email"in a){const{email:x,password:w,options:v}=a;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Ds(this.storage,this.storageKey)),u=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:x,password:w,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Fa})}else if("phone"in a){const{phone:x,password:w,options:v}=a;u=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(l=v?.data)!==null&&l!==void 0?l:{},channel:(c=v?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fa})}else throw new Zi("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await Wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(a){try{let n;if("email"in a){const{email:u,password:d,options:f}=a;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fg})}else if("phone"in a){const{phone:u,password:d,options:f}=a;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fg})}else throw new Zi("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Un;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(a){var n,l,c,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;switch(n){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(a){var n,l,c,u,d,f,p,g,x,w,v;let b,j;if("message"in a)b=a.message,j=a.signature;else{const{chain:N,wallet:_,statement:E,options:A}=a;let C;if(Zt())if(typeof _=="object")C=_;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")C=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const H=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),K=await C.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Db(K[0]);let te=(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!te){const me=await C.request({method:"eth_chainId"});te=x2(me)}const ge={domain:H.host,address:R,statement:E,uri:H.href,version:"1",chainId:te,nonce:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=A?.signInWithEthereum)===null||x===void 0?void 0:x.resources};b=v2(ge),j=await C.request({method:"personal_sign",params:[b2(b),R]})}try{const{data:N,error:_}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=a.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fa});if(_)throw _;if(!N||!N.session||!N.user){const E=new Un;return this._returnResult({data:{user:null,session:null},error:E})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:_})}catch(N){if(Me(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var n,l,c,u,d,f,p,g,x,w,v,b;let j,N;if("message"in a)j=a.message,N=a.signature;else{const{chain:_,wallet:E,statement:A,options:C}=a;let H;if(Zt())if(typeof E=="object")H=E;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))H=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=E}const K=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in H&&H.signIn){const R=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),A?{statement:A}:null));let te;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")te=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)te=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),N=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${K.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(c=(l=C?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((w=(x=C?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...C.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const R=await H.signMessage(new TextEncoder().encode(j),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=R}}try{const{data:_,error:E}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:qn(N)},!((v=a.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fa});if(E)throw E;if(!_||!_.session||!_.user){const A=new Un;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(Me(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(a){const n=await Ln(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(n??"").split("/");try{const{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Fa});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Un;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(a){try{const{options:n,provider:l,token:c,access_token:u,nonce:d}=a,f=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fa}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const x=new Un;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(a){var n,l,c,u,d;try{if("email"in a){const{email:f,options:p}=a;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Ds(this.storage,this.storageKey));const{error:w}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:f,options:p}=a,{data:g,error:x}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:x})}throw new Zi("You must provide either an email or phone number.")}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(a){var n,l;try{let c,u;"options"in a&&(c=(n=a.options)===null||n===void 0?void 0:n.redirectTo,u=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:f}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Fa});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(Me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var n,l,c,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ds(this.storage,this.storageKey));const g=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:d2});return!((u=g.data)===null||u===void 0)&&u.url&&Zt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:l}=a;if(l)throw l;if(!n)throw new da;const{error:c}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:u}=a,{error:d}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:l,type:c,options:u}=a,{data:d,error:f}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new Zi("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await Ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<$d:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const d=await Ln(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Vd()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=l2(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(a){try{return a?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:un}):await this._useSession(async n=>{var l,c,u;const{data:d,error:f}=n;if(f)throw f;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:un})})}catch(n){if(Me(n))return Eb(n)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new da;const d=c.session;let f=null,p=null;this.flowType==="pkce"&&a.email!=null&&([f,p]=await Ds(this.storage,this.storageKey));const{data:g,error:x}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:un});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new da;const n=Date.now()/1e3;let l=n,c=!0,u=null;const{payload:d}=Pd(a.access_token);if(d.exp&&(l=d.exp,c=l<=n),c){const{data:f,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(a.access_token);if(p)throw p;u={access_token:a.access_token,refresh_token:a.refresh_token,user:f.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var l;if(!a){const{data:d,error:f}=n;if(f)throw f;a=(l=d.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new da;const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(a,n){try{if(!Zt())throw new el("No browser detected.");if(a.error||a.error_description||a.error_code)throw new el(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new el("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new uh("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=a;if(!u||!f||!d||!g)throw new el("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(f);let v=x+w;p&&(v=parseInt(p));const b=v-x;b*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const j=v-w;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:N,error:_}=await this._getUser(u);if(_)throw _;const E={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:w,expires_at:v,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:a.type},error:null})}catch(l){if(Me(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await Ln(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({error:u});const d=(l=c.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:f}=await this.admin.signOut(d,a);if(f&&!(Sb(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return a!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const n=Y_(),l={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async n=>{var l,c;try{const{data:{session:u},error:d}=n;if(d)throw d;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,n={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ds(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var a;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var n;try{const{data:l,error:c}=await this._useSession(async u=>{var d,f,p,g,x;const{data:w,error:v}=u;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=a.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Zt()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(Me(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async n=>{var l;try{const{error:c,data:{session:u}}=n;if(c)throw c;const{options:d,provider:f,token:p,access_token:g,nonce:x}=a,w=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:f,id_token:p,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Fa}),{data:v,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Un}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(c){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),Me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async n=>{var l,c;const{data:u,error:d}=n;if(d)throw d;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await J_(async c=>(c>0&&await Q_(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Fa})),(c,u)=>{const d=200*Math.pow(2,c);return u&&Xo(u)&&Date.now()+d-l<zs})}catch(l){if(this._debug(n,"error",l),Me(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",l),Zt()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ln(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await $s(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:Vd()}else if(c&&!c.user&&!c.user){const d=await Ln(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await Wt(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,c)):c.user=Vd()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<$d;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${$d}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Xo(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(c.access_token);!f&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var n,l;if(!a)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yc;const{data:u,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!u.session)throw new da;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(c,"error",u),Me(u)){const d={data:null,error:u};return Xo(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,n,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(a,n)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},a),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await $s(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=dg(c);await $s(this.storage,this.storageKey,u)}else{const c=dg(n);await $s(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${zs}ms, refresh threshold is ${oh} ticks`),c<=oh&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Dh)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,l){const c=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,d]=await Ds(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(f.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;return u?this._returnResult({data:null,error:u}):await qe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(a){try{return await this._useSession(async n=>{var l,c;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:g}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?E2(a.webauthn.credential_response):T2(a.webauthn.credential_response)})}:{code:a.code}),{data:f,error:p}=await qe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await qe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:N2(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:S2(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(a){const{data:n,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){var a;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(a=n?.factors)!==null&&a!==void 0?a:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,n;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Pd(l.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((n=(a=l.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new da})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(a,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new da});const d=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Zt()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new da});const d=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Zt()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:n},error:l}=a;return l?this._returnResult({data:null,error:l}):n?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new da})})}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?(await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new da})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(a,n={keys:[]}){let l=n.keys.find(f=>f.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(f=>f.kid===a),l&&this.jwks_cached_at+$_>c)return l;const{data:u,error:d}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(f=>f.kid===a),!l)?null:l}async getClaims(a,n={}){try{let l=a;if(!l){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});l=b.session.access_token}const{header:c,payload:u,signature:d,raw:{header:f,payload:p}}=Pd(l);n?.allowExpired||n2(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:b}=await this.getUser(l);if(b)throw b;return{data:{claims:u,header:c,signature:d},error:null}}const x=s2(c.alg),w=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,d,G_(`${f}.${p}`)))throw new lc("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}};Mh.nextInstanceID={};const U2=Oh,B2=Mh,z2=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:U2,AuthApiError:Nb,AuthClient:B2,AuthError:Fs,AuthImplicitGrantRedirectError:el,AuthInvalidCredentialsError:Zi,AuthInvalidJwtError:lc,AuthInvalidTokenResponseError:Un,AuthPKCEGrantCodeExchangeError:uh,AuthRetryableFetchError:ic,AuthSessionMissingError:da,AuthUnknownError:cn,AuthWeakPasswordError:dh,CustomAuthError:Dr,GoTrueAdminApi:Oh,GoTrueClient:Mh,NavigatorLockAcquireTimeoutError:Rb,SIGN_OUT_SCOPES:Qo,isAuthApiError:Sb,isAuthError:Me,isAuthImplicitGrantRedirectError:Tb,isAuthRetryableFetchError:Xo,isAuthSessionMissingError:Eb,isAuthWeakPasswordError:P_,lockInternals:zn,navigatorLock:Ob,processLock:p2},Symbol.toStringTag,{value:"Module"})),Lb=ul(z2);var vg;function $2(){if(vg)return Xi;vg=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.SupabaseAuthClient=void 0;const r=Lb;let a=class extends r.AuthClient{constructor(l){super(l)}};return Xi.SupabaseAuthClient=a,Xi}var yg;function wg(){if(yg)return Mo;yg=1,Object.defineProperty(Mo,"__esModule",{value:!0});const r=Yx,a=Zx(),n=ob,l=C_,c=O_(),u=D_(),d=M_(),f=$2();class p{constructor(x,w,v){var b,j,N;this.supabaseUrl=x,this.supabaseKey=w;const _=(0,d.validateSupabaseUrl)(x);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const E=`sb-${_.hostname.split(".")[0]}-auth-token`,A={db:c.DEFAULT_DB_OPTIONS,realtime:c.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},c.DEFAULT_AUTH_OPTIONS),{storageKey:E}),global:c.DEFAULT_GLOBAL_OPTIONS},C=(0,d.applySettingDefaults)(v??{},A);this.storageKey=(b=C.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(j=C.global.headers)!==null&&j!==void 0?j:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(H,K)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(K)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=C.auth)!==null&&N!==void 0?N:{},this.headers,C.global.fetch),this.fetch=(0,u.fetchWithAuth)(w,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.accessToken&&this.accessToken().then(H=>this.realtime.setAuth(H)).catch(H=>console.warn("Failed to set initial Realtime auth token:",H)),this.rest=new a.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new l.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new r.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,w={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,w,v)}channel(x,w={config:{}}){return this.realtime.channel(x,w)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,w;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(w=(x=v.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:w,detectSessionInUrl:v,storage:b,userStorage:j,storageKey:N,flowType:_,lock:E,debug:A,throwOnError:C},H,K){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},R),H),storageKey:N,autoRefreshToken:x,persistSession:w,detectSessionInUrl:v,storage:b,userStorage:j,flowType:_,lock:E,debug:A,throwOnError:C,fetch:K,hasCustomAuthorizationHeader:Object.keys(this.headers).some(te=>te.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,v)=>{this._handleTokenChanged(w,"CLIENT",v?.access_token)})}_handleTokenChanged(x,w,v){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Mo.default=p,Mo}var jg;function P2(){return jg||(jg=1,(function(r){var a=kr&&kr.__createBinding||(Object.create?(function(x,w,v,b){b===void 0&&(b=v);var j=Object.getOwnPropertyDescriptor(w,v);(!j||("get"in j?!w.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(x,b,j)}):(function(x,w,v,b){b===void 0&&(b=v),x[b]=w[v]})),n=kr&&kr.__exportStar||function(x,w){for(var v in x)v!=="default"&&!Object.prototype.hasOwnProperty.call(w,v)&&a(w,x,v)},l=kr&&kr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(r,"__esModule",{value:!0}),r.createClient=r.SupabaseClient=r.FunctionRegion=r.FunctionsError=r.FunctionsRelayError=r.FunctionsFetchError=r.FunctionsHttpError=r.PostgrestError=void 0;const c=l(wg());n(Lb,r);var u=Zx();Object.defineProperty(r,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var d=Yx;Object.defineProperty(r,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(r,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(r,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(r,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(r,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),n(ob,r);var f=wg();Object.defineProperty(r,"SupabaseClient",{enumerable:!0,get:function(){return l(f).default}});const p=(x,w,v)=>new c.default(x,w,v);r.createClient=p;function g(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const w=x.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}g()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(kr)),kr}var Ub=P2();const Bb=pw(Ub),V2=gw({__proto__:null,default:Bb},[Ub]),{PostgrestError:sE,FunctionsHttpError:iE,FunctionsFetchError:lE,FunctionsRelayError:oE,FunctionsError:cE,FunctionRegion:uE,SupabaseClient:dE,createClient:H2,GoTrueAdminApi:hE,GoTrueClient:fE,AuthAdminApi:mE,AuthClient:pE,navigatorLock:gE,NavigatorLockAcquireTimeoutError:xE,lockInternals:bE,processLock:vE,SIGN_OUT_SCOPES:yE,AuthError:wE,AuthApiError:jE,AuthUnknownError:_E,CustomAuthError:NE,AuthSessionMissingError:SE,AuthInvalidTokenResponseError:EE,AuthInvalidCredentialsError:TE,AuthImplicitGrantRedirectError:AE,AuthPKCEGrantCodeExchangeError:kE,AuthRetryableFetchError:CE,AuthWeakPasswordError:RE,AuthInvalidJwtError:OE,isAuthError:DE,isAuthApiError:ME,isAuthSessionMissingError:LE,isAuthImplicitGrantRedirectError:UE,isAuthRetryableFetchError:BE,isAuthWeakPasswordError:zE,RealtimePresence:$E,RealtimeChannel:PE,RealtimeClient:VE,REALTIME_LISTEN_TYPES:HE,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:qE,REALTIME_PRESENCE_LISTEN_EVENTS:IE,REALTIME_SUBSCRIBE_STATES:GE,REALTIME_CHANNEL_STATES:FE}=Bb||V2,zb=r=>{const a=typeof r=="string"?r.trim():void 0;if(!(!a||a.toLowerCase()==="undefined"||a.toLowerCase()==="null"))return a},_g=zb("https://jsbfqegplgsivxohhuxd.supabase.co"),Ng=zb("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzYmZxZWdwbGdzaXZ4b2hodXhkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczMzM5OTAsImV4cCI6MjA3MjkwOTk5MH0.Fc-PiKpS4jsrlWs3UkHJO9x5pWscrQQ40auGBCTHcHA");function q2(){if(_g&&Ng)return H2(_g,Ng);const r=(n="Supabase no est configurado.")=>({data:null,error:{message:n}});return{from:()=>{const n={then:c=>c(r())},l={order:()=>n};return{insert:()=>n,select:()=>l}},storage:{from:()=>({list:()=>({then:n=>n(r())}),upload:()=>({then:n=>n(r())}),createSignedUrl:()=>({then:n=>n(r())})})},auth:{signInWithPassword:async()=>r("Auth no est configurado"),getUser:async()=>r("Auth no est configurado"),getSession:async()=>({data:{session:null}}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},functions:{invoke:async()=>r("Functions no est configurado")},channel:()=>({on:()=>({subscribe:()=>({})})}),removeChannel:()=>{}}}const oe=q2(),Hd={basic:10,premium:25,deluxe:50};function I2(){const r=fl(),[a,n]=T.useState(!1),[l,c]=T.useState(!0),[u,d]=T.useState(null),[f,p]=T.useState([]),[g,x]=T.useState([]),[w,v]=T.useState(!1),[b,j]=T.useState(!1),[N,_]=T.useState({totalClients:0,activeClients:0,pendingClients:0,expiredClients:0,monthlyRevenue:0,popularPlan:"basic",totalRevenue:0,growthRate:0,revenueThisMonth:0,newClientsThisMonth:0,pendingUpgradesCount:0}),E=T.useRef(!1),[A,C]=T.useState(null),H=T.useCallback((I,ae)=>{C({type:I,message:ae}),setTimeout(()=>C(null),4e3)},[]),K=T.useCallback(I=>{const ae=new Date,Z=ae.getMonth(),U=ae.getFullYear(),re=I.length,Q=I.filter(ve=>ve.status==="active").length,J=I.filter(ve=>ve.status==="pending").length,ie=I.filter(ve=>ve.status==="expired"||ve.status==="suspended").length,ye=I.filter(ve=>{const Le=new Date(ve.createdAt);return Le.getMonth()===Z&&Le.getFullYear()===U}).length,Ce=I.reduce((ve,Le)=>ve+(Hd[Le.plan]||0),0),Re=I.reduce((ve,Le)=>Le.status==="active"?ve+(Hd[Le.plan]||0):ve,0),Se=I.reduce((ve,Le)=>{const We=new Date(Le.createdAt);return We.getMonth()===Z&&We.getFullYear()===U?ve+(Hd[Le.plan]||0):ve},0),Je=I.reduce((ve,Le)=>(ve[Le.plan]=(ve[Le.plan]||0)+1,ve),{}),ht=Object.entries(Je).sort((ve,Le)=>Le[1]-ve[1])[0]?.[0]||"basic",ne=I.filter(ve=>{const Le=new Date(ve.createdAt),We=new Date(U,Z-1);return Le.getMonth()===We.getMonth()&&Le.getFullYear()===We.getFullYear()}).length,je=ne>0?(ye-ne)/ne*100:0,be=I.filter(ve=>ve.planStatus==="pending_upgrade").length;_({totalClients:re,activeClients:Q,pendingClients:J,expiredClients:ie,monthlyRevenue:Re,popularPlan:ht,totalRevenue:Ce,growthRate:Math.round(je*100)/100,revenueThisMonth:Se,newClientsThisMonth:ye,pendingUpgradesCount:be})},[]),R=T.useCallback(async()=>{if(!E.current){E.current=!0,v(!0);try{const{data:{session:I}}=await oe.auth.getSession(),ae=I?.user?.email||"",Z=I?.user?.id||"",{data:U,error:re}=await oe.from("clients").select("*").order("created_at",{ascending:!1});if(re){re.message!=="Supabase no est configurado."&&H("error",`Error al cargar clientes: ${re.message}`);return}if(U){const J=U.filter(ie=>ie.id!==Z&&ie.email!==ae).map(ie=>({id:ie.id,clientName:ie.client_name||"Sin nombre",subdomain:ie.subdomain||"sin-subdominio",email:ie.email||"sin-email",plan:ie.plan_type||"basic",status:ie.is_active?new Date(ie.access_until)>new Date?"active":"expired":"suspended",createdAt:ie.created_at,expiresAt:ie.access_until,token:ie.token||"",weddingDate:ie.wedding_date,guestCount:ie.max_guests||0,brideName:ie.bride_name,groomName:ie.groom_name,provisioned:ie.provisioned,planStatus:ie.plan_status,pendingPlan:ie.pending_plan,pendingSince:ie.pending_since}));p(J),K(J)}}catch(I){console.error("Error in loadClients:",I)}finally{E.current=!1,v(!1)}}},[H,K]),te=T.useCallback(async()=>{j(!0);try{const{data:I,error:ae}=await oe.from("admin_messages").select("*").order("created_at",{ascending:!1});if(ae)throw ae;x(I||[])}catch(I){console.error("Error loading messages:",I),H("error",`Error al cargar mensajes: ${I.message}`)}finally{j(!1)}},[H]),ge=async(I,ae)=>{try{const{error:Z}=await oe.from("admin_messages").update({status:ae}).eq("id",I);if(Z)throw Z;return H("success","Estado actualizado"),te(),!0}catch(Z){return console.error("Error updating message status:",Z),H("error",`Error: ${Z.message}`),!1}},me=async I=>{if(!I.client_id||!I.requested_plan)return!1;try{const{error:ae}=await oe.from("clients").update({plan_status:"upgrade_approved",upgrade_approved_at:new Date().toISOString(),upgrade_confirmed:!0,pending_since:null}).eq("id",I.client_id);if(ae)throw ae;return await ge(I.id,"approved"),H("success",`Pago confirmado. El upgrade al plan ${I.requested_plan.toUpperCase()} es ahora permanente.`),R(),!0}catch(ae){return console.error("Error approving upgrade:",ae),H("error",`Error al aprobar: ${ae.message}`),!1}},ce=async I=>{try{const{error:ae}=await oe.from("clients").update({plan_status:"active",upgrade_confirmed:!0,original_plan_type:null,pending_plan:null,upgrade_approved_at:null}).eq("id",I);if(ae)throw ae;return H("success","Pago confirmado. El upgrade es ahora permanente."),R(),!0}catch(ae){return console.error("Error confirming upgrade payment:",ae),H("error",`Error al confirmar pago: ${ae.message}`),!1}},we=async()=>{try{await oe.auth.signOut(),sessionStorage.removeItem("adminAuthed"),sessionStorage.removeItem("adminEmail"),sessionStorage.removeItem("adminId"),n(!1),d(null),r("/admin/login",{replace:!0})}catch(I){console.error("Error logging out:",I),r("/admin/login",{replace:!0})}};return T.useEffect(()=>{(async()=>{c(!0);const ae=setTimeout(()=>c(!1),1e4);try{const{data:{session:Z}}=await oe.auth.getSession();if(!Z||!rN(Z.user)){n(!1),r("/admin/login",{replace:!0});return}const U=Z.user.email||"",re=Z.user.user_metadata?.full_name||U.split("@")[0]||"Administrador";n(!0),d({id:Z.user.id,email:U,full_name:re}),R()}catch{n(!1),r("/admin/login",{replace:!0})}finally{clearTimeout(ae),c(!1)}})()},[r,R]),{authed:a,isCheckingAuth:l,adminInfo:u,clients:f,setClients:p,loadingClients:w,stats:N,calculateStats:K,notification:A,showNotification:H,loadClients:R,messages:g,loadingMessages:b,loadMessages:te,updateMessageStatus:ge,approveUpgradeRequest:me,confirmUpgradePayment:ce,logout:we,confirmUpgrade:async(I,ae)=>{try{const{error:Z}=await oe.from("clients").update({plan_type:ae,plan_status:"active",pending_plan:null,pending_since:null}).eq("id",I);if(Z)throw Z;return H("success","Plan actualizado correctamente"),R(),!0}catch(Z){return console.error("Error confirming upgrade:",Z),H("error",`Error al confirmar upgrade: ${Z.message}`),!1}}}}const Is={MAIN_DOMAIN:"vercel.app",PLANS:{basic:{name:"Bsico",duration:30,maxGuests:50,price:100,features:["Sitio web personalizado","Galera de fotos (30)","1 Video (2 min)","RSVP (50)","Mensajes (50)","Padrinos"]},premium:{name:"Premium",duration:60,maxGuests:200,price:200,features:["Sitio web personalizado","Galera de fotos (80)","3 Videos (5 min)","RSVP (200)","Mensajes (200)","Countdown","Msica de fondo","Padrinos"]},deluxe:{name:"Deluxe",duration:90,maxGuests:999999,price:300,features:["Invitados ILIMITADOS","Fotos ilimitadas","Videos ilimitados (10 min c/u)","RSVP Ilimitado","Mensajes Ilimitados","Animaciones avanzadas","Video de fondo","Padrinos"]}},AUTH:{MASTER_ADMIN_PASSWORD:"admin123",ADMIN_PASSWORD:"admin456",MASTER_ADMIN_INVITE_CODE:"CHANGE_THIS_SECRET_CODE_12345"},DATABASE:{SUPABASE_URL:"https://jsbfqegplgsivxohhuxd.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzYmZxZWdwbGdzaXZ4b2hodXhkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczMzM5OTAsImV4cCI6MjA3MjkwOTk5MH0.Fc-PiKpS4jsrlWs3UkHJO9x5pWscrQQ40auGBCTHcHA"}};function $n(r){return r?window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/invitacion/${r}`:`https://${r}-invitacion.vercel.app`:"#"}const rt={heroBadgeText:"Tu historia de amor, compartida elegantemente",heroTitleLine1:"Donde cada",heroTitleHighlight:"suspiro",heroTitleLine2:"se convierte",heroTitleLine3:"en eternidad",heroDescription:"Crea un sitio web excepcional para tu boda. Comparte tu amor con elegancia y haz que cada momento sea memorable para tus invitados con nuestra plataforma de ltima generacin.",heroButton1Text:"Descubrir Planes",heroButton2Text:"Consultar Disponibilidad",featuresBadge:"CARACTERSTICAS EXCLUSIVAS",featuresTitleLine1:"Diseado para el",featuresTitleHighlight:"amor eterno",featuresDescription:"Cada detalle cuidadosamente creado para hacer de tu sitio web el reflejo perfecto de tu historia de amor",featuresList:[{icon:"",title:"Diseo Exclusivo",description:"Plantillas nicas adaptadas a tu estilo y personalidad con tecnologa de vanguardia"},{icon:"",title:"Galera Elegante",description:"Muestra tus mejores momentos con una galera sofisticada y de alta resolucin"},{icon:"",title:"RSVP Inteligente",description:"Gestin automtica de confirmaciones con recordatorios inteligentes"},{icon:"",title:"Mensajes Especiales",description:"Libro de visitas digital para recuerdos eternos de tus seres queridos"},{icon:"",title:"Cuenta Regresiva",description:"Mantn la emocin con un contador elegante y personalizable"},{icon:"",title:"Ambiente Musical",description:"Tu cancin especial ambientando cada visita al sitio"}],plansBadge:"PLANES Y PRECIOS",plansTitleLine1:"El plan perfecto para",plansTitleHighlight:"tu da especial",plansDescription:"Desde lo esencial hasta una experiencia completa y personalizada para hacer tu boda inolvidable",plansPopularBadge:"Ms Popular",plansData:{basic:{name:"Bsico",duration:30,maxGuests:50,price:100,features:["Sitio web personalizado","Galera de fotos (30)","1 Video (2 min)","RSVP (50)","Mensajes (50)","Padrinos"]},premium:{name:"Premium",duration:60,maxGuests:200,price:200,features:["Sitio web personalizado","Galera de fotos (80)","3 Videos (5 min)","RSVP (200)","Mensajes (200)","Countdown","Msica de fondo","Padrinos"]},deluxe:{name:"Deluxe",duration:90,maxGuests:999999,price:300,features:["Invitados ILIMITADOS","Fotos ilimitadas","Videos ilimitadas (10 min c/u)","RSVP Ilimitado","Mensajes Ilimitados","Animaciones avanzadas","Video de fondo","Padrinos"]}},contactBadge:"CONTACTO",contactTitleLine1:"Comienza tu",contactTitleHighlight:"historia de amor",contactDescription:"Estamos aqu para hacer realidad el sitio web perfecto para tu boda. Cuntanos sobre tu proyecto y creemos magia juntos.",footerBrandName:"SuspiroNupcial",footerDescription:"Creamos sitios web excepcionales para bodas, donde cada detalle cuenta la historia nica de tu amor. Elegante, moderno y memorable.",footerLinks:["Servicios","Planes","Contacto","Login"],footerSocialLinks:["Instagram","Facebook","Pinterest"],footerCopyright:" 2024 SuspiroNupcial. Todos los derechos reservados.",footerCopyrightText:"Hecho con  para tu da especial",footerEmail:"hola@suspironupcial.com",footerPhone:"+58 412 123 4567"};async function $b(){try{const{data:r,error:a}=await oe.from("landing_page_content").select("*").limit(1).limit(1).maybeSingle();return a||!r?rt:{id:r.id,heroBadgeText:r.hero_badge_text||rt.heroBadgeText,heroTitleLine1:r.hero_title_line1||rt.heroTitleLine1,heroTitleHighlight:r.hero_title_highlight||rt.heroTitleHighlight,heroTitleLine2:r.hero_title_line2||rt.heroTitleLine2,heroTitleLine3:r.hero_title_line3||rt.heroTitleLine3,heroDescription:r.hero_description||rt.heroDescription,heroButton1Text:r.hero_button1_text||rt.heroButton1Text,heroButton2Text:r.hero_button2_text||rt.heroButton2Text,featuresBadge:r.features_badge||rt.featuresBadge,featuresTitleLine1:r.features_title_line1||rt.featuresTitleLine1,featuresTitleHighlight:r.features_title_highlight||rt.featuresTitleHighlight,featuresDescription:r.features_description||rt.featuresDescription,featuresList:Array.isArray(r.features_list)?r.features_list:rt.featuresList,plansBadge:r.plans_badge||rt.plansBadge,plansTitleLine1:r.plans_title_line1||rt.plansTitleLine1,plansTitleHighlight:r.plans_title_highlight||rt.plansTitleHighlight,plansDescription:r.plans_description||rt.plansDescription,plansPopularBadge:r.plans_popular_badge||rt.plansPopularBadge,plansData:r.plans_data&&typeof r.plans_data=="object"?r.plans_data:rt.plansData,contactBadge:r.contact_badge||rt.contactBadge,contactTitleLine1:r.contact_title_line1||rt.contactTitleLine1,contactTitleHighlight:r.contact_title_highlight||rt.contactTitleHighlight,contactDescription:r.contact_description||rt.contactDescription,footerBrandName:r.footer_brand_name||rt.footerBrandName,footerDescription:r.footer_description||rt.footerDescription,footerLinks:Array.isArray(r.footer_links)?r.footer_links:rt.footerLinks,footerSocialLinks:Array.isArray(r.footer_social_links)?r.footer_social_links:rt.footerSocialLinks,footerCopyright:r.footer_copyright||rt.footerCopyright,footerCopyrightText:r.footer_copyright_text||rt.footerCopyrightText,footerEmail:r.footer_email||rt.footerEmail,footerPhone:r.footer_phone||rt.footerPhone}}catch{return rt}}async function G2(r){try{const a={hero_badge_text:r.heroBadgeText,hero_title_line1:r.heroTitleLine1,hero_title_highlight:r.heroTitleHighlight,hero_title_line2:r.heroTitleLine2,hero_title_line3:r.heroTitleLine3,hero_description:r.heroDescription,hero_button1_text:r.heroButton1Text,hero_button2_text:r.heroButton2Text,features_badge:r.featuresBadge,features_title_line1:r.featuresTitleLine1,features_title_highlight:r.featuresTitleHighlight,features_description:r.featuresDescription,features_list:r.featuresList,plans_badge:r.plansBadge,plans_title_line1:r.plansTitleLine1,plans_title_highlight:r.plansTitleHighlight,plans_description:r.plansDescription,plans_popular_badge:r.plansPopularBadge,plans_data:r.plansData,contact_badge:r.contactBadge,contact_title_line1:r.contactTitleLine1,contact_title_highlight:r.contactTitleHighlight,contact_description:r.contactDescription,footer_brand_name:r.footerBrandName,footer_description:r.footerDescription,footer_links:r.footerLinks,footer_social_links:r.footerSocialLinks,footer_copyright:r.footerCopyright,footer_copyright_text:r.footerCopyrightText,footer_email:r.footerEmail,footer_phone:r.footerPhone};if(r.id){const{error:c}=await oe.from("landing_page_content").update(a).eq("id",r.id);if(c)throw console.error("[saveLandingPageContent] Error en UPDATE:",c),c;return!0}const{data:n,error:l}=await oe.from("landing_page_content").select("id").limit(1).maybeSingle();if(l&&console.error("[saveLandingPageContent] Error verificando existencia:",l),n?.id){const{error:c}=await oe.from("landing_page_content").update(a).eq("id",n.id);if(c)throw console.error("[saveLandingPageContent] Error en UPDATE (existente):",c),c}else{const{error:c}=await oe.from("landing_page_content").insert([a]);if(c)throw console.error("[saveLandingPageContent] Error en INSERT:",c),c}return!0}catch(a){return console.error("[saveLandingPageContent] Error crtico:",a),a.code&&console.error("[saveLandingPageContent] Cdigo de error:",a.code),a.details&&console.error("[saveLandingPageContent] Detalles:",a.details),a.hint&&console.error("[saveLandingPageContent] Sugerencia:",a.hint),!1}}const Pb="America/Lima";function F2(r,a,n=Pb){if(!r||!a)return"";const[l,c,u]=r.split("-").map(Number),d=Fn(a);let[f,p]=d.split(":").map(Number);const g=5;return new Date(Date.UTC(l,c-1,u,f+g,p,0,0)).toISOString()}function Fn(r){if(!r)return"12:00";let a=r.trim().toUpperCase();const n=a.includes("PM"),l=a.includes("AM"),c=a.match(/(\d{1,2}):(\d{2})/);if(!c)return"12:00";let u=parseInt(c[1],10),d=parseInt(c[2],10);return n?u<12&&(u+=12):l&&u===12&&(u=0),u=Math.max(0,Math.min(23,u)),d=Math.max(0,Math.min(59,d)),`${String(u).padStart(2,"0")}:${String(d).padStart(2,"0")}`}function Jo(r,a=!0){if(!r)return"";const n=Fn(r);return a?Vb(n):n}function Y2(r,a,n=Pb){const l=F2(r,a,n);return l?new Date(l).getTime():0}function Sg(r,a,n){let l=r;return n==="PM"&&l<12&&(l+=12),n==="AM"&&l===12&&(l=0),`${String(l).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function fh(r){if(!r)return{hour:12,minute:0,ampm:"PM"};const a=/PM/i.test(r),n=/AM/i.test(r),l=r.match(/(\d{1,2}):(\d{1,2})/);if(!l)return{hour:12,minute:0,ampm:"PM"};let c=parseInt(l[1],10),u=parseInt(l[2],10);a&&c<12&&(c+=12),n&&c===12&&(c=0);const d=c>=12&&c<24?"PM":"AM";let f=c%12;return f===0&&(f=12),{hour:f,minute:u||0,ampm:d}}function Vb(r){if(!r)return"";const{hour:a,minute:n,ampm:l}=fh(r),c=l==="PM"?"p. m.":"a. m.";return`${a}:${String(n).padStart(2,"0")} ${c}`}const Hb={basic:{name:"Bsico",duration:30,maxGuests:50,features:["Sitio web personalizado","Galera de fotos","RSVP","Mensajes"]},premium:{name:"Premium",duration:60,maxGuests:200,features:["Sitio web personalizado","Galera de fotos","RSVP","Mensajes","Countdown","Msica de fondo"]},deluxe:{name:"Deluxe",duration:90,maxGuests:999999,features:["Sitio web personalizado","Galera de fotos","RSVP","Mensajes","Countdown","Msica de fondo","Video de fondo","Animaciones avanzadas"]}},K2=[];function qb(){try{const r=localStorage.getItem("wedding-clients");if(r)return JSON.parse(r).map(n=>({...n,createdAt:new Date(n.createdAt),weddingDate:new Date(n.weddingDate),accessUntil:new Date(n.accessUntil),expiresAt:new Date(n.expiresAt||n.accessUntil),lastUsed:n.lastUsed?new Date(n.lastUsed):void 0}))}catch{}return K2}function wc(r){try{localStorage.setItem("wedding-clients",JSON.stringify(r))}catch{}}async function X2(){try{const{data:r,error:a}=await oe.from("clients").select("*").order("created_at",{ascending:!1});if(a)throw a.message,a;if(r&&r.length>0)return r.map(n=>({id:n.id,clientName:n.client_name,subdomain:n.subdomain,token:n.token,isActive:n.is_active,createdAt:new Date(n.created_at),lastUsed:n.last_used?new Date(n.last_used):void 0,weddingDate:new Date(n.wedding_date),accessUntil:new Date(n.access_until),planType:n.plan_type,maxGuests:n.max_guests,expiresAt:new Date(n.expires_at||n.access_until),features:n.features||[],groomName:n.groom_name,brideName:n.bride_name,weddingLocation:n.wedding_location,weddingTime:Fn(n.wedding_time),bibleVerse:n.bible_verse,invitationText:n.invitation_text,wedding_datetime_utc:n.wedding_datetime_utc,timezone:n.timezone,backgroundAudioUrl:n.background_audio_url||void 0,heroBackgroundUrl:n.hero_background_url||void 0,heroBackgroundVideoUrl:n.hero_background_video_url||void 0,heroDisplayMode:n.hero_display_mode||"image",heroVideoAudioEnabled:n.hero_video_audio_enabled||!1,cinemaVideoAudioEnabled:n.cinema_video_audio_enabled||!1,advancedAnimations:n.advanced_animations||{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1},mapCoordinates:n.map_coordinates||{lat:-12.0932,lng:-77.0314},ceremonyLocationName:n.ceremony_location_name||void 0,receptionLocationName:n.reception_location_name||void 0,receptionTime:Jo(n.reception_time,!1)||void 0,churchName:n.church_name||void 0,weddingType:n.wedding_type||void 0}))}catch(r){r&&typeof r=="object"&&"message"in r&&r.message}return qb()}let Or=qb();X2().then(r=>{r.length>0&&(Or=r,wc(r))}).catch(()=>{});function Lh(r){const a=Or.find(l=>l.token===r&&l.isActive);if(!a)return null;const n=new Date;return n>a.accessUntil?(a.isActive=!1,Fb(a).catch(()=>{}),null):(a.lastUsed=n,wc(Or),a)}function Ib(r){const a=Or.find(l=>l.subdomain===r&&l.isActive);return a?new Date>a.accessUntil?(a.isActive=!1,Fb(a).catch(()=>{}),null):a:null}async function Q2(r){const{data:a,error:n}=await oe.from("clients").select("*").eq("subdomain",r).eq("is_active",!0).maybeSingle();return n||!a?null:{id:a.id,clientName:a.client_name,subdomain:a.subdomain,token:a.token,isActive:a.is_active,createdAt:new Date(a.created_at),weddingDate:new Date(a.wedding_date),accessUntil:new Date(a.access_until),planType:a.plan_type,maxGuests:a.max_guests,expiresAt:new Date(a.expires_at||a.access_until),features:a.features||[],groomName:a.groom_name,brideName:a.bride_name,weddingLocation:a.wedding_location,weddingTime:Fn(a.wedding_time),receptionTime:Fn(a.reception_time),bibleVerse:a.bible_verse,bibleVerseBook:a.bible_verse_book,invitationText:a.invitation_text,backgroundAudioUrl:a.background_audio_url||void 0,heroBackgroundUrl:a.hero_background_url||void 0,heroBackgroundVideoUrl:a.hero_background_video_url||void 0,heroDisplayMode:a.hero_display_mode||"image",heroVideoAudioEnabled:a.hero_video_audio_enabled||!1,cinemaVideoAudioEnabled:a.cinema_video_audio_enabled||!1,weddingType:a.wedding_type||void 0,advancedAnimations:a.advanced_animations||void 0,mapCoordinates:a.map_coordinates||{lat:-12.0932,lng:-77.0314},ceremonyLocationName:a.ceremony_location_name||void 0,receptionLocationName:a.reception_location_name||void 0,churchName:a.church_name||void 0,ceremonyAddress:a.ceremony_address,ceremonyReference:a.ceremony_reference,ceremonyMapUrl:a.ceremony_map_url,receptionAddress:a.reception_address,receptionMapUrl:a.reception_map_url,receptionReference:a.reception_reference,isReceptionSameAsCeremony:a.is_reception_same_as_ceremony,wedding_datetime_utc:a.wedding_datetime_utc,timezone:a.timezone}}function J2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=Math.random()*16|0;return(r==="x"?a:a&3|8).toString(16)})}async function Gb(r,a,n,l){const c=J2(),u=Date.now(),d=Math.random().toString(36).substring(2,8),f=`boda-${a}-${u}-${d}`,p=Hb[l],g=new Date(n);g.setDate(g.getDate()+p.duration);const x={id:c,clientName:r,subdomain:a,token:f,isActive:!0,createdAt:new Date,weddingDate:n,accessUntil:g,planType:l,maxGuests:p.maxGuests,features:p.features,expiresAt:g};return Or.push(x),wc(Or),x}async function Fb(r){try{const a=r.id,n=["gallery","audio"];for(const l of n){const c=[a,`${a}/uploads`];for(const u of c){const{data:d,error:f}=await oe.storage.from(l).list(u,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(!f&&d&&d.length){const p=d.map(g=>`${u}/${g.name}`);await oe.storage.from(l).remove(p).catch(()=>{})}}}try{await oe.from("rsvps").delete().eq("client_id",r.id)}catch{}try{await oe.from("messages").delete().eq("client_id",r.id)}catch{}try{await oe.from("clients").delete().eq("id",r.id)}catch{}Or=Or.filter(l=>l.id!==r.id),wc(Or)}catch{}}async function mh(r){try{const{data:a,error:n}=await oe.from("clients").select("*").eq("token",r).eq("is_active",!0).maybeSingle();if(n||!a)return console.warn("[authenticateClientWithToken] Token no encontrado o inactivo"),!1;const l={id:a.id,clientName:a.client_name,subdomain:a.subdomain,token:a.token,isActive:a.is_active,createdAt:new Date,weddingDate:new Date(a.wedding_date),accessUntil:new Date(a.access_until||new Date),planType:a.plan_type,maxGuests:a.max_guests,expiresAt:new Date(a.expires_at||a.wedding_date),features:a.features||[],groomName:a.groom_name,brideName:a.bride_name,weddingLocation:a.wedding_location,weddingTime:Fn(a.wedding_time),receptionTime:Fn(a.reception_time),bibleVerse:a.bible_verse,bibleVerseBook:a.bible_verse_book,invitationText:a.invitation_text,backgroundAudioUrl:a.background_audio_url||void 0,heroBackgroundUrl:a.hero_background_url||void 0,heroBackgroundVideoUrl:a.hero_background_video_url||void 0,heroDisplayMode:a.hero_display_mode||"image",heroVideoAudioEnabled:a.hero_video_audio_enabled||!1,cinemaVideoAudioEnabled:a.cinema_video_audio_enabled||!1,advancedAnimations:a.advanced_animations||void 0,mapCoordinates:a.map_coordinates||{lat:-12.0932,lng:-77.0314},ceremonyLocationName:a.ceremony_location_name||void 0,receptionLocationName:a.reception_location_name||void 0,churchName:a.church_name||void 0,ceremonyAddress:a.ceremony_address,ceremonyReference:a.ceremony_reference,ceremonyMapUrl:a.ceremony_map_url,receptionAddress:a.reception_address,receptionMapUrl:a.reception_map_url,receptionReference:a.reception_reference,isReceptionSameAsCeremony:a.is_reception_same_as_ceremony,wedding_datetime_utc:a.wedding_datetime_utc,timezone:a.timezone},c=a.email||`client-${l.subdomain}@invitacionbodas.com`,u=r;console.log("[authenticateClientWithToken] Intentando login...",{email:c,tokenPrefix:r.substring(0,10)+"...",clientSubdomain:l.subdomain});const{data:d,error:f}=await oe.auth.signInWithPassword({email:c,password:u});if(f){if(console.warn("[authenticateClientWithToken] Error en signInWithPassword:",f.message),f.message.includes("Invalid login credentials")||f.status===400){console.log("[authenticateClientWithToken] Intentando autorrecuperacin (SignUp)...");const{data:p,error:g}=await oe.auth.signUp({email:c,password:u,options:{data:{role:"client",subdomain:l.subdomain,clientId:l.id,clientName:l.clientName,planType:l.planType}}});if(p?.user&&!g)return console.log("[authenticateClientWithToken] Autorrecuperacin exitosa. Usuario recreado."),!0;g&&console.error("[authenticateClientWithToken] Fall la autorrecuperacin:",g.message)}if(f.message.includes("not confirmed")||f.message.includes("Email not confirmed")){try{await oe.auth.updateUser({data:{subdomain:l.subdomain,client_id:l.id,clientName:l.clientName,planType:l.planType,role:"client"}})}catch{}return!0}return console.error("[authenticateClientWithToken] Login fallido definitivamente."),!1}if(d?.user){try{const{error:p}=await oe.auth.updateUser({data:{client_id:l.id,clientName:l.clientName,planType:l.planType,weddingDate:l.weddingDate.toISOString(),role:"client"}});p&&console.warn("[authenticateClientWithToken] Error al actualizar user metadata:",p.message);try{await oe.auth.refreshSession()}catch(g){console.warn("[authenticateClientWithToken] Error al refrescar sesin:",g)}}catch(p){console.warn("[authenticateClientWithToken] Error inesperado al actualizar user:",p)}return!0}return!1}catch(a){return console.error("[authenticateClientWithToken] Error inesperado:",a),!1}}const Eg=Object.freeze(Object.defineProperty({__proto__:null,PLANS:Hb,authenticateClientWithToken:mh,fetchClientBySubdomain:Q2,generateClientToken:Gb,getClientBySubdomain:Ib,validateClientToken:Lh},Symbol.toStringTag,{value:"Module"}));async function W2(r){try{const a=r.subdomain.toLowerCase().trim(),{data:n,error:l}=await oe.from("clients").select("id, subdomain").eq("subdomain",a).maybeSingle();if(l&&l.code!=="PGRST116")return{success:!1,error:`Error al verificar subdominio: ${l.message}`};if(n)return{success:!1,error:`El subdominio "${a}" ya est en uso. Por favor, elige otro.`};const c=await Gb(r.clientName,a,r.weddingDate,r.plan),u=r.email&&r.email.trim()?r.email.trim():`client-${a}@invitacionbodas.com`,{data:d,error:f}=await oe.from("clients").insert([{id:c.id,client_name:r.clientName,subdomain:a,email:u,token:c.token,is_active:!0,wedding_date:r.weddingDate.toISOString(),access_until:c.accessUntil.toISOString(),plan_type:r.plan,max_guests:r.guestCount,groom_name:r.groomName||null,bride_name:r.brideName||null,created_at:new Date().toISOString(),last_used:null,provisioned:!1}]).select().single();if(f)return f.code==="23505"||f.code==="PGRST116"||f.message?.includes("duplicate")||f.message?.includes("already exists")||f.message?.includes("Conflict")?{success:!1,error:`El subdominio "${a}" ya est en uso. Por favor, elige otro.`}:{success:!1,error:`Error al crear cliente: ${f.message||"Error desconocido"}`};const{data:{session:p}}=await oe.auth.getSession();try{const{data:x,error:w}=await oe.auth.signUp({email:u,password:c.token,options:{data:{role:"client",subdomain:a,clientId:d.id,clientName:r.clientName}}});if(p&&await oe.auth.setSession({access_token:p.access_token,refresh_token:p.refresh_token}).catch(()=>{}),w)if(console.warn("[createNewClient] Advertencia en signUp:",w),w.message?.includes("already registered")||w.message?.includes("duplicate")||w.message?.includes("User already registered")){console.log(`[createNewClient] Usuario Auth existente detectado (${u}). Intentando limpieza automtica con force_delete_user...`);const{error:v}=await oe.rpc("force_delete_user",{target_email:u});if(v)return console.error("[createNewClient] Fall la limpieza automtica:",v),{success:!0,client:d,token:c.token,error:` El usuario Auth ya exista y no se pudo limpiar automticamente: ${v.message}. Borra el usuario manualmente en Supabase.`};console.log("[createNewClient] Limpieza exitosa. Reintentando creacin de Auth User...");const{data:b,error:j}=await oe.auth.signUp({email:u,password:c.token,options:{data:{role:"client",subdomain:a,clientId:d.id,clientName:r.clientName}}});if(j)return console.error("[createNewClient] Fall el reintento de creacin:",j),{success:!0,client:d,token:c.token,error:` Se limpi el usuario anterior, pero fall la nueva creacin: ${j.message}.`};console.log("[createNewClient] Reintento exitoso. Cliente y Auth sincronizados."),await oe.from("clients").update({provisioned:!0,provision_error:null}).eq("id",d.id)}else return await oe.from("clients").update({provisioned:!1,provision_error:`Auth Error: ${w.message}`}).eq("id",d.id),{success:!0,client:d,token:c.token,error:` El cliente se cre pero hubo un error en Auth: ${w.message}`};else x?.user&&await oe.from("clients").update({provisioned:!0,provision_error:null}).eq("id",d.id)}catch(x){await oe.from("clients").update({provisioned:!1,provision_error:`Error: ${x?.message||"Error desconocido"}. El cliente puede usar mtodo de token.`}).eq("id",d.id)}return{success:!0,client:{id:d.id,clientName:d.client_name,subdomain:d.subdomain,email:d.email,plan:d.plan_type,status:d.is_active?"active":"pending",createdAt:d.created_at,expiresAt:d.access_until,token:d.token,weddingDate:d.wedding_date,guestCount:d.max_guests,lastLogin:d.last_used||void 0,brideName:d.bride_name||void 0,groomName:d.groom_name||void 0,provisioned:d.provisioned||!1,provisionError:d.provision_error||void 0},token:c.token}}catch(a){return{success:!1,error:a.message||"Error desconocido al crear cliente"}}}async function Z2(r,a){try{const{error:n}=await oe.from("clients").update(a).eq("id",r);return n?{success:!1,error:n.message}:{success:!0}}catch(n){return{success:!1,error:n.message||"Error desconocido al actualizar cliente"}}}async function Tg(r,a,n,l){try{await oe.from("admin_actions").insert([{action:r,resource:a,resource_id:n,metadata:l||{},created_at:new Date().toISOString()}])}catch{}}function eN(r){const[a,n]=T.useState(""),[l,c]=T.useState("all"),[u,d]=T.useState("all"),[f,p]=T.useState("grid"),g=T.useMemo(()=>r.filter(x=>{const w=(x.clientName||"").toLowerCase(),v=(x.email||"").toLowerCase(),b=(x.token||"").toLowerCase(),j=(x.subdomain||"").toLowerCase(),N=a.toLowerCase(),_=w.includes(N)||v.includes(N)||b.includes(N)||j.includes(N),E=l==="all"||x.status===l,A=u==="all"||x.plan===u;return _&&E&&A}),[r,a,l,u]);return{searchTerm:a,setSearchTerm:n,filterStatus:l,setFilterStatus:c,filterPlan:u,setFilterPlan:d,activeView:f,setActiveView:p,filteredClients:g}}async function tN(r){const a=["gallery","audio","videos"],n={gallery:"hero",audio:"audio",videos:"video"};try{for(const l of a){const c=n[l],u=`${r}/${c}`,{data:d,error:f}=await oe.storage.from(l).list(u);if(f){console.error(`[Cleanup] Error listando ${l}/${u}:`,f);continue}if(d&&d.length>0){const g=d.map(w=>`${u}/${w.name}`),{error:x}=await oe.storage.from(l).remove(g);x?console.error(`[Cleanup] Error borrando archivos en ${l}:`,x):console.log(`[Cleanup] Borrados ${g.length} archivos de ${l}/${u}`)}const{data:p}=await oe.storage.from(l).list(r);if(p&&p.length>0){const g=p.map(x=>`${r}/${x.name}`);await oe.storage.from(l).remove(g)}}return{success:!0}}catch(l){return console.error("[Cleanup] Error crtico en limpieza de storage:",l),{success:!1,error:l.message}}}function aN(r,a,n,l,c,u){const[d,f]=T.useState(null),[p,g]=T.useState(!1),[x,w]=T.useState(!1),[v,b]=T.useState(null),[j,N]=T.useState(null),[_,E]=T.useState(!1),[A,C]=T.useState(!1),[H,K]=T.useState({}),[R,te]=T.useState({clientName:"",subdomain:"",email:"",plan:"basic",weddingDate:"",guestCount:100,brideName:"",groomName:""}),ge=()=>{const J=["","","","","","","",""];return J[Math.floor(Math.random()*J.length)]},me=async()=>{if(!R.clientName||!R.subdomain||!R.weddingDate){c("error","Por favor completa todos los campos obligatorios");return}try{const J=await W2({...R,weddingDate:new Date(R.weddingDate)});if(!J.success){const ye=J.error||"Error al crear el cliente";if(ye.includes("subdominio")&&(ye.includes("ya est")||ye.includes("duplicado"))){c("error",` ${ye}

 Tip: Prueba agregando nmeros o fechas al subdominio.`);return}c("error",ye);return}if(J.client?.id&&await Tg("create_client","client",J.client.id,{clientName:R.clientName,subdomain:R.subdomain,plan:R.plan}),J.client){const ye={...J.client,avatar:ge()};a(Ce=>{const Re=[ye,...Ce];return l(Re),Re})}b({token:J.token||"",subdomain:R.subdomain.toLowerCase(),clientName:R.clientName}),w(!0);const ie=R.clientName;te({clientName:"",subdomain:"",email:"",plan:"basic",weddingDate:"",guestCount:100,brideName:"",groomName:""}),g(!1),C(!1),setTimeout(async()=>{await n()},1e3),c("success",` Cliente "${ie}" creado exitosamente`)}catch(J){c("error","Error al crear el cliente: "+(J.message||"Error desconocido"))}},ce=async(J,ie)=>{try{const{error:ye}=await oe.from("clients").update({is_active:ie==="active"}).eq("id",J);if(ye){c("error",ye.message||"Error al actualizar");return}await n(),c("success",`Estado actualizado a ${ie}`)}catch{c("error","Error al actualizar el estado")}},we=async J=>{const ie=r.find(Ce=>Ce.id===J);if(await u({title:"Eliminar Cliente",message:`Ests seguro de que quieres eliminar a "${ie?.clientName}"? Esta accin no se puede deshacer.`,confirmText:"Eliminar",cancelText:"Cancelar",type:"danger"}))try{c("success",` Iniciando limpieza profunda para "${ie?.clientName}"...`),await tN(J),await Promise.allSettled([oe.from("rsvps").delete().eq("client_id",J),oe.from("messages").delete().eq("client_id",J),oe.from("admin_messages").delete().eq("client_id",J),oe.from("admin_actions").delete().eq("resource_id",J)]),ie?.email&&await oe.rpc("force_delete_user",{target_email:ie.email});const{error:Ce}=await oe.from("clients").delete().eq("id",J);if(Ce){c("error",` Error al eliminar registro: ${Ce.message||"Error desconocido"}`);return}await n(),f(null),c("success",` Cliente "${ie?.clientName}" eliminado exitosamente`),await Tg("delete_client","client",J,{clientName:ie?.clientName})}catch(Ce){c("error",` Error al eliminar el cliente: ${Ce.message||"Error inesperado"}`)}},pe=J=>{N({id:J.id,clientName:J.clientName,email:J.email,plan:J.plan,weddingDate:J.weddingDate?.split("T")[0],guestCount:J.guestCount,brideName:J.brideName,groomName:J.groomName}),E(!0)},I=async()=>{if(j)try{const J=await Z2(j.id,{client_name:j.clientName,email:j.email,plan_type:j.plan,wedding_date:j.weddingDate,max_guests:j.guestCount,bride_name:j.brideName||null,groom_name:j.groomName||null});if(!J.success){c("error",J.error||"Error al actualizar");return}await n(),E(!1),N(null),c("success","Cliente actualizado exitosamente")}catch{c("error","Error al actualizar el cliente")}},ae=T.useCallback((J,ie)=>{N(ye=>ye?{...ye,[J]:ie}:null)},[]);return{selectedClient:d,setSelectedClient:f,isCreatingClient:p,setIsCreatingClient:g,showTokenModal:x,setShowTokenModal:w,createdClientData:v,setCreatedClientData:b,editingClient:j,setEditingClient:N,showEditModal:_,setShowEditModal:E,newClient:R,setNewClient:te,subdomainManual:A,setSubdomainManual:C,provisionStatus:H,setProvisionStatus:K,createClient:me,updateClientStatus:ce,deleteClient:we,openEditClient:pe,updateEditingClient:I,handleEditClientChange:ae,renewClientAccess:async(J,ie)=>{try{const ye=r.find(Se=>Se.id===J);if(!ye)return;const Ce=new Date(ye.expiresAt);Ce.setDate(Ce.getDate()+ie);const{error:Re}=await oe.from("clients").update({access_until:Ce.toISOString(),is_active:!0}).eq("id",J);if(Re){c("error","Error al renovar acceso");return}await n(),c("success",`Acceso renovado por ${ie} das`)}catch{c("error","Error al renovar acceso")}},changeClientPlan:async(J,ie)=>{try{const{error:ye}=await oe.from("clients").update({plan_type:ie,max_guests:Is.PLANS[ie].maxGuests}).eq("id",J);if(ye){c("error","Error al cambiar plan");return}await n(),c("success",`Plan cambiado a ${ie}`)}catch{c("error","Error al cambiar plan")}},provisionClient:async J=>{if(!J||!J.id){c("error"," Error: Cliente no seleccionado correctamente");return}const ie=J.id,ye=J.subdomain,Ce=J.token,Re=J.clientName;K(Se=>({...Se,[ie]:{status:"in_progress"}}));try{const{data:{session:Se}}=await oe.auth.getSession();if(!Se){K(je=>({...je,[ie]:{status:"error",error:"No hay sesin activa"}})),c("error"," Error: No hay sesin activa. Por favor, inicia sesin nuevamente.");return}const Je=`client-${ye}@invitacionbodas.com`,{error:ht}=await oe.auth.signUp({email:Je,password:Ce,options:{data:{role:"client",subdomain:ye,clientId:ie,clientName:Re}}});if(Se&&await oe.auth.setSession({access_token:Se.access_token,refresh_token:Se.refresh_token}).catch(je=>{console.warn("Error al restaurar sesin:",je),oe.auth.refreshSession(Se).catch(()=>{})}),ht&&!ht.message?.includes("already registered")&&!ht.message?.includes("duplicate")){K(je=>({...je,[ie]:{status:"error",error:ht.message}})),c("error",`Error al provisionar acceso: ${ht.message}`);return}const{error:ne}=await oe.from("clients").update({provisioned:!0,provision_error:null}).eq("id",ie);if(ne){K(je=>({...je,[ie]:{status:"error",error:ne.message}})),c("error",`Error al guardar provisin: ${ne.message}`);return}K(je=>({...je,[ie]:{status:"success"}})),c("success",`Acceso provisionado correctamente

Email: ${Je}`),await new Promise(je=>setTimeout(je,500)),await n()}catch(Se){K(Je=>({...Je,[ie]:{status:"error",error:Se.message}})),c("error",` Error inesperado: ${Se.message}`)}},copyToClipboard:J=>{navigator.clipboard.writeText(J),c("success","Copiado al portapapeles")},generateAvatar:ge}}function rN(r){if(!r)return!1;const a=["mhuallpasullca@gmail.com"];return r.email&&a.includes(r.email)?!0:r?.app_metadata?.role==="master_admin"||r?.user_metadata?.role==="master_admin"}const nN=({newClient:r,setNewClient:a,createClient:n,setIsCreatingClient:l,subdomainManual:c,setSubdomainManual:u})=>{const d=f=>f.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,30);return i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-slate-50/50 rounded-2xl p-6 border border-slate-200",children:[i.jsx("h3",{className:"text-xl font-serif font-bold text-slate-800 mb-6",children:"Crear Nuevo Cliente"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre de la Pareja *"}),i.jsx("input",{type:"text",autoFocus:!0,value:r.clientName,onChange:f=>{a({...r,clientName:f.target.value,subdomain:c?r.subdomain:d(f.target.value)})},placeholder:"Ana Rodrguez y Carlos Lpez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subdominio *"}),i.jsx("input",{type:"text",value:r.subdomain,onChange:f=>{c||u(!0),a({...r,subdomain:f.target.value})},placeholder:"ana-carlos",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Dominio completo: https://",r.subdomain||"tu-subdominio","-invitacion.vercel.app"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r.email,onChange:f=>a({...r,email:f.target.value}),placeholder:"ejemplo@bodas.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Plan *"}),i.jsxs("select",{value:r.plan,onChange:f=>a({...r,plan:f.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900",children:[i.jsxs("option",{value:"basic",children:["Bsico - $",Is.PLANS.basic.price]}),i.jsxs("option",{value:"premium",children:["Premium - $",Is.PLANS.premium.price]}),i.jsxs("option",{value:"deluxe",children:["Deluxe - $",Is.PLANS.deluxe.price]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha de la Boda *"}),i.jsx("input",{type:"date",value:r.weddingDate,onChange:f=>a({...r,weddingDate:f.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero de Invitados"}),i.jsx("input",{type:"number",value:r.guestCount,onChange:f=>a({...r,guestCount:parseInt(f.target.value)||100}),min:1,max:1e3,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre de la Novia"}),i.jsx("input",{type:"text",value:r.brideName,onChange:f=>a({...r,brideName:f.target.value}),placeholder:"Ana Rodrguez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre del Novio"}),i.jsx("input",{type:"text",value:r.groomName,onChange:f=>a({...r,groomName:f.target.value}),placeholder:"Carlos Lpez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-indigo-600"})]}),i.jsxs("div",{className:"md:col-span-2 flex gap-3 pt-4",children:[i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:n,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"Crear Cliente"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>l(!1),className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition-all duration-300",children:"Cancelar"})]})]})]})},sN=({filteredClients:r,setSelectedClient:a,getStatusColor:n,getPlanColor:l,getDaysUntilExpiry:c,confirmUpgrade:u})=>i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((d,f)=>i.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:f*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:shadow-xl transition-all duration-300 group cursor-pointer",onClick:()=>a(d),children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center text-2xl",children:d.avatar}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${n(d.status)} text-white`,children:d.status}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${l(d.plan)} text-white`,children:d.plan})]})]}),i.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-2 group-hover:text-indigo-600 transition-colors duration-300",children:d.clientName}),i.jsxs("p",{className:"text-slate-600 text-sm mb-4 flex items-center gap-2",children:[" ",d.email||"Sin email"]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-500",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subdominio:"}),i.jsx("span",{className:"font-mono text-slate-700",children:d.subdomain})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Token:"}),i.jsx("span",{className:"font-mono text-slate-700 text-xs truncate max-w-[120px]",children:d.token})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Boda:"}),i.jsx("span",{children:new Date(d.weddingDate).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Invitados:"}),i.jsx("span",{children:d.guestCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Expira en:"}),i.jsxs("span",{className:c(d.expiresAt)<7?"text-red-500 font-semibold":"text-slate-700",children:[c(d.expiresAt)," das"]})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-slate-500",children:["Creado: ",new Date(d.createdAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex items-center gap-2",children:[d.planStatus==="pending_upgrade"&&i.jsxs("button",{onClick:p=>{p.stopPropagation(),confirm(`Confirmar upgrade a ${d.pendingPlan?.toUpperCase()} para ${d.clientName}?`)&&u(d.id,d.pendingPlan||"premium")},className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-bold hover:bg-amber-200 transition-colors border border-amber-200",children:["Confirmar ",d.pendingPlan?.toUpperCase()]}),i.jsx(L.button,{whileHover:{scale:1.1},className:"text-slate-400 hover:text-indigo-600 transition-colors duration-300",children:""})]})]})]},d.id))},"grid-view"),iN=({filteredClients:r,setSelectedClient:a,getStatusColor:n,getPlanColor:l,getDaysUntilExpiry:c,confirmUpgrade:u})=>i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:r.map((d,f)=>i.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:shadow-xl transition-all duration-300 group cursor-pointer",onClick:()=>a(d),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center text-xl",children:d.avatar}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-slate-800 truncate text-lg",children:d.clientName}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${n(d.status)} text-white`,children:d.status}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r ${l(d.plan)} text-white`,children:d.plan})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm text-neutral-600 flex-wrap",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.subdomain]}),i.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.token.substring(0,20),"..."]}),d.email&&i.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.email]}),i.jsxs("span",{className:"flex items-center gap-1",children:[" ",new Date(d.weddingDate).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[i.jsxs("div",{className:"text-sm text-neutral-500",children:["Expira en ",c(d.expiresAt)," das"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[d.planStatus==="pending_upgrade"&&i.jsxs("button",{onClick:p=>{p.stopPropagation(),confirm(`Confirmar upgrade a ${d.pendingPlan?.toUpperCase()} para ${d.clientName}?`)&&u(d.id,d.pendingPlan||"premium")},className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-bold hover:bg-amber-200 transition-colors border border-amber-200",children:["Confirmar ",d.pendingPlan?.toUpperCase()]}),i.jsx(L.button,{whileHover:{scale:1.1},className:"text-neutral-400 hover:text-rose-600 transition-colors duration-300",children:""})]})]})]})},d.id))},"list-view"),lN=()=>{const[r,a]=T.useState(null),[n,l]=T.useState(!0),[c,u]=T.useState(!1),[d,f]=T.useState("edit"),[p,g]=T.useState(null);T.useEffect(()=>{x()},[]);const x=async()=>{l(!0);try{const _=await $b();a(_)}catch{g({type:"error",message:"Error al cargar el contenido"})}finally{l(!1)}},w=async()=>{if(r){u(!0);try{await G2(r)?(g({type:"success",message:"Contenido guardado exitosamente"}),await x()):g({type:"error",message:"Error al guardar el contenido"})}catch(_){console.error("[DEBUG] Error al guardar Landing Page:",_),g({type:"error",message:`Error: ${_.message||"No se pudo guardar el contenido"}`})}finally{u(!1)}}},v=(_,E)=>{r&&a({...r,[_]:E})},b=(_,E,A)=>{if(!r)return;const C=[...r.featuresList];C[_]={...C[_],[E]:A},a({...r,featuresList:C})},j=()=>{r&&a({...r,featuresList:[...r.featuresList,{icon:"",title:"Nueva Caracterstica",description:"Descripcin de la caracterstica"}]})},N=_=>{if(!r)return;const E=r.featuresList.filter((A,C)=>C!==_);a({...r,featuresList:E})};return n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"text-slate-600",children:"Cargando contenido..."})}):r?i.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Editor de Landing Page"}),i.jsx("p",{className:"text-slate-600",children:"Administra el contenido de tu pgina principal"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex bg-rose-50 rounded-xl p-1",children:[i.jsx("button",{onClick:()=>f("edit"),className:`px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium ${d==="edit"?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900 hover:bg-white/50"}`,children:" Editar"}),i.jsx("button",{onClick:()=>f("preview"),className:`px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium ${d==="preview"?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900 hover:bg-white/50"}`,children:" Vista Previa"})]})})]}),p&&i.jsx(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-4 rounded-xl ${p.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:p.message}),d==="edit"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Seccin Hero"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge Text"}),i.jsx("input",{type:"text",value:r.heroBadgeText,onChange:_=>v("heroBadgeText",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 1"}),i.jsx("input",{type:"text",value:r.heroTitleLine1,onChange:_=>v("heroTitleLine1",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Destacado"}),i.jsx("input",{type:"text",value:r.heroTitleHighlight,onChange:_=>v("heroTitleHighlight",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 2"}),i.jsx("input",{type:"text",value:r.heroTitleLine2,onChange:_=>v("heroTitleLine2",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 3"}),i.jsx("input",{type:"text",value:r.heroTitleLine3,onChange:_=>v("heroTitleLine3",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Texto Botn 1"}),i.jsx("input",{type:"text",value:r.heroButton1Text,onChange:_=>v("heroButton1Text",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Texto Botn 2"}),i.jsx("input",{type:"text",value:r.heroButton2Text,onChange:_=>v("heroButton2Text",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("textarea",{value:r.heroDescription,onChange:_=>v("heroDescription",_.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Seccin Caractersticas"}),i.jsx("button",{onClick:j,className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"+ Agregar Caracterstica"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge"}),i.jsx("input",{type:"text",value:r.featuresBadge,onChange:_=>v("featuresBadge",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 1"}),i.jsx("input",{type:"text",value:r.featuresTitleLine1,onChange:_=>v("featuresTitleLine1",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Destacado"}),i.jsx("input",{type:"text",value:r.featuresTitleHighlight,onChange:_=>v("featuresTitleHighlight",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("textarea",{value:r.featuresDescription,onChange:_=>v("featuresDescription",_.target.value),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsx("div",{className:"space-y-4",children:r.featuresList.map((_,E)=>i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Caracterstica ",E+1]}),i.jsx("button",{onClick:()=>N(E),className:"text-red-500 hover:text-red-700 text-sm",children:"Eliminar"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Icono"}),i.jsx("input",{type:"text",value:_.icon,onChange:A=>b(E,"icon",A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ttulo"}),i.jsx("input",{type:"text",value:_.title,onChange:A=>b(E,"title",A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Descripcin"}),i.jsx("input",{type:"text",value:_.description,onChange:A=>b(E,"description",A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]})]},E))})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Seccin Planes"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge"}),i.jsx("input",{type:"text",value:r.plansBadge,onChange:_=>v("plansBadge",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge Popular"}),i.jsx("input",{type:"text",value:r.plansPopularBadge,onChange:_=>v("plansPopularBadge",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 1"}),i.jsx("input",{type:"text",value:r.plansTitleLine1,onChange:_=>v("plansTitleLine1",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Destacado"}),i.jsx("input",{type:"text",value:r.plansTitleHighlight,onChange:_=>v("plansTitleHighlight",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("textarea",{value:r.plansDescription,onChange:_=>v("plansDescription",_.target.value),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{className:"mt-6 space-y-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Configuracin de Planes"}),["basic","premium","deluxe"].map(_=>{const E=r.plansData[_],A={basic:"Plan Bsico",premium:"Plan Premium",deluxe:"Plan Deluxe"};return i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("h5",{className:"text-md font-bold text-slate-800 mb-4",children:A[_]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nombre"}),i.jsx("input",{type:"text",value:E.name,onChange:C=>{const H={...r.plansData};H[_]={...E,name:C.target.value},v("plansData",H)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Precio (S/)"}),i.jsx("input",{type:"number",value:E.price,onChange:C=>{const H={...r.plansData};H[_]={...E,price:parseInt(C.target.value)||0},v("plansData",H)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Duracin (das)"}),i.jsx("input",{type:"number",value:E.duration,onChange:C=>{const H={...r.plansData};H[_]={...E,duration:parseInt(C.target.value)||0},v("plansData",H)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Max Invitados"}),i.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[i.jsx("input",{type:"checkbox",checked:E.maxGuests>=999999,onChange:C=>{const H={...r.plansData};C.target.checked?H[_]={...E,maxGuests:999999}:H[_]={...E,maxGuests:200},v("plansData",H)},className:"w-3 h-3 text-rose-500 rounded border-slate-300 focus:ring-rose-500"}),i.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Ilimitado"})]})]}),i.jsx("input",{type:"number",value:E.maxGuests>=999999?"":E.maxGuests,disabled:E.maxGuests>=999999,placeholder:E.maxGuests>=999999?"Ilimitado":"0",onChange:C=>{const H={...r.plansData};H[_]={...E,maxGuests:parseInt(C.target.value)||0},v("plansData",H)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm disabled:bg-slate-50 disabled:text-slate-500"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Caractersticas"}),i.jsx("button",{onClick:()=>{const C={...r.plansData};C[_]={...E,features:[...E.features,"Nueva caracterstica"]},v("plansData",C)},className:"text-xs px-2 py-1 bg-rose-500 text-white rounded hover:bg-rose-600 transition-colors",children:"+ Agregar"})]}),i.jsx("div",{className:"space-y-2",children:E.features.map((C,H)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",value:C,onChange:K=>{const R={...r.plansData},te=[...E.features];te[H]=K.target.value,R[_]={...E,features:te},v("plansData",R)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"}),i.jsx("button",{onClick:()=>{const K={...r.plansData};K[_]={...E,features:E.features.filter((R,te)=>te!==H)},v("plansData",K)},className:"px-3 py-2 text-red-500 hover:text-red-700 text-sm",children:""})]},H))})]})]},_)})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Seccin Contacto"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge"}),i.jsx("input",{type:"text",value:r.contactBadge,onChange:_=>v("contactBadge",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Lnea 1"}),i.jsx("input",{type:"text",value:r.contactTitleLine1,onChange:_=>v("contactTitleLine1",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Destacado"}),i.jsx("input",{type:"text",value:r.contactTitleHighlight,onChange:_=>v("contactTitleHighlight",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("textarea",{value:r.contactDescription,onChange:_=>v("contactDescription",_.target.value),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Footer"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre de Marca"}),i.jsx("input",{type:"text",value:r.footerBrandName,onChange:_=>v("footerBrandName",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Copyright"}),i.jsx("input",{type:"text",value:r.footerCopyright,onChange:_=>v("footerCopyright",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Texto de Copyright Destacado"}),i.jsx("input",{type:"text",value:r.footerCopyrightText,onChange:_=>v("footerCopyrightText",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Hecho con  para tu da especial"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correo de Contacto"}),i.jsx("input",{type:"email",value:r.footerEmail,onChange:_=>v("footerEmail",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"contacto@ejemplo.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telfono de Contacto"}),i.jsx("input",{type:"tel",value:r.footerPhone,onChange:_=>v("footerPhone",_.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"+58 412 123 4567"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("textarea",{value:r.footerDescription,onChange:_=>v("footerDescription",_.target.value),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})]})]}):i.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:i.jsx("div",{className:"h-[800px] overflow-y-auto",children:i.jsx(oN,{content:r})})}),d==="edit"&&i.jsx("div",{className:"fixed bottom-10 left-0 right-0 z-50 flex justify-center pointer-events-none",children:i.jsx(L.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"pointer-events-auto",children:i.jsx(L.button,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:w,disabled:c,className:"bg-rose-500/90 hover:bg-rose-600 text-white font-bold px-8 py-4 rounded-full shadow-[0_10px_40px_-10px_rgba(244,63,94,0.5)] backdrop-blur-md transition-all duration-300 disabled:opacity-50 flex items-center gap-3 border border-white/20",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{children:"Guardando..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("span",{children:"Guardar Cambios"})]})})})})]},"landing"):i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-slate-600",children:"Error al cargar el contenido"})})},oN=({content:r})=>i.jsxs("div",{className:"min-h-full bg-gradient-to-b from-rose-50 via-white to-white",children:[i.jsx("section",{className:"px-6 py-10 border-b border-slate-200",children:i.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-rose-100 text-rose-800 text-sm font-medium mb-4",children:r.heroBadgeText}),i.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold tracking-tight text-slate-900",children:[i.jsxs("span",{children:[r.heroTitleLine1," "]}),i.jsx("span",{className:"bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:r.heroTitleHighlight}),i.jsxs("span",{children:[" ",r.heroTitleLine2]}),i.jsx("div",{children:r.heroTitleLine3})]}),i.jsx("p",{className:"mt-4 text-slate-600 max-w-3xl mx-auto",children:r.heroDescription}),i.jsxs("div",{className:"mt-6 flex items-center justify-center gap-3",children:[i.jsx("button",{className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-rose-500 to-amber-500 text-white font-semibold shadow",children:r.heroButton1Text}),i.jsx("button",{className:"px-5 py-2.5 rounded-xl bg-white border border-slate-200 text-slate-700 font-semibold shadow-sm",children:r.heroButton2Text})]})]})}),i.jsx("section",{className:"px-6 py-10",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-100 text-amber-800 text-sm font-medium mb-3",children:r.featuresBadge}),i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:[i.jsxs("span",{children:[r.featuresTitleLine1," "]}),i.jsx("span",{className:"bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:r.featuresTitleHighlight})]}),i.jsx("p",{className:"mt-3 text-slate-600 max-w-3xl mx-auto",children:r.featuresDescription})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.featuresList.map((a,n)=>i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[i.jsx("div",{className:"text-2xl mb-2",children:a.icon}),i.jsx("div",{className:"font-semibold text-slate-900",children:a.title}),i.jsx("div",{className:"text-slate-600 text-sm mt-1",children:a.description})]},n))})]})}),i.jsx("section",{className:"px-6 py-10 border-t border-slate-200",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-rose-100 text-rose-800 text-sm font-medium mb-3",children:r.plansBadge}),i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:[i.jsxs("span",{children:[r.plansTitleLine1," "]}),i.jsx("span",{className:"bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:r.plansTitleHighlight})]}),i.jsx("p",{className:"mt-3 text-slate-600 max-w-3xl mx-auto",children:r.plansDescription})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["basic","premium","deluxe"].map(a=>{const n=r.plansData[a],l=a==="premium";return i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-bold text-slate-900",children:n.name}),l&&i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-rose-100 text-rose-800",children:r.plansPopularBadge})]}),i.jsxs("div",{className:"mt-2 text-slate-700 text-sm",children:[n.duration," das  ",n.maxGuests>=999999?"Invitados ILIMITADOS":`${n.maxGuests} invitados`]}),i.jsxs("div",{className:"mt-2 text-2xl font-extrabold bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:["$",n.price]}),i.jsx("ul",{className:"mt-3 space-y-1 text-slate-600 text-sm",children:n.features.map((c,u)=>i.jsxs("li",{children:[" ",c]},u))})]},a)})})]})}),i.jsx("section",{className:"px-6 py-10 border-t border-slate-200",children:i.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[i.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-100 text-amber-800 text-sm font-medium mb-3",children:r.contactBadge}),i.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:[i.jsxs("span",{children:[r.contactTitleLine1," "]}),i.jsx("span",{className:"bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:r.contactTitleHighlight})]}),i.jsx("p",{className:"mt-3 text-slate-600 max-w-3xl mx-auto",children:r.contactDescription})]})}),i.jsx("footer",{className:"px-6 py-10 border-t border-slate-200 bg-white",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-slate-900",children:r.footerBrandName}),i.jsx("div",{className:"text-slate-600 text-sm mt-1",children:r.footerDescription})]}),i.jsxs("div",{className:"text-slate-700 text-sm",children:[i.jsx("div",{className:"font-medium",children:"Contacto"}),i.jsx("div",{children:r.footerEmail}),i.jsx("div",{children:r.footerPhone})]})]}),i.jsx("div",{className:"mt-6 text-slate-500 text-xs",children:r.footerCopyrightText})]})})]});function cN(){const r=fl(),{dialogState:a,showConfirm:n}=yx(),l=T.useRef(null),{authed:c,isCheckingAuth:u,clients:d,setClients:f,stats:p,calculateStats:g,notification:x,showNotification:w,loadClients:v,messages:b,loadingMessages:j,loadMessages:N,updateMessageStatus:_,approveUpgradeRequest:E,confirmUpgradePayment:A,logout:C,confirmUpgrade:H}=I2(),[K,R]=T.useState(!1),[te,ge]=T.useState("overview");T.useEffect(()=>{c&&N()},[c,N]),T.useEffect(()=>{te==="messages"&&c&&N()},[te,c,N]);const{searchTerm:me,setSearchTerm:ce,filterStatus:we,setFilterStatus:pe,filterPlan:I,setFilterPlan:ae,activeView:Z,setActiveView:U,filteredClients:re}=eN(d),{selectedClient:Q,setSelectedClient:J,isCreatingClient:ie,setIsCreatingClient:ye,showTokenModal:Ce,setShowTokenModal:Re,createdClientData:Se,editingClient:Je,showEditModal:ht,setShowEditModal:ne,newClient:je,setNewClient:be,subdomainManual:ve,setSubdomainManual:Le,provisionStatus:We,createClient:nt,updateClientStatus:lt,deleteClient:Be,openEditClient:Oe,setEditingClient:kt,updateEditingClient:Mr,handleEditClientChange:ea,renewClientAccess:O,changeClientPlan:P,provisionClient:X,copyToClipboard:he}=aN(d,f,v,g,w,n),fe=G=>{switch(G){case"active":return"from-rose-500 to-amber-500";case"pending":return"from-rose-400 to-amber-400";case"expired":return"from-rose-600 to-amber-500";case"suspended":return"from-rose-300 to-amber-300";default:return"from-rose-500 to-amber-500"}},ue=G=>{switch(G){case"basic":return"from-rose-500 to-amber-500";case"premium":return"from-rose-500 to-amber-500";case"deluxe":return"from-rose-500 to-amber-500";default:return"from-rose-500 to-amber-500"}},xe=G=>{const Ge=new Date(G),st=new Date,Ja=Ge.getTime()-st.getTime();return Math.ceil(Ja/(1e3*60*60*24))};return u||!c?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50 flex items-center justify-center p-6",children:i.jsxs("div",{className:"text-center max-w-sm",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-rose-600 mb-4"}),i.jsx("p",{className:"text-neutral-600 font-medium mb-4",children:u?"Verificando autenticacin...":"Redirigiendo al login..."}),i.jsx("p",{className:"text-neutral-400 text-sm mb-6",children:"Si esta pantalla no desaparece en unos segundos, puede haber un problema de conexin con la base de datos."}),i.jsx("button",{onClick:()=>{sessionStorage.clear(),r("/admin/login",{replace:!0}),window.location.reload()},className:"px-6 py-3 bg-white border border-rose-200 text-rose-600 rounded-xl text-sm font-semibold shadow-sm hover:bg-rose-50 transition-colors",children:"Ir al Login Manualmente"})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50",children:[i.jsx(Ot,{children:x&&i.jsx(L.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},className:`fixed top-4 right-4 z-50 rounded-2xl p-4 shadow-xl backdrop-blur-sm border ${x.type==="success"?"bg-amber-500/10 border-amber-200 text-amber-700":"bg-rose-500/10 border-rose-200 text-rose-700"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${x.type==="success"?"bg-amber-500/20":"bg-rose-500/20"}`,children:x.type==="success"?"":""}),i.jsx("span",{className:"font-medium",children:x.message})]})})}),i.jsx("nav",{className:"bg-white/90 backdrop-blur-xl border-b border-white/50 sticky top-0 z-40",children:i.jsxs("div",{className:"w-full px-4 sm:px-6 py-3 sm:py-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-rose-500 to-amber-500 rounded-xl flex items-center justify-center text-white font-bold text-sm sm:text-lg flex-shrink-0",children:""}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsx("h1",{className:"text-lg sm:text-xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Panel Master"}),i.jsx("p",{className:"text-xs sm:text-sm text-neutral-600",children:"Administrador Principal"})]}),i.jsx("div",{className:"sm:hidden",children:i.jsx("h1",{className:"text-sm font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Master"})})]}),i.jsx("div",{className:"hidden lg:flex bg-rose-50 rounded-xl p-1",children:[{id:"overview",label:"Resumen",icon:""},{id:"clients",label:"Clientes",icon:""},{id:"messages",label:"Mensajes",icon:""},{id:"landing",label:"Landing Page",icon:""},{id:"analytics",label:"Analticas",icon:""},{id:"settings",label:"Configuracin",icon:""}].map(G=>i.jsxs("button",{onClick:()=>{ge(G.id),R(!1)},className:`px-3 py-2 rounded-lg transition-all duration-300 flex items-center gap-2 text-xs font-medium ${te===G.id?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900 hover:bg-white/50"}`,children:[i.jsx("span",{children:G.icon}),G.label]},G.id))}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[te==="clients"&&i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ye(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-1 text-xs sm:text-sm whitespace-nowrap",children:[i.jsx("span",{className:"text-lg",children:"+"}),i.jsx("span",{className:"hidden sm:inline",children:"Nuevo Cliente"}),i.jsx("span",{className:"sm:hidden",children:"Nuevo"})]}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-slate-600 to-slate-700 rounded-lg sm:rounded-xl flex items-center justify-center text-white shadow-lg hover:shadow-xl transition-all duration-300 flex-shrink-0",title:"Cerrar sesin",children:""}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"lg:hidden p-2 text-neutral-700 hover:bg-neutral-100 rounded-lg transition flex-shrink-0",onClick:()=>R(!K),children:K?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),i.jsx(Ot,{children:K&&i.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden mt-3 pt-3 border-t border-neutral-200",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"overview",label:"Resumen",icon:""},{id:"clients",label:"Clientes",icon:""},{id:"messages",label:"Mensajes",icon:""},{id:"landing",label:"Landing Page",icon:""},{id:"analytics",label:"Analticas",icon:""},{id:"settings",label:"Configuracin",icon:""}].map(G=>i.jsxs("button",{onClick:()=>{ge(G.id),R(!1)},className:`px-3 py-2 rounded-lg transition-all duration-300 flex items-center gap-1 text-xs font-medium whitespace-nowrap ${te===G.id?"bg-gradient-to-r from-rose-500 to-amber-500 text-white shadow-sm":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:[i.jsx("span",{children:G.icon}),G.label]},G.id))})})})]})}),i.jsx("div",{className:"w-full px-4 sm:px-6 py-6 sm:py-8",children:i.jsxs(Ot,{mode:"wait",children:[te==="overview"&&i.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-8",children:[p.pendingUpgradesCount>0&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-600 font-bold text-xl",children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-amber-900",children:"Solicitudes de Upgrade Pendientes"}),i.jsxs("p",{className:"text-amber-700 text-sm",children:["Hay ",p.pendingUpgradesCount," cliente(s) esperando confirmacin de pago."]})]})]}),i.jsx("button",{onClick:()=>{ge("clients"),pe("all")},className:"px-4 py-2 bg-amber-500 text-white rounded-lg font-bold hover:bg-amber-600 transition-colors shadow-sm",children:"Ver Clientes"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{label:"Clientes Totales",value:p.totalClients,change:`${p.growthRate>=0?"+":""}${p.growthRate}%`,icon:"",gradient:"from-blue-500 to-cyan-500",description:"Total registrados",trend:p.growthRate},{label:"Activos",value:p.activeClients,change:`${(p.activeClients/p.totalClients*100||0).toFixed(1)}%`,icon:"",gradient:"from-green-500 to-emerald-500",description:"Sitios funcionando",trend:8.5},{label:"Ingresos del Mes",value:`$${p.revenueThisMonth.toLocaleString()}`,change:"+23%",icon:"",gradient:"from-amber-500 to-yellow-500",description:"Nuevos pagos",trend:23},{label:"Plan Popular",value:p.popularPlan.toUpperCase(),change:`${p.newClientsThisMonth} nuevos`,icon:"",gradient:"from-purple-500 to-fuchsia-500",description:"Ms contratado",trend:15},{label:"Mensajes Nuevos",value:b.filter(G=>G.status==="new").length,change:`${b.length} totales`,icon:"",gradient:"from-rose-500 to-pink-500",description:"Pendientes de leer",trend:b.filter(G=>G.status==="new").length>0?1:0}].map((G,Ge)=>i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ge*.1},className:"bg-white/90 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300 group",children:i.jsxs("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-600 mb-1",children:G.label}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 mb-1 truncate",children:G.value}),i.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[i.jsx("span",{className:`text-xs font-medium ${G.trend>=0?"text-green-600":"text-red-600"}`,children:G.change}),i.jsx("span",{className:"text-xs text-slate-500 hidden sm:inline",children:G.description})]})]}),i.jsx("div",{className:`w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-r ${G.gradient} rounded-lg sm:rounded-2xl flex items-center justify-center text-lg sm:text-xl group-hover:scale-110 transition-transform duration-300 shadow-lg flex-shrink-0`,children:G.icon})]})},G.label))}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-white/50",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 mb-4",children:"Acciones Rpidas"}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[{label:"Crear Cliente",icon:"",action:()=>ye(!0),color:"from-blue-500 to-cyan-500"},{label:"Ver Clientes",icon:"",action:()=>ge("clients"),color:"from-green-500 to-emerald-500"},{label:"Analticas",icon:"",action:()=>ge("analytics"),color:"from-purple-500 to-fuchsia-500"},{label:"Configuracin",icon:"",action:()=>ge("settings"),color:"from-amber-500 to-yellow-500"}].map(G=>i.jsxs(L.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:G.action,className:`p-2 sm:p-4 bg-gradient-to-r ${G.color} rounded-lg sm:rounded-xl text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm`,children:[i.jsx("span",{className:"text-base sm:text-xl",children:G.icon}),i.jsx("span",{className:"hidden sm:inline",children:G.label}),i.jsx("span",{className:"sm:hidden",children:G.label.split(" ")[0]})]},G.label))})]}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-white/50",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 mb-4",children:"Actividad Reciente"}),i.jsx("div",{className:"space-y-2 sm:space-y-4",children:d.slice(0,5).map(G=>i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 p-2 sm:p-3 rounded-lg sm:rounded-xl hover:bg-slate-50 transition-colors duration-200",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg sm:rounded-xl flex items-center justify-center text-sm sm:text-lg flex-shrink-0",children:G.avatar}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-slate-800 text-sm sm:text-base truncate",children:G.clientName}),i.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 truncate",children:["Plan ",G.plan," - ",xe(G.expiresAt)," das"]})]}),i.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-medium bg-gradient-to-r ${fe(G.status)} text-white whitespace-nowrap`,children:G.status})]},G.id))})]})]},"overview"),te==="clients"&&i.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-800 mb-1",children:"Gestin de Clientes"}),i.jsxs("p",{className:"text-slate-600",children:[re.length," cliente",re.length!==1?"s":""," encontrado",re.length!==1?"s":""]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"flex bg-slate-100 rounded-xl p-1",children:[i.jsx("button",{onClick:()=>U("grid"),className:`px-4 py-2 rounded-lg transition-all duration-300 ${Z==="grid"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:" Grid"}),i.jsx("button",{onClick:()=>U("list"),className:`px-4 py-2 rounded-lg transition-all duration-300 ${Z==="list"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:" Lista"})]}),i.jsxs("div",{className:"relative flex-1 lg:flex-initial",children:[i.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:me,onChange:G=>ce(G.target.value),className:"w-full lg:w-64 px-4 py-2 bg-slate-50/50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300"}),i.jsx("span",{className:"absolute right-3 top-2.5 text-slate-400",children:""})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:we,onChange:G=>pe(G.target.value),className:"px-3 py-2 bg-slate-50/50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-sm",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"expired",children:"Expirado"})]}),i.jsxs("select",{value:I,onChange:G=>ae(G.target.value),className:"px-3 py-2 bg-slate-50/50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-sm",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"basic",children:"Bsico"}),i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"deluxe",children:"Deluxe"})]})]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx(Ot,{mode:"wait",children:ie?i.jsx(nN,{newClient:je,setNewClient:be,createClient:nt,setIsCreatingClient:ye,subdomainManual:ve,setSubdomainManual:Le}):Z==="grid"?i.jsx(sN,{filteredClients:re,setSelectedClient:J,getStatusColor:fe,getPlanColor:ue,getDaysUntilExpiry:xe,confirmUpgrade:H}):i.jsx(iN,{filteredClients:re,setSelectedClient:J,getStatusColor:fe,getPlanColor:ue,getDaysUntilExpiry:xe,confirmUpgrade:H})}),re.length===0&&!ie&&i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-slate-100 to-slate-200 rounded-3xl flex items-center justify-center text-3xl mx-auto mb-4",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"No se encontraron clientes"}),i.jsx("p",{className:"text-slate-600 mb-6",children:me||we!=="all"||I!=="all"?"Prueba ajustando los filtros de bsqueda":"Comienza creando tu primer cliente"}),i.jsx(L.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>ye(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"+ Crear Primer Cliente"})]})]})]})},"clients"),te==="analytics"&&i.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Analticas"}),i.jsx("p",{className:"text-slate-600",children:"Vista de analticas en desarrollo..."})]},"analytics"),te==="landing"&&i.jsx(lN,{}),te==="settings"&&i.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Configuracin"}),i.jsx("p",{className:"text-slate-600",children:"Vista de configuracin en desarrollo..."})]},"settings"),te==="messages"&&i.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-800 mb-1",children:"Mensajes & Solicitudes"}),i.jsx("p",{className:"text-slate-600",children:"Gestiona contactos y solicitudes de upgrade de clientes."})]}),i.jsx("button",{onClick:N,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Recargar mensajes",children:""})]}),i.jsx("div",{className:"p-6",children:j?i.jsx("div",{className:"text-center py-12",children:"Cargando mensajes..."}):b.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No hay mensajes an."}):i.jsx("div",{className:"space-y-4",children:b.map(G=>i.jsxs(L.div,{layout:!0,className:`p-5 rounded-xl border transition-all ${G.status==="new"?"bg-rose-50/50 border-rose-200 shadow-md":"bg-white border-slate-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3 pb-3 border-b border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${G.type==="upgrade"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:G.type==="upgrade"?" Solicitud Upgrade":" Contacto Directo"}),G.status==="new"&&i.jsxs("span",{className:"flex items-center gap-1 text-xs font-semibold text-rose-600",children:[i.jsx("span",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse"}),"Nuevo"]})]}),i.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(G.created_at).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-amber-400 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:(G.client_name||"A")[0].toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-800 text-base",children:G.client_name||"Annimo"}),i.jsx("p",{className:"text-sm text-slate-600",children:G.email})]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Asunto"}),i.jsx("p",{className:"font-semibold text-slate-800",children:G.subject})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-2",children:"Mensaje"}),i.jsx("div",{className:"text-slate-700 text-sm leading-relaxed whitespace-pre-wrap max-h-48 overflow-y-auto",children:G.message})]}),G.requested_plan&&i.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-3 border border-indigo-200",children:[i.jsx("p",{className:"text-xs text-indigo-600 uppercase font-semibold mb-1",children:"Plan Solicitado"}),i.jsx("p",{className:"text-lg font-bold text-indigo-700",children:G.requested_plan.toUpperCase()})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[G.status==="new"&&i.jsx("button",{onClick:()=>_(G.id,"read"),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors font-medium text-sm",children:" Marcar como ledo"}),G.type==="upgrade"&&G.status!=="approved"&&G.status!=="rejected"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>E(G),className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-bold text-sm shadow-sm",children:" Aprobar Upgrade"}),i.jsx("button",{onClick:()=>_(G.id,"rejected"),className:"flex-1 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium text-sm",children:" Rechazar"})]}),G.status==="approved"&&G.client_id&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:async()=>{confirm("Confirmar que recibiste el comprobante de pago? Esto har el upgrade permanente.")&&(await A(G.client_id),N())},className:"flex-1 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors font-bold text-sm shadow-sm",children:" Confirmar Pago"}),i.jsx("div",{className:"flex-1 text-center font-bold text-green-700 bg-green-100 py-2 rounded-lg border-2 border-green-300 flex items-center justify-center",children:" Aprobado"})]}),G.status==="rejected"&&i.jsx("div",{className:"flex-1 text-center font-bold text-red-700 bg-red-100 py-2 rounded-lg border-2 border-red-300",children:" Rechazado"})]})]})]},G.id))})})]})},"messages")]})}),i.jsx(Ot,{children:Ce&&Se&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Re(!1),children:i.jsxs(L.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",onClick:G=>G.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-800",children:"Cliente Creado Exitosamente"}),i.jsx("p",{className:"text-slate-600 mt-1",children:Se.clientName})]}),i.jsx("button",{onClick:()=>Re(!1),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-600 transition-colors duration-200",children:""})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-sm font-medium text-green-800 mb-3",children:" El cliente puede iniciar sesin con estos datos:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Token de Acceso"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",readOnly:!0,value:Se.token,className:"flex-1 px-4 py-3 bg-white border border-slate-200 rounded-xl font-mono text-sm"}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Se.token),className:"px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Copiar"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subdominio"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",readOnly:!0,value:$n(Se.subdomain),className:"flex-1 px-4 py-3 bg-white border border-slate-200 rounded-xl font-mono text-sm"}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he($n(Se.subdomain)),className:"px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Copiar"})]})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:" Instrucciones de acceso para el cliente:"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-white border border-blue-100 rounded-lg p-3",children:[i.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" URL de acceso:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"bg-blue-50 px-2 py-1 rounded text-xs font-mono flex-1",children:$n(Se.subdomain)}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he($n(Se.subdomain)),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs font-semibold",children:"Copiar"})]})]}),i.jsxs("div",{className:"bg-white border border-blue-100 rounded-lg p-3",children:[i.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Usuario:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"bg-blue-50 px-2 py-1 rounded text-xs font-mono flex-1",children:Se.subdomain}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Se.subdomain),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs font-semibold",children:"Copiar"})]})]}),i.jsxs("div",{className:"bg-white border border-blue-100 rounded-lg p-3",children:[i.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Contrasea (Token):"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"bg-blue-50 px-2 py-1 rounded text-xs font-mono flex-1 break-all",children:Se.token}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Se.token),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs font-semibold",children:"Copiar"})]})]}),i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[i.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-2",children:" Importante:"}),i.jsxs("ul",{className:"text-sm text-amber-800 space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Comparte estas credenciales nicamente con el cliente"}),i.jsx("li",{children:"El token es sensible - gurdalo de forma segura"}),i.jsx("li",{children:"El acceso estar disponible hasta la fecha de la boda + duracin del plan"}),i.jsx("li",{children:"El cliente puede cambiar contrasea desde su panel de administracin"})]})]})]})]}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>Re(!1),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Cerrar"})]})]})})}),i.jsx(Ot,{children:Q&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>J(null),children:i.jsxs(L.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:G=>G.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-800",children:"Detalles del Cliente"}),i.jsx("button",{onClick:()=>J(null),className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-600 transition-colors duration-200",children:""})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-slate-100 to-slate-200 rounded-3xl flex items-center justify-center text-4xl mx-auto mb-4",children:Q.avatar}),i.jsx("h4",{className:"font-bold text-slate-800 text-xl mb-2",children:Q.clientName}),i.jsx("p",{className:"text-slate-600",children:Q.email||"Sin email"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Plan"}),i.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:Q.plan})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Estado"}),i.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:Q.status})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Invitados"}),i.jsx("p",{className:"font-semibold text-slate-800",children:Q.guestCount})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Das Restantes"}),i.jsx("p",{className:"font-semibold text-slate-800",children:xe(Q.expiresAt)})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-600/10 to-purple-600/10 border border-indigo-200 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Token de Acceso"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-mono font-bold text-slate-800 text-sm flex-1 break-all",children:Q.token}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Q.token),className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-xs font-semibold",children:"Copiar"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Subdominio"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-mono font-bold text-slate-800 text-sm flex-1",children:$n(Q.subdomain)}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he($n(Q.subdomain)),className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-xs font-semibold",children:"Copiar"})]})]})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Q.provisioned?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:Q.provisioned?"Provisionado":"No provisionado"}),We[Q.id]?.status==="in_progress"&&i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:" Provisionando..."}),We[Q.id]?.status==="success"&&!Q.provisioned&&i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Actualiza para ver estado"})]}),Q.provisionError&&i.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error: ",Q.provisionError]})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-xl p-4",children:[i.jsx("h5",{className:"font-semibold text-slate-800 mb-3",children:"Detalles de la Boda"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"Fecha de la Boda"}),i.jsx("p",{className:"font-medium text-slate-800",children:new Date(Q.weddingDate).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"Fecha de Creacin"}),i.jsx("p",{className:"font-medium text-slate-800",children:new Date(Q.createdAt).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"Fecha de Expiracin"}),i.jsx("p",{className:"font-medium text-slate-800",children:new Date(Q.expiresAt).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"ltimo Acceso"}),i.jsx("p",{className:"font-medium text-slate-800",children:Q.lastLogin?new Date(Q.lastLogin).toLocaleDateString():"Nunca"})]}),Q.brideName&&i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"Novia"}),i.jsx("p",{className:"font-medium text-slate-800",children:Q.brideName})]}),Q.groomName&&i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600",children:"Novio"}),i.jsx("p",{className:"font-medium text-slate-800",children:Q.groomName})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>{Oe(Q)},className:"w-full bg-indigo-600 text-white py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-300 font-medium",children:" Editar Cliente"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>lt(Q.id,"active"),className:"bg-blue-500 text-white py-3 rounded-xl hover:bg-blue-600 transition-colors duration-300 font-medium",children:" Activar"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>lt(Q.id,"suspended"),className:"bg-red-500 text-white py-3 rounded-xl hover:bg-red-600 transition-colors duration-300 font-medium",children:" Suspender"})]}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>X(Q),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-medium",children:" Provisionar acceso"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>O(Q.id,30),className:"w-full border border-amber-300 text-amber-700 py-3 rounded-xl hover:bg-amber-50 transition-all duration-300 font-medium",children:" Renovar acceso +30 das"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>P(Q.id,"basic"),className:"w-full border border-slate-300 text-slate-700 py-3 rounded-xl hover:bg-slate-50 transition-all duration-300 font-medium",children:"Plan Bsico"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>P(Q.id,"premium"),className:"w-full border border-slate-300 text-slate-700 py-3 rounded-xl hover:bg-slate-50 transition-all duration-300 font-medium",children:"Plan Premium"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>P(Q.id,"deluxe"),className:"w-full border border-slate-300 text-slate-700 py-3 rounded-xl hover:bg-slate-50 transition-all duration-300 font-medium",children:"Plan Deluxe"})]}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>Be(Q.id),className:"w-full border border-red-300 text-red-600 py-3 rounded-xl hover:bg-red-50 transition-all duration-300 font-medium",children:" Eliminar Cliente"})]})]})]})})}),i.jsx(Ot,{children:ht&&Je&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(L.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-slate-200 w-full max-w-2xl overflow-y-auto max-h-[90vh]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 sticky top-0 bg-white",children:[i.jsx("h4",{className:"text-xl font-bold text-slate-800",children:"Editar Cliente"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Actualiza los datos del cliente seleccionado"})]}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre"}),i.jsx("input",{ref:l,type:"text",value:Je.clientName,onChange:G=>ea("clientName",G.target.value),placeholder:"Ana Rodrguez y Carlos Lpez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:Je.email,onChange:G=>ea("email",G.target.value),placeholder:"ejemplo@bodas.com",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Plan"}),i.jsxs("select",{value:Je.plan,onChange:G=>ea("plan",G.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900",children:[i.jsx("option",{value:"basic",children:"Bsico"}),i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"deluxe",children:"Deluxe"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha de Boda"}),i.jsx("input",{type:"date",value:Je.weddingDate,onChange:G=>ea("weddingDate",G.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Invitados"}),i.jsx("input",{type:"number",min:1,max:1e3,value:Je.guestCount,onChange:G=>ea("guestCount",parseInt(G.target.value)||Je.guestCount),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Novia"}),i.jsx("input",{type:"text",value:Je.brideName||"",onChange:G=>ea("brideName",G.target.value),placeholder:"Ana Rodrguez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Novio"}),i.jsx("input",{type:"text",value:Je.groomName||"",onChange:G=>ea("groomName",G.target.value),placeholder:"Carlos Lpez",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-300 text-slate-900 caret-slate-900 cursor-text"})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-end gap-3 bg-slate-50 sticky bottom-0",children:[i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:()=>{ne(!1),kt(null)},className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-white transition-all duration-300",children:"Cancelar"}),i.jsx(L.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:Mr,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"Guardar Cambios"})]})]})})}),i.jsx(vx,{isOpen:a.isOpen,title:a.options.title,message:a.options.message,confirmText:a.options.confirmText,cancelText:a.options.cancelText,type:a.options.type,onConfirm:a.onConfirm,onCancel:a.onCancel,isLoading:a.isLoading})]})}function Gn({size:r="md",text:a,className:n=""}){const l={sm:"w-8 h-8",md:"w-16 h-16",lg:"w-24 h-24"};return i.jsxs("div",{className:`flex flex-col items-center justify-center gap-6 ${n}`,children:[i.jsxs("div",{className:`relative ${l[r]}`,children:[i.jsx(L.div,{className:"absolute inset-0 border-2 border-rose-100 rounded-full",animate:{scale:[1,1.1,1],opacity:[.3,.1,.3]},transition:{duration:2,repeat:1/0}}),i.jsx(L.div,{className:"absolute inset-2 border-2 border-gold/40 border-t-gold rounded-full",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),i.jsx(L.div,{className:"absolute inset-[42%] bg-rose-500 rounded-full shadow-lg shadow-rose-200",animate:{scale:[1,1.5,1]},transition:{duration:1,repeat:1/0}})]}),a&&i.jsx(L.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs font-elegant uppercase tracking-[0.4em] text-neutral-400 font-bold",children:a})]})}function qd(r){const a=["mhuallpasullca@gmail.com"];return r?.email&&a.includes(r.email)?!0:r?.app_metadata?.role==="master_admin"||r?.user_metadata?.role==="master_admin"}async function uN(){try{const{data:{session:r}}=await oe.auth.getSession();return r}catch(r){return console.error("Error checking session:",r),null}}function dN(){const r=fl(),[a,n]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,p]=T.useState(!0),[g,x]=T.useState(!1);T.useEffect(()=>{(async()=>{console.log("[Master Admin Login] Iniciando verificacin de autenticacin...");const j=setTimeout(()=>{f&&(console.warn("[Master Admin Login] Autenticacin tard demasiado, forzando estado listo."),p(!1))},1e4);try{const N=uN(),_=new Promise((A,C)=>setTimeout(()=>C(new Error("TIMEOUT_SESSION")),5e3)),E=await Promise.race([N,_]);if(console.log("[Master Admin Login] Sesin verificada:",E?"Existe":"No existe"),E?.user){const A=qd(E.user),C=E.user.app_metadata?.role||E.user.user_metadata?.role||"sin rol definido";if(console.log(`[Master Admin Login] Usuario detectado: ${E.user.email} | Rol: ${C} | Es Admin: ${A}`),A){console.log("[Master Admin Login] Acceso autorizado. Redirigiendo a /admin"),r("/admin");return}else{console.warn("[Master Admin Login] El usuario actual no es admin. Cerrando sesin para permitir ingresar como admin."),await oe.auth.signOut(),window.location.reload();return}}}catch(N){N?.message==="TIMEOUT_SESSION"?console.error("[Master Admin Login] La comunicacin con la base de datos ha tardado demasiado."):console.error("[Master Admin Login] Error en verificacin inicial:",N)}finally{clearTimeout(j),p(!1)}})();let b=null;try{const{data:j}=oe.auth.onAuthStateChange((N,_)=>{console.log(`[Master Admin Login] Evento Auth: ${N}`),N==="SIGNED_IN"&&_?.user&&qd(_.user)&&r("/admin")});b=j?.subscription}catch(j){console.error("[Master Admin Login] Error al suscribirse a eventos de auth:",j)}return()=>{b?.unsubscribe?.()}},[r]);const w=async v=>{v.preventDefault(),d(""),x(!0);try{console.log("[Master Admin] Intentando login con:",a);const{data:b,error:j}=await oe.auth.signInWithPassword({email:a,password:l});if(j){console.error("[Master Admin] Error en login:",j),d(` Error al iniciar sesin: ${j.message}`),x(!1);return}if(b.session?.user){if(console.log("[Master Admin] Usuario autenticado:",b.session.user.id),!qd(b.session.user)){console.warn("[Master Admin] Usuario no tiene rol master_admin"),d(` No tienes permisos de administrador maestro.

Tu rol actual: ${b.session.user.app_metadata?.role||b.session.user.user_metadata?.role||"sin definir"}

Contacta al administrador del sistema para obtener acceso.`),x(!1),await oe.auth.signOut();return}console.log("[Master Admin]  Master admin autenticado correctamente"),await oe.auth.refreshSession();const N=b.session.user.user_metadata?.full_name||a.split("@")[0]||"Administrador";sessionStorage.setItem("adminAuthed","true"),sessionStorage.setItem("adminEmail",a),sessionStorage.setItem("adminId",b.session.user.id),sessionStorage.setItem("adminFullName",N),console.log("[Master Admin] Redirigiendo a /admin"),r("/admin")}}catch(b){console.error("[Master Admin] Error inesperado:",b),d(` Error inesperado: ${b.message||"Error desconocido"}`)}finally{x(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50 grid place-items-center px-6",children:f?i.jsx("div",{className:"text-center",children:i.jsx(Gn,{size:"lg",text:"Verificando autenticacin..."})}):i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent mb-2",children:"Acceso Master Admin"}),i.jsx("p",{className:"text-neutral-600",children:"Ingresa tus credenciales para acceder al panel de administracin global"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:a,onChange:v=>n(v.target.value),placeholder:"tu-email@example.com",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contrasea"}),i.jsx("input",{type:"password",id:"password",value:l,onChange:v=>c(v.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0,minLength:6})]}),u&&i.jsx("div",{className:`px-4 py-3 rounded-xl text-sm whitespace-pre-line ${u.includes("")||u.includes("SQL Editor")?"bg-amber-50 border border-amber-200 text-amber-800":"bg-rose-50 border border-rose-200 text-rose-700"}`,children:u}),i.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-rose-500 to-amber-500 text-white font-semibold px-6 py-3 rounded-2xl hover:shadow-xl transition-all duration-300 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Iniciando sesin...":"Ingresar al Panel Master Admin"}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-xs text-neutral-500 mt-4",children:[" Acceso exclusivo para administradores.",i.jsx("br",{}),"Para crear una nueva cuenta administrativa, contacta al soporte tcnico o usa la consola de Supabase."]})})]})]})})})}function hN(){try{const r=sessionStorage.getItem("clientAuth");if(r){const a=JSON.parse(r);return{id:a.id,clientName:a.clientName,subdomain:a.subdomain,weddingDate:new Date(a.weddingDate),groomName:a.groomName||"Novio",brideName:a.brideName||"Novia",weddingLocation:a.weddingLocation||"Iglesia San Jos",weddingTime:a.weddingTime||"6:00 PM",receptionTime:a.receptionTime||void 0,bibleVerse:a.bibleVerse||"El amor es paciente, es bondadoso el amor nunca deja de ser.",invitationText:a.invitationText||"Estn cordialmente invitados a celebrar con nosotros este da tan especial.",backgroundAudioUrl:a.backgroundAudioUrl||void 0,heroBackgroundUrl:a.heroBackgroundUrl||"/boda.jpg",heroBackgroundVideoUrl:a.heroBackgroundVideoUrl||void 0,heroDisplayMode:a.heroDisplayMode||"image",heroVideoAudioEnabled:a.heroVideoAudioEnabled||!1,weddingType:a.weddingType||void 0,religiousSymbol:a.religiousSymbol||void 0,isActive:a.isActive,createdAt:new Date(a.createdAt),accessUntil:new Date(a.accessUntil),expiresAt:new Date(a.expiresAt||a.accessUntil),planType:a.planType||"basic",features:a.features||[],wedding_datetime_utc:a.wedding_datetime_utc,timezone:a.timezone}}}catch{}return null}function fN({id:r,type:a,message:n,duration:l=3500,onClose:c}){T.useEffect(()=>{const f=setTimeout(()=>c(r),l);return()=>clearTimeout(f)},[r,l,c]);const u={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-amber-500"}[a],d={success:"",error:"",info:"",warning:""}[a];return i.jsxs(L.div,{initial:{opacity:0,y:20,x:100},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:20,x:100},className:`${u} text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[320px] backdrop-blur-sm`,children:[i.jsx("div",{className:"text-xl font-bold flex-shrink-0",children:d}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-medium text-sm",children:n})})]})}function Yb({toasts:r,onClose:a}){return i.jsx(Ot,{children:i.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 pointer-events-auto",children:r.map(n=>i.jsx(fN,{id:n.id,type:n.type,message:n.message,duration:n.duration,onClose:a},n.id))})})}function Uh(){const[r,a]=T.useState([]),n=T.useCallback((p,g,x)=>{const w=`toast-${Date.now()}`;a(v=>[...v,{id:w,type:p,message:g,duration:x}])},[]),l=T.useCallback(p=>{a(g=>g.filter(x=>x.id!==p))},[]),c=T.useCallback((p,g)=>{n("success",p,g)},[n]),u=T.useCallback((p,g)=>{n("error",p,g)},[n]),d=T.useCallback((p,g)=>{n("info",p,g)},[n]),f=T.useCallback((p,g)=>{n("warning",p,g)},[n]);return{toasts:r,addToast:n,removeToast:l,success:c,error:u,info:d,warning:f}}function mN({clientName:r,planType:a,mobileMenuOpen:n,setMobileMenuOpen:l,logout:c,onUpgradeClick:u}){return i.jsxs(L.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:[.23,1,.32,1]},className:"bg-white/95 backdrop-blur-xl border-b border-slate-100 sticky top-0 z-50 shadow-[0_1px_20px_rgba(0,0,0,0.03)]",children:[i.jsx("div",{className:"w-full px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(L.div,{whileHover:{rotate:-5,scale:1.05},transition:{type:"spring",stiffness:400,damping:25},className:"w-10 h-10 bg-gradient-to-br from-slate-900 to-slate-700 rounded-xl flex items-center justify-center text-white shadow-lg shadow-slate-900/10 border border-slate-900/10",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h1",{className:"text-lg font-semibold text-slate-900 tracking-tight",children:window.innerWidth<640?"Admin":"Panel de Control"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium tracking-[0.2em] mt-0.5",children:"EDICIN PREMIUM"})]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"hidden md:block text-right mr-4",children:[i.jsx("p",{className:"font-medium text-slate-700 text-sm",children:r}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),i.jsxs("p",{className:"text-[10px] text-slate-500 font-medium tracking-wide",children:["Plan ",a||"Personalizado"]})]}),a!=="deluxe"&&i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"mt-2 text-[10px] font-bold text-rose-500 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-md hover:bg-rose-100 transition-colors uppercase tracking-wider",children:"Mejorar Plan"})]})}),i.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[i.jsx("div",{className:"w-px h-6 bg-slate-200"}),i.jsxs(L.button,{whileHover:{x:2},whileTap:{scale:.98},onClick:c,className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-slate-900 transition-colors group",children:[i.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-x-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i.jsx("span",{className:"text-sm font-medium",children:"Salir"})]})]}),i.jsx(L.button,{whileTap:{scale:.95},className:"md:hidden p-2 text-slate-600 hover:text-slate-900 transition-colors",onClick:()=>l(!n),children:n?i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})}):i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),i.jsx(Ot,{children:n&&i.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden mt-4 pt-4 border-t border-slate-100",children:i.jsxs("div",{className:"bg-slate-50/80 backdrop-blur-sm rounded-2xl p-4 space-y-4 border border-slate-200/50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-slate-900",children:r}),i.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["Plan ",a||"Personalizado"]})]}),i.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center text-white text-sm font-medium",children:r.charAt(0).toUpperCase()})]}),i.jsxs(L.button,{whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 py-3 bg-white border border-slate-200 rounded-xl text-slate-700 hover:text-slate-900 hover:border-slate-300 transition-colors font-medium",onClick:()=>{l(!1),c()},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar sesin"]})]})})})]})}const ma={basic:{guests:50,rsvps:50,messages:50,photos:30,videos:1,videoDurationSec:120},premium:{guests:200,rsvps:200,messages:200,photos:80,videos:3,videoDurationSec:300},deluxe:{guests:1/0,rsvps:1/0,messages:1/0,photos:1/0,videos:1/0,videoDurationSec:600}};function Xs(r){let a=r.planType||"basic";if(r.planStatus==="upgrade_approved"&&r.upgradeConfirmed)a=r.planType;else if(r.planStatus==="pending_upgrade"&&r.pendingPlan&&r.pendingSince){const n=new Date(r.pendingSince);(new Date().getTime()-n.getTime())/(1e3*60*60)<24?a=r.pendingPlan:a=r.originalPlanType||a}return a}function Kb(r){const a=Xs(r);return ma[a]}function pN(r,a,n){const c=Kb(r)[a],u=Xs(r);if(c===1/0)return{allowed:!0,limit:1/0,current:n,effectivePlan:u};const d=n<c;let f="";return d||(f=`Has alcanzado el lmite de ${c} ${a==="photos"?"fotos":a==="videos"?"videos":a} para el plan ${u.toUpperCase()}. Mejora tu plan para aadir ms.`),{allowed:d,limit:c,current:n,effectivePlan:u,message:f}}function Xb(r){const a=ma[r].videoDurationSec;return`${Math.floor(a/60)} min`}const gN=Object.freeze(Object.defineProperty({__proto__:null,PLAN_LIMITS:ma,checkLimit:pN,getClientLimits:Kb,getEffectivePlan:Xs,getMaxDurationText:Xb},Symbol.toStringTag,{value:"Module"}));function xN({totalRsvps:r,totalGuests:a,totalNotAttending:n,totalMessages:l,client:c}){const u=[{label:"Confirmaciones",value:r,icon:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"from-blue-500 to-blue-600",bg:"bg-blue-50",text:"text-blue-700"},{label:"Invitados",value:a,icon:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"from-emerald-500 to-emerald-600",bg:"bg-emerald-50",text:"text-emerald-700"},{label:"Mensajes",value:l,icon:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),color:"from-violet-500 to-violet-600",bg:"bg-violet-50",text:"text-violet-700"},{label:"Inasistentes",value:n,icon:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"from-rose-500 to-rose-600",bg:"bg-rose-50",text:"text-rose-700"}];return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:u.map((d,f)=>i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1,duration:.4},whileHover:{y:-4,transition:{duration:.2}},className:`${d.bg} rounded-2xl p-6 border border-white shadow-[0_4px_20px_rgba(0,0,0,0.03)] group cursor-default`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${d.color} text-white shadow-lg`,children:d.icon}),i.jsx("div",{className:`text-xs font-medium ${d.text} px-3 py-1 rounded-full bg-white/50`,children:"Hoy"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-semibold text-slate-900 mb-1",children:d.value}),i.jsx("p",{className:`text-sm font-medium ${d.text}`,children:d.label})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-white/50",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-1.5 bg-white/50 rounded-full overflow-hidden",children:i.jsx(L.div,{initial:{width:0},animate:{width:`${(()=>{if(!c)return Math.min(d.value*10,100);const p=c.planType||"basic",g=d.label==="Invitados"?ma[p].guests:d.label==="Mensajes"?ma[p].messages:ma[p].rsvps;return g===1/0?0:Math.min(d.value/g*100,100)})()}%`},transition:{delay:f*.1+.3,duration:.8},className:`h-full bg-gradient-to-r ${d.color} rounded-full`})}),i.jsx("span",{className:`text-xs font-medium ${d.text}`,children:(()=>{if(!c)return`${Math.min(d.value*10,100)}%`;const p=c.planType||"basic",g=d.label==="Invitados"?ma[p].guests:d.label==="Mensajes"?ma[p].messages:ma[p].rsvps;return g===1/0?"":`${Math.floor(Math.min(d.value/g*100,100))}%`})()})]})})]},d.label))})}function bN({subdomain:r}){const a=$n(r||""),n=()=>{navigator.clipboard.writeText(a)};return i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"bg-gradient-to-br from-white to-slate-50 rounded-2xl p-6 shadow-[0_8px_30px_rgba(0,0,0,0.04)] border border-slate-100 mb-8",children:[i.jsx("div",{className:"flex items-start justify-between mb-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-slate-900 to-slate-700 rounded-xl flex items-center justify-center text-white shadow-lg",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.828 14.828a4 4 0 01-5.656 0L3 9.656l4.172-4.172a4 4 0 015.656 0l5.172 5.172a4 4 0 010 5.656L15 20l-1.172-1.172"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Compartir invitacin"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Enva este enlace a tus invitados para que puedan ver la invitacin"})]})]})}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-slate-200 p-3 flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("code",{className:"text-sm text-slate-600 font-mono truncate block",children:a})}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"p-2 hover:bg-slate-50 rounded-lg transition-colors text-slate-600 hover:text-slate-900",title:"Copiar enlace",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]}),i.jsxs(L.a,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},href:a,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-gradient-to-r from-slate-900 to-slate-700 text-white rounded-xl font-medium text-sm shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 min-w-[140px]",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver vista previa"]})]})]})}const vN="modulepreload",yN=function(r){return"/"+r},Ag={},dc=function(a,n,l){let c=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");c=p(n.map(g=>{if(g=yN(g),g in Ag)return;Ag[g]=!0;const x=g.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":vN,x||(v.as="script"),v.crossOrigin="",v.href=g,f&&v.setAttribute("nonce",f),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return c.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return a().catch(u)})};function al({title:r,bucket:a,files:n,onUploadSuccess:l,onDelete:c,getPublicUrl:u,setFileAsBackground:d,onUpload:f,currentBackground:p,onProgress:g,client:x,allowedMimeTypes:w=[],maxFiles:v=10,planRequired:b,clientId:j,onUpgradeClick:N}){const _=T.useRef(null),[E,A]=T.useState(!1),[C,H]=T.useState(null),[K,R]=T.useState(!1),te=x?.planType||"basic",ge=!b||b==="premium"&&(te==="premium"||te==="deluxe")||b==="deluxe"&&te==="deluxe";async function me(){_.current?.click()}async function ce(we){const pe=Array.from(we.target.files||[]);if(!pe.length)return;const I=a==="gallery"?"photos":a==="videos"?"videos":null;if(I&&x&&j){const{checkLimit:Q}=await dc(async()=>{const{checkLimit:Se}=await Promise.resolve().then(()=>gN);return{checkLimit:Se}},[]),{countFilesInStorage:J}=await dc(async()=>{const{countFilesInStorage:Se}=await import("./storage-utils.BKCWZdBH.js");return{countFilesInStorage:Se}},__vite__mapDeps([0,1,2])),ye=await J(j,a)+pe.length,{allowed:Ce,message:Re}=Q(x,I,ye);if(!Ce){H(`Lmite alcanzado: ${Re}`);return}}if(pe.filter(Q=>w.length>0&&!w.includes(Q.type)).length>0){H("Error: Tipos de archivo no permitidos");return}const Z=50,U=Z*1024*1024,re=pe.filter(Q=>Q.size>U);if(re.length>0){H(`Error: El archivo "${re[0].name}" excede el lmite de ${Z}MB.`);return}A(!0),H(null);try{for(const Q of pe){if(g&&g({isUploading:!0,progress:0,fileName:Q.name}),f){if(!await f(a,Q))throw new Error("Error al subir archivo")}else{const J=Q.name,{error:ie}=await oe.storage.from(a).upload(`${J}`,Q,{cacheControl:"3600",upsert:!0});if(ie)throw ie}g&&g({isUploading:!1,progress:100,fileName:Q.name})}await l(a),H("Archivo(s) subido(s) correctamente.")}catch(Q){H(`Error subiendo archivo(s): ${Q?.message||Q}`)}finally{A(!1),_.current&&(_.current.value=""),g&&g({isUploading:!1,progress:0,fileName:""})}}return ge?i.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg border border-neutral-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:r}),i.jsxs("p",{className:"text-sm text-neutral-500",children:[n.length," archivo(s)"]})]}),i.jsxs("div",{children:[i.jsx("input",{ref:_,type:"file",multiple:v>1,accept:w.length>0?w.join(","):void 0,className:"hidden",onChange:ce,disabled:E}),i.jsx("button",{onClick:me,disabled:E,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors flex items-center gap-2",children:E?i.jsxs(i.Fragment,{children:[i.jsx(Gn,{size:"sm"}),"Subiendo..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Subir"]})})]})]}),C&&i.jsx(Ot,{children:i.jsxs(L.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:`mb-8 overflow-hidden rounded-[2rem] border shadow-2xl backdrop-blur-xl transition-all duration-500 ${C.includes("Error")||C.includes("Lmite")?"bg-white/80 border-rose-100 shadow-rose-500/10":"bg-white/80 border-emerald-100 shadow-emerald-500/10"}`,children:[i.jsx("div",{className:`h-1.5 w-full ${C.includes("Error")||C.includes("Lmite")?"bg-gradient-to-r from-rose-400 to-rose-600":"bg-gradient-to-r from-emerald-400 to-emerald-600"}`}),i.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-inner ${C.includes("Error")||C.includes("Lmite")?"bg-rose-50 text-rose-500":"bg-emerald-50 text-emerald-500"}`,children:C.includes("Error")||C.includes("Lmite")?"":""}),i.jsxs("div",{children:[i.jsx("h4",{className:`text-sm font-black uppercase tracking-widest mb-1 ${C.includes("Error")||C.includes("Lmite")?"text-rose-900":"text-emerald-900"}`,children:C.includes("Lmite")?"Potencial Ilimitado":"Aviso del Sistema"}),i.jsx("p",{className:"text-slate-600 text-sm font-medium leading-relaxed max-w-md",children:C})]})]}),C.includes("Lmite")&&N&&i.jsxs("button",{onClick:N,className:"group relative px-8 py-3.5 bg-slate-900 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl hover:bg-rose-600 transition-all duration-500 shadow-lg hover:shadow-rose-500/40 flex items-center gap-3 overflow-hidden",children:[i.jsx(L.div,{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Mejorar Experiencia",i.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]})]})]})]})}),n.length===0?i.jsxs("div",{className:"text-center py-12 bg-neutral-50 rounded-2xl border-2 border-dashed border-neutral-200",children:[i.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2-2v12a2 2 0 00-2 2z"})})}),i.jsx("p",{className:"text-sm text-neutral-500 font-medium tracking-wide",children:"No hay archivos subidos todava"})]}):i.jsx("div",{className:`grid gap-6 ${a==="gallery"?"grid-cols-3":a==="videos"?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:(K?n:n.slice(0,3)).map((we,pe)=>{const I=we.isSystem?we.path:u(a,we.path),ae=!!(p&&(p===I||p.includes(we.name)));return i.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border-2 transition-all duration-300 ${ae?"border-rose-400 bg-rose-50/30 ring-4 ring-rose-50":"border-neutral-100 bg-white hover:border-rose-200 hover:shadow-xl hover:-translate-y-1"}`,children:[i.jsxs("div",{className:`relative ${a==="gallery"?"aspect-square":a==="videos"?"aspect-video":"p-4"}`,children:[a==="gallery"?i.jsx("img",{src:I,alt:we.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):a==="videos"?i.jsxs("div",{className:"w-full h-full bg-slate-900 overflow-hidden relative",children:[i.jsx("video",{src:I,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white scale-0 group-hover:scale-100 transition-all duration-300",children:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-rose-100 flex items-center justify-center text-rose-500 flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-bold text-[11px] text-slate-800 truncate",children:we.name}),i.jsx("p",{className:"text-[9px] text-slate-500 uppercase tracking-wider font-bold",children:"Audio MP3"})]})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2 z-10",children:[we.isSystem&&i.jsx("span",{className:"px-2.5 py-1 bg-slate-900/90 backdrop-blur-md text-[9px] font-black text-white uppercase rounded-lg border border-white/20 tracking-widest",children:"Sistema"}),ae&&i.jsx("span",{className:"px-2.5 py-1 bg-rose-500 text-[9px] font-black text-white uppercase rounded-lg shadow-lg tracking-widest ring-2 ring-white/20",children:"En Uso"})]}),i.jsx("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:!we.isSystem&&i.jsx("button",{onClick:Z=>{Z.stopPropagation(),c(a,we.name)},className:"p-2.5 bg-white shadow-lg text-slate-400 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-rose-500 hover:text-white scale-90 group-hover:scale-100 transform",title:"Eliminar",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),d&&i.jsx("div",{className:"p-3 bg-neutral-50 border-t border-neutral-100",children:i.jsx("button",{onClick:()=>d(I),className:`w-full py-2.5 text-[10px] font-black uppercase tracking-[0.05em] rounded-xl transition-all duration-300 ${ae?"bg-rose-100 text-rose-600 cursor-default":"bg-slate-900 text-white hover:bg-rose-500 hover:shadow-xl hover:shadow-rose-500/30"}`,disabled:ae,children:ae?"Seleccionado":"Seleccionar"})})]},`${we.path}-${pe}`)})}),n.length>3&&i.jsx("div",{className:"mt-8 flex justify-center gap-4",children:K?i.jsxs("button",{onClick:()=>R(!1),className:"group flex items-center gap-2 px-6 py-2.5 bg-white border-2 border-rose-100 text-rose-500 rounded-xl font-bold text-xs hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all duration-300 shadow-sm",children:["Ver menos",i.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-y-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):i.jsxs("button",{onClick:()=>R(!0),className:"group flex items-center gap-2 px-6 py-2.5 bg-white border-2 border-rose-100 text-rose-500 rounded-xl font-bold text-xs hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all duration-300 shadow-sm",children:["Ver ms",i.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-y-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}):i.jsx("div",{className:"p-6 bg-white rounded-lg shadow-lg border border-neutral-200",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-8 w-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:r}),i.jsxs("p",{className:"text-neutral-600 text-sm",children:["Esta funcin requiere el plan ",b==="deluxe"?"Deluxe":"Premium"]})]})]})})}const Id=({value:r,onChange:a,label:n,helperText:l})=>{const{hour:c,minute:u,ampm:d}=fh(r),[f,p]=T.useState(c),[g,x]=T.useState(u),[w,v]=T.useState(d);T.useEffect(()=>{const N=fh(r);p(N.hour),x(N.minute),v(N.ampm)},[r]);const b=(N,_,E)=>{const A=Sg(N,_,E);a(A)},j=Vb(Sg(f,g,w));return i.jsxs("div",{className:"space-y-4",children:[n&&i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:n}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest ml-1",children:"Hora"}),i.jsx("select",{value:f,onChange:N=>{const _=parseInt(N.target.value);p(_),b(_,g,w)},className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-bold text-slate-700",children:Array.from({length:12},(N,_)=>_+1).map(N=>i.jsx("option",{value:N,children:N},N))})]}),i.jsx("span",{className:"text-2xl font-bold text-slate-300 mt-4",children:":"}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest ml-1",children:"Minutos"}),i.jsx("select",{value:g,onChange:N=>{const _=parseInt(N.target.value);x(_),b(f,_,w)},className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-bold text-slate-700",children:[0,5,10,15,20,25,30,35,40,45,50,55].map(N=>i.jsx("option",{value:N,children:String(N).padStart(2,"0")},N))})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest ml-1",children:"Periodo"}),i.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:["AM","PM"].map(N=>i.jsx("button",{type:"button",onClick:()=>{v(N),b(f,g,N)},className:`px-4 py-2 rounded-lg text-xs font-black tracking-widest transition-all ${w===N?"bg-white text-emerald-600 shadow-sm ring-1 ring-emerald-100":"text-slate-400 hover:text-slate-600"}`,children:N},N))})]})]}),i.jsxs("div",{className:"mt-2 flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),i.jsxs("span",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:["Se ver como: ",i.jsx("span",{className:"text-emerald-600 underline decoration-emerald-200 underline-offset-4",children:j})," en la invitacin"]})]}),l&&i.jsx("p",{className:"text-[10px] text-slate-400 italic",children:l})]})]})};function Qb(r){const[a,n]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState(null),f=T.useCallback(async()=>{if(r){c(!0),d(null);try{const{data:b,error:j}=await oe.from("padrinos").select("*").eq("client_id",r).order("display_order",{ascending:!0});if(j)throw j;n(b||[])}catch(b){console.error("[usePadrinos] Error loading:",b),d(b.message||"Error al cargar padrinos")}finally{c(!1)}}},[r]),p=T.useCallback(async b=>{if(!r)return null;try{const j=a.reduce((E,A)=>Math.max(E,A.display_order),-1),{data:N,error:_}=await oe.from("padrinos").insert([{client_id:r,name:b.name,role:b.role,description:b.description||null,photo_url:b.photo_url||null,display_order:j+1,is_active:b.is_active??!0}]).select().single();if(_)throw _;return n(E=>[...E,N]),N}catch(j){return console.error("[usePadrinos] Error adding:",j),d(j.message||"Error al agregar padrino"),null}},[r,a]),g=T.useCallback(async(b,j)=>{try{const{error:N}=await oe.from("padrinos").update({name:j.name,role:j.role,description:j.description,photo_url:j.photo_url,is_active:j.is_active}).eq("id",b);if(N)throw N;return n(_=>_.map(E=>E.id===b?{...E,...j}:E)),!0}catch(N){return console.error("[usePadrinos] Error updating:",N),d(N.message||"Error al actualizar padrino"),!1}},[]),x=T.useCallback(async b=>{try{const{error:j}=await oe.from("padrinos").delete().eq("id",b);if(j)throw j;return n(N=>N.filter(_=>_.id!==b)),!0}catch(j){return console.error("[usePadrinos] Error deleting:",j),d(j.message||"Error al eliminar padrino"),!1}},[]),w=T.useCallback(async b=>{const j=a.find(N=>N.id===b);return j?g(b,{is_active:!j.is_active}):!1},[a,g]),v=T.useCallback(async b=>{try{const j=b.map((_,E)=>oe.from("padrinos").update({display_order:E}).eq("id",_));await Promise.all(j);const N=b.map(_=>a.find(E=>E.id===_)).filter(_=>_!==void 0).map((_,E)=>({..._,display_order:E}));return n(N),!0}catch(j){return console.error("[usePadrinos] Error reordering:",j),d(j.message||"Error al reordenar padrinos"),!1}},[a]);return T.useEffect(()=>{f()},[f]),{padrinos:a,activePadrinos:a.filter(b=>b.is_active),loading:l,error:u,loadPadrinos:f,addPadrino:p,updatePadrino:g,deletePadrino:x,toggleActive:w,reorderPadrinos:v}}const wN=["Padrino","Madrina","Padrino de Anillos","Madrina de Anillos","Padrino de Arras","Madrina de Arras","Padrino de Velacin","Madrina de Velacin","Padrino de Lazo","Madrina de Lazo","Padrino de Honor","Madrina de Honor"];function jN({clientId:r,onUpload:a}){const{padrinos:n,loading:l,error:c,addPadrino:u,updatePadrino:d,deletePadrino:f,toggleActive:p,reorderPadrinos:g}=Qb(r),x=T.useRef(null),[w,v]=T.useState(!1),[b,j]=T.useState(!1),[N,_]=T.useState(null),[E,A]=T.useState({name:"",role:"",description:"",photo_url:"",is_active:!0}),[C,H]=T.useState(!1),K=ce=>{ce?(_(ce),A({name:ce.name,role:ce.role,description:ce.description||"",photo_url:ce.photo_url||"",is_active:ce.is_active})):(_(null),A({name:"",role:"",description:"",photo_url:"",is_active:!0})),j(!0)},R=()=>{j(!1),_(null)},te=async ce=>{if(ce.preventDefault(),!(!E.name||!E.role)){H(!0);try{N?await d(N.id,E):await u(E),R()}finally{H(!1)}}},ge=async ce=>{confirm("Ests seguro de eliminar este padrino?")&&await f(ce)},me=async(ce,we)=>{const pe=we==="up"?ce-1:ce+1;if(pe<0||pe>=n.length)return;const I=[...n];[I[ce],I[pe]]=[I[pe],I[ce]],await g(I.map(ae=>ae.id))};return l?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(Gn,{})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:"Padrinos y Madrinas"}),i.jsx("p",{className:"text-sm text-neutral-500",children:"Gestiona las personas especiales de tu ceremonia"})]}),i.jsxs("button",{onClick:()=>K(),className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:"+"}),"Agregar Padrino"]})]}),c&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:c}),n.length===0?i.jsxs("div",{className:"text-center py-12 bg-neutral-50 rounded-2xl border-2 border-dashed border-neutral-200",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("p",{className:"text-neutral-500",children:"No hay padrinos agregados"}),i.jsx("p",{className:"text-sm text-neutral-400 mt-1",children:'Haz clic en "Agregar Padrino" para comenzar'})]}):i.jsx("div",{className:"space-y-3",children:n.map((ce,we)=>i.jsx("div",{className:`p-4 bg-white rounded-xl border-2 transition-all ${ce.is_active?"border-neutral-100 hover:border-rose-200":"border-neutral-100 opacity-50"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("button",{onClick:()=>me(we,"up"),disabled:we===0,className:"p-1 text-neutral-400 hover:text-neutral-600 disabled:opacity-30",children:""}),i.jsx("button",{onClick:()=>me(we,"down"),disabled:we===n.length-1,className:"p-1 text-neutral-400 hover:text-neutral-600 disabled:opacity-30",children:""})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:ce.photo_url?i.jsx("img",{src:ce.photo_url,alt:ce.name,className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-rose-500 font-bold",children:ce.name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-neutral-800 truncate",children:ce.name}),i.jsx("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-600 text-xs font-medium rounded-full",children:ce.role}),!ce.is_active&&i.jsx("span",{className:"px-2 py-0.5 bg-neutral-200 text-neutral-500 text-xs font-medium rounded-full",children:"Inactivo"})]}),ce.description&&i.jsx("p",{className:"text-sm text-neutral-500 truncate mt-1",children:ce.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>p(ce.id),className:`p-2 rounded-lg transition-colors ${ce.is_active?"text-green-600 hover:bg-green-50":"text-neutral-400 hover:bg-neutral-100"}`,title:ce.is_active?"Desactivar":"Activar",children:ce.is_active?"":""}),i.jsx("button",{onClick:()=>K(ce),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:""}),i.jsx("button",{onClick:()=>ge(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:""})]})]})},ce.id))}),b&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-xl font-bold text-neutral-800 mb-6",children:N?"Editar Padrino":"Agregar Padrino"}),i.jsxs("form",{onSubmit:te,className:"space-y-5",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm font-semibold text-neutral-700",children:"Nombre completo *"}),i.jsx("input",{type:"text",value:E.name,onChange:ce=>A({...E,name:ce.target.value}),required:!0,placeholder:"Ej: Juan Prez Garca",className:"mt-1 block w-full rounded-xl border-neutral-200 focus:border-rose-400 focus:ring focus:ring-rose-200 focus:ring-opacity-50"})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm font-semibold text-neutral-700",children:"Rol *"}),i.jsx("input",{type:"text",value:E.role,onChange:ce=>A({...E,role:ce.target.value}),list:"role-suggestions",required:!0,placeholder:"Ej: Padrino de Anillos",className:"mt-1 block w-full rounded-xl border-neutral-200 focus:border-rose-400 focus:ring focus:ring-rose-200 focus:ring-opacity-50"}),i.jsx("datalist",{id:"role-suggestions",children:wN.map(ce=>i.jsx("option",{value:ce},ce))})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm font-semibold text-neutral-700",children:"Descripcin (opcional)"}),i.jsx("textarea",{value:E.description,onChange:ce=>A({...E,description:ce.target.value}),placeholder:"Ej: To del novio, amigo de la familia...",rows:2,className:"mt-1 block w-full rounded-xl border-neutral-200 focus:border-rose-400 focus:ring focus:ring-rose-200 focus:ring-opacity-50"})]}),i.jsxs("div",{className:"block",children:[i.jsx("span",{className:"text-sm font-semibold text-neutral-700 block mb-2",children:"Foto (opcional)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-neutral-100 border border-neutral-200 overflow-hidden flex-shrink-0 relative group",children:E.photo_url?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:E.photo_url,alt:"Preview",className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:()=>A({...E,photo_url:""}),className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs",children:"Eliminar"})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:async ce=>{const we=ce.target.files?.[0];if(we){v(!0);try{const pe=new File([we],`padrino-${Date.now()}-${we.name.replace(/[^a-zA-Z0-9.]/g,"")}`,{type:we.type}),I=await a("gallery",pe,"padrinos");I&&A(ae=>({...ae,photo_url:I}))}catch(pe){console.error("Error uploading photo:",pe),alert("Error al subir la foto")}finally{v(!1),x.current&&(x.current.value="")}}}}),i.jsx("button",{type:"button",onClick:()=>x.current?.click(),disabled:w,className:"px-4 py-2 bg-rose-50 border border-rose-200 rounded-xl text-rose-600 font-medium text-sm hover:bg-rose-100 transition-colors flex items-center gap-2",children:w?i.jsxs(i.Fragment,{children:[i.jsx(Gn,{size:"sm"}),"Subiendo..."]}):i.jsxs(i.Fragment,{children:[" ",E.photo_url?"Cambiar Foto":"Subir Foto"]})}),i.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Recomendado: formato cuadrado, mx 2MB"})]})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.is_active,onChange:ce=>A({...E,is_active:ce.target.checked}),className:"w-5 h-5 rounded border-neutral-300 text-rose-500 focus:ring-rose-500"}),i.jsx("span",{className:"text-sm text-neutral-700",children:"Mostrar en la invitacin"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:R,className:"flex-1 px-4 py-3 bg-neutral-100 text-neutral-700 rounded-xl hover:bg-neutral-200 transition-colors font-medium",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:C||!E.name||!E.role,className:"flex-1 px-4 py-3 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[C&&i.jsx(Gn,{size:"sm"}),N?"Guardar Cambios":"Agregar"]})]})]})]})})]})}function _N({editForm:r,setEditForm:a,saveStatus:n,onSave:l,client:c,imageFiles:u,audioFiles:d,videoFiles:f,onUpload:p,onDelete:g,getPublicUrl:x,clientId:w,onUpgradeClick:v}){const b=Xs(c),j=["premium","deluxe"].includes(b),N=b==="deluxe",_=E=>{const{name:A,value:C,type:H}=E.target,K=H==="checkbox"?E.target.checked:C;a({...r,[A]:K})};return i.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8 pb-24",children:[i.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl p-8 shadow-2xl",children:i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("h1",{className:"text-3xl font-semibold text-white mb-3",children:"Configuracin de la invitacin"}),i.jsx("p",{className:"text-slate-300",children:"Personaliza cada detalle de tu invitacin digital"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Novios"})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre del evento"}),i.jsx("input",{type:"text",name:"clientName",value:r.clientName,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"Ej: Boda de Ana y Carlos"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Novio"}),i.jsx("input",{type:"text",name:"groomName",value:r.groomName,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Novia"}),i.jsx("input",{type:"text",name:"brideName",value:r.brideName,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Fecha y hora"})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha"}),i.jsx("input",{type:"date",name:"weddingDate",value:r.weddingDate,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(Id,{label:"Hora del evento",value:r.weddingTime,onChange:E=>a({...r,weddingTime:E}),helperText:"Esta es la hora principal que se muestra en la invitacin"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de ceremonia"}),i.jsx("input",{type:"text",name:"weddingType",value:r.weddingType,onChange:_,placeholder:"Ej: Ceremonia religiosa",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-violet-500 to-violet-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Ceremonia"})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Lugar"}),i.jsx("input",{type:"text",name:"churchName",value:r.churchName,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all"})]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(Id,{label:"Hora de la ceremonia",value:r.weddingTime,onChange:E=>a({...r,weddingTime:E})})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Direccin"}),i.jsx("input",{type:"text",name:"ceremonyAddress",value:r.ceremonyAddress,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Referencia"}),i.jsx("input",{type:"text",name:"ceremonyReference",value:r.ceremonyReference,onChange:_,placeholder:"Ej: Frente al parque central",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Enlace de Google Maps"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",name:"ceremonyMapUrl",value:r.ceremonyMapUrl,onChange:_,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all"}),r.ceremonyMapUrl&&i.jsxs("a",{href:r.ceremonyMapUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 bg-violet-500 text-white rounded-xl hover:bg-violet-600 transition-colors flex items-center gap-2 whitespace-nowrap",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ver en mapa"]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-amber-500 to-amber-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recepcin"}),i.jsxs("label",{className:"ml-auto flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"isReceptionSameAsCeremony",checked:r.isReceptionSameAsCeremony,onChange:_,className:"w-4 h-4 rounded border-slate-300 text-amber-500 focus:ring-2 focus:ring-amber-500/20"}),i.jsx("span",{className:"text-sm text-slate-600",children:"Misma ubicacin"})]})]}),r.isReceptionSameAsCeremony?i.jsxs("div",{className:"py-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-amber-50 rounded-full flex items-center justify-center text-amber-500 mb-4",children:i.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7"})})}),i.jsx("p",{className:"text-slate-600",children:"Usando la misma ubicacin que la ceremonia"})]}):i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Lugar"}),i.jsx("input",{type:"text",name:"receptionLocationName",value:r.receptionLocationName,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all"})]}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(Id,{label:"Hora de la recepcin",value:r.receptionTime,onChange:E=>a({...r,receptionTime:E})})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Direccin"}),i.jsx("input",{type:"text",name:"receptionAddress",value:r.receptionAddress,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Referencia"}),i.jsx("input",{type:"text",name:"receptionReference",value:r.receptionReference,onChange:_,placeholder:"Ej: Al lado del centro comercial",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Enlace de Google Maps"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",name:"receptionMapUrl",value:r.receptionMapUrl,onChange:_,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all"}),r.receptionMapUrl&&i.jsxs("a",{href:r.receptionMapUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-colors flex items-center gap-2 whitespace-nowrap",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ver en mapa"]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)] lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-rose-500 to-rose-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Textos personalizados"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Versculo o poema"}),i.jsx("textarea",{name:"bibleVerse",value:r.bibleVerse,onChange:_,rows:3,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Referencia"}),i.jsx("input",{type:"text",name:"bibleVerseBook",value:r.bibleVerseBook,onChange:_,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mensaje de invitacin"}),i.jsx("textarea",{name:"invitationText",value:r.invitationText,onChange:_,rows:6,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all resize-none",placeholder:"Escribe un mensaje especial para tus invitados..."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)] lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-slate-700 to-slate-900 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Multimedia"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"md:col-span-2 space-y-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Imagen principal"}),i.jsx("div",{className:"bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 p-4",children:i.jsx(al,{title:"",bucket:"gallery",files:u,onUploadSuccess:async()=>{},onUpload:p,onDelete:async(E,A)=>{await g(E,A)},getPublicUrl:x,setFileAsBackground:E=>a({...r,heroBackgroundUrl:E}),currentBackground:r.heroBackgroundUrl,client:c,maxFiles:1,onUpgradeClick:v})})]}),i.jsxs("div",{className:"md:col-span-1 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Msica de fondo"}),!j&&i.jsx("button",{onClick:v,className:"text-[10px] font-black uppercase tracking-widest bg-amber-100 text-amber-700 px-2 py-1 rounded hover:bg-amber-200 transition-colors",children:" Premium"})]}),i.jsx("div",{className:`bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 p-4 transition-opacity ${j?"":"opacity-50 pointer-events-none"}`,children:i.jsx(al,{title:"",bucket:"audio",files:d,onUploadSuccess:async()=>{},onUpload:p,onDelete:async(E,A)=>{await g(E,A)},getPublicUrl:x,setFileAsBackground:E=>a({...r,backgroundAudioUrl:E}),currentBackground:r.backgroundAudioUrl,client:c,maxFiles:1,onUpgradeClick:v})})]}),i.jsxs("div",{className:"md:col-span-1 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Video de portada"}),!N&&i.jsx("button",{onClick:v,className:"text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-600 px-2 py-1 rounded hover:bg-slate-200 transition-colors",children:" Deluxe"})]}),i.jsx("div",{className:`bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 p-4 transition-opacity ${N?"":"opacity-50 pointer-events-none"}`,children:i.jsx(al,{title:"",bucket:"videos",files:f,onUploadSuccess:async()=>{},onUpload:p,onDelete:async(E,A)=>{await g(E,A)},getPublicUrl:x,setFileAsBackground:E=>a({...r,heroBackgroundVideoUrl:E}),currentBackground:r.heroBackgroundVideoUrl,client:c,maxFiles:1,clientId:w,onUpgradeClick:v})})]})]}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-indigo-500 to-indigo-600 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Configuracin avanzada"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-rose-100/50 shadow-sm cursor-pointer hover:shadow-md hover:border-rose-200 transition-all duration-300 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-rose-50 text-rose-500 rounded-xl flex items-center justify-center group-hover:bg-rose-500 group-hover:text-white transition-colors duration-300",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Audio en video"}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Habilitar sonido original del video"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",name:"heroVideoAudioEnabled",checked:r.heroVideoAudioEnabled,onChange:_,className:"sr-only peer"}),i.jsx("div",{className:"w-10 h-6 bg-slate-200 rounded-full peer peer-checked:bg-rose-500 transition-all duration-300 after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-4 shadow-inner"})]})]}),i.jsxs("div",{className:"p-5 bg-white rounded-2xl border border-amber-100/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-amber-50 text-amber-500 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),i.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Modo de visualizacin"})]}),i.jsx("div",{className:"flex p-1 bg-slate-50 rounded-xl border border-slate-100",children:["image","video"].map(E=>i.jsx("button",{type:"button",onClick:()=>a({...r,heroDisplayMode:E}),className:`flex-1 py-2 px-4 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all duration-300 ${r.heroDisplayMode===E?"bg-white text-rose-600 shadow-md ring-1 ring-rose-100":"text-slate-400 hover:text-slate-600"}`,children:E==="image"?"Imagen":"Video Solo"},E))})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)] relative overflow-hidden",children:[!N&&i.jsx("div",{onClick:v,className:"absolute inset-0 z-10 bg-slate-50/40 backdrop-blur-[2px] cursor-pointer flex items-center justify-center group",children:i.jsx("div",{className:"bg-white px-6 py-3 rounded-2xl shadow-xl border border-slate-100 transform group-hover:scale-110 transition-transform",children:i.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[i.jsx("span",{children:" Bloqueado"}),i.jsx("span",{className:"text-rose-500",children:"Exclusivo Deluxe"})]})})}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Efectos Especiales"}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Animacin Deluxe"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 px-4 py-2 bg-slate-50/80 rounded-xl border border-slate-100 cursor-pointer hover:bg-slate-100 transition-colors",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Activar Todo"}),i.jsxs("div",{className:"relative inline-flex items-center",children:[i.jsx("input",{type:"checkbox",checked:r.advancedAnimations?.enabled,onChange:E=>a({...r,advancedAnimations:{...r.advancedAnimations||{},enabled:E.target.checked}}),className:"sr-only peer"}),i.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-rose-500 shadow-inner"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"particleEffects",label:"Brillo Mgico",sub:"Partculas",icon:"",activeClass:"border-rose-100 bg-white shadow-md",iconClass:"bg-rose-50 text-rose-500"},{id:"parallaxScrolling",label:"Parallax",sub:"Efecto Profundidad",icon:"",activeClass:"border-amber-100 bg-white shadow-md",iconClass:"bg-amber-50 text-amber-500"},{id:"floatingElements",label:"Flotantes",sub:"Movimiento Suave",icon:"",activeClass:"border-indigo-100 bg-white shadow-md",iconClass:"bg-indigo-50 text-indigo-500"}].map(E=>i.jsxs("button",{type:"button",disabled:!N,onClick:()=>a({...r,advancedAnimations:{...r.advancedAnimations||{},[E.id]:!r.advancedAnimations?.[E.id]}}),className:`relative flex items-center gap-4 p-4 rounded-2xl border transition-all duration-300 text-left ${r.advancedAnimations?.[E.id]?E.activeClass:"bg-slate-50/50 border-transparent hover:border-slate-200"} ${N?"":"cursor-not-allowed"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xl transition-all duration-500 shadow-sm ${r.advancedAnimations?.[E.id]?E.iconClass:"bg-slate-200/50 grayscale opacity-40"}`,children:E.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${r.advancedAnimations?.[E.id]?"text-slate-900":"text-slate-400"}`,children:E.label}),i.jsx("p",{className:"text-[8px] font-medium text-slate-500 uppercase tracking-wider",children:E.sub})]}),r.advancedAnimations?.[E.id]&&i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})]},E.id))})]})]})]})]}),w&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-[0_4px_20px_rgba(0,0,0,0.03)] lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-fuchsia-500 to-fuchsia-600 rounded-full"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Padrinos y madrinas"})]}),i.jsx(jN,{clientId:w,onUpload:p})]})]}),i.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-full shadow-[0_8px_30px_rgba(0,0,0,0.12)] border border-slate-200 overflow-hidden",children:i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,disabled:n==="saving",className:`px-8 py-4 font-bold text-[10px] uppercase tracking-[0.2em] text-white transition-all flex items-center gap-3 ${n==="saving"?"bg-slate-600":n==="success"?"bg-emerald-500":n==="error"?"bg-rose-500":"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 shadow-[0_10px_20px_-5px_rgba(0,0,0,0.3)] hover:shadow-[0_15px_30px_-5px_rgba(0,0,0,0.4)]"}`,children:n==="saving"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{children:"Guardando..."})]}):n==="success"?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Guardado"})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Guardar cambios"})]})})})})]})}function NN({rsvps:r,totalGuests:a,totalNotAttending:n,onDownloadCSV:l,client:c}){const u=r.filter(f=>f.is_attending!==!1),d=r.filter(f=>f.is_attending===!1);return i.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 shadow-xl border border-white/40",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Gestin de Respuestas"}),i.jsx("p",{className:"text-neutral-500 text-xs sm:text-sm mt-1",children:"Gestiona quines vienen y quines no."}),(()=>{if(!c)return null;const f=Xs(c),p=ma[f].guests;return a>=p&&p!==1/0?i.jsxs("p",{className:"text-rose-500 text-[10px] sm:text-xs font-bold mt-2 animate-pulse",children:[" Has alcanzado el lmite de ",p," invitados para el plan ",f.toUpperCase(),"."]}):null})()]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex-1 sm:flex-none px-4 py-2 bg-rose-50 rounded-2xl border border-rose-100 flex items-center justify-between sm:justify-start",children:[i.jsx("span",{className:"text-rose-400 text-[10px] uppercase tracking-wider font-bold",children:"Asistentes Totales"}),i.jsx("span",{className:"text-rose-600 font-bold text-lg sm:ml-3",children:a})]}),i.jsxs("div",{className:"flex-1 sm:flex-none px-4 py-2 bg-slate-50 rounded-2xl border border-slate-100 flex items-center justify-between sm:justify-start",children:[i.jsx("span",{className:"text-slate-400 text-[10px] uppercase tracking-wider font-bold",children:"Inasistentes"}),i.jsx("span",{className:"text-slate-600 font-bold text-lg sm:ml-3",children:n})]}),i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(),className:"p-3 bg-white border border-neutral-200 rounded-2xl text-neutral-600 hover:bg-neutral-50 shadow-sm transition-all flex-shrink-0 flex items-center gap-2",title:"Descargar Lista Completa (Excel)",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider hidden sm:inline",children:"Todo"})]})]})]}),i.jsxs("div",{className:"space-y-12",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 px-2",children:[i.jsx("span",{className:"flex h-2 w-2 rounded-full bg-emerald-500"}),i.jsxs("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-900",children:["Invitados que asistirn (",u.length,")"]}),i.jsx("div",{className:"flex-1 h-px bg-slate-100"}),i.jsxs(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(!0),className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-50 text-emerald-600 rounded-lg border border-emerald-100 hover:bg-emerald-100 transition-colors",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Descargar Lista"})]})]}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-neutral-400 text-[9px] uppercase tracking-widest font-bold",children:[i.jsx("th",{className:"px-6 py-1",children:"Invitado Principal"}),i.jsx("th",{className:"px-6 py-1",children:"Contacto"}),i.jsx("th",{className:"px-6 py-1 text-center",children:"Acompaantes"}),i.jsx("th",{className:"px-6 py-1 text-right",children:"Fecha"})]})}),i.jsx("tbody",{children:u.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"py-10 text-center text-neutral-400 text-xs italic",children:"Nadie ha confirmado asistencia an."})}):u.map((f,p)=>i.jsx(kg,{rsvp:f,idx:p},`attending-${p}`))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:u.map((f,p)=>i.jsx(Cg,{rsvp:f,idx:p},`attending-mob-${p}`))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 px-2",children:[i.jsx("span",{className:"flex h-2 w-2 rounded-full bg-rose-400"}),i.jsxs("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-900",children:["Personas que no asistirn (",d.length,")"]}),i.jsx("div",{className:"flex-1 h-px bg-slate-100"}),i.jsxs(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(!1),className:"flex items-center gap-1.5 px-3 py-1 bg-rose-50 text-rose-600 rounded-lg border border-rose-100 hover:bg-rose-100 transition-colors",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tighter",children:"Descargar Lista"})]})]}),i.jsx("div",{className:"hidden md:block overflow-x-auto opacity-80",children:i.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-neutral-400 text-[9px] uppercase tracking-widest font-bold",children:[i.jsx("th",{className:"px-6 py-1",children:"Nombre"}),i.jsx("th",{className:"px-6 py-1",children:"Contacto"}),i.jsx("th",{className:"px-6 py-1 text-center",children:"Motivo/Nombres"}),i.jsx("th",{className:"px-6 py-1 text-right",children:"Fecha"})]})}),i.jsx("tbody",{children:d.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"py-10 text-center text-neutral-400 text-xs italic",children:"Nadie ha reportado inasistencia an."})}):d.map((f,p)=>i.jsx(kg,{rsvp:f,idx:p},`no-attending-${p}`))})]})}),i.jsx("div",{className:"md:hidden space-y-3 opacity-80",children:d.map((f,p)=>i.jsx(Cg,{rsvp:f,idx:p},`no-attending-mob-${p}`))})]})]})]})}function kg({rsvp:r,idx:a}){const n=r.is_attending!==!1?r.attending_names:r.not_attending_names;return i.jsxs(L.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"bg-neutral-50/50 hover:bg-white transition-colors group",children:[i.jsx("td",{className:"px-6 py-4 rounded-l-2xl border-y border-l border-transparent group-hover:border-rose-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-[11px] text-white font-bold ${r.is_attending===!1?"bg-slate-300":"bg-gradient-to-br from-rose-400 to-rose-600"}`,children:r.name.charAt(0)}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-semibold text-neutral-800 text-sm",children:r.name}),n&&i.jsxs("span",{className:"text-[9px] text-slate-500 italic max-w-[250px] truncate",title:n,children:[r.is_attending!==!1?"Trae a: ":"Report que no vienen: ",n]})]})]})}),i.jsx("td",{className:"px-6 py-4 border-y border-transparent group-hover:border-rose-100",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs text-neutral-600",children:r.email}),r.phone&&i.jsx("span",{className:"text-[9px] text-neutral-400 font-medium",children:r.phone})]})}),i.jsx("td",{className:"px-6 py-4 text-center border-y border-transparent group-hover:border-rose-100",children:i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-white border border-neutral-200 rounded-full text-[10px] font-bold text-neutral-700",children:r.is_attending===!1?"":r.guests})}),i.jsx("td",{className:"px-6 py-4 text-right rounded-r-2xl border-y border-r border-transparent group-hover:border-rose-100",children:i.jsx("span",{className:"text-[9px] text-neutral-400 font-medium whitespace-nowrap",children:r.created_at?new Date(r.created_at).toLocaleDateString():""})})]})}function Cg({rsvp:r,idx:a}){const n=r.is_attending!==!1?r.attending_names:r.not_attending_names;return i.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:`bg-neutral-50/50 p-4 rounded-2xl border border-neutral-100 space-y-3 ${r.is_attending===!1?"border-rose-100/50":"border-neutral-100"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-[11px] font-bold shrink-0 ${r.is_attending===!1?"bg-slate-300":"bg-rose-400"}`,children:r.name.charAt(0)}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-bold text-neutral-800 text-sm truncate leading-tight",children:r.name}),i.jsxs("p",{className:"text-[8px] text-neutral-400 uppercase tracking-tighter",children:["Confirmado: ",r.created_at?new Date(r.created_at).toLocaleDateString():""]})]})]}),r.is_attending!==!1&&i.jsxs("div",{className:"bg-white px-2 py-0.5 rounded-lg border border-neutral-200",children:[i.jsx("span",{className:"text-[10px] font-bold text-neutral-700",children:r.guests}),i.jsx("span",{className:"text-[7px] text-neutral-400 ml-1 uppercase font-bold tracking-tighter",children:"Acomp."})]})]}),n&&i.jsxs("div",{className:"bg-white/50 p-2 rounded-xl border border-neutral-100 text-[10px] text-slate-600",children:[i.jsx("span",{className:"font-bold opacity-70 block mb-1 uppercase tracking-tighter text-[8px]",children:r.is_attending!==!1?"Incluye a:":"Report que no vienen:"}),n]}),i.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-[10px]",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600",children:[i.jsx("span",{className:"opacity-50",children:""}),i.jsx("span",{className:"truncate max-w-[150px]",children:r.email})]}),r.phone&&i.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600",children:[i.jsx("span",{className:"opacity-50",children:""}),i.jsx("span",{children:r.phone})]})]})]})}function SN({messages:r,onDownloadCSV:a}){return i.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 shadow-xl border border-white/40",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Mensajes de Invitados"}),i.jsx("p",{className:"text-neutral-500 text-xs sm:text-sm mt-1",children:"Dedicatorias y deseos de tus invitados."})]}),i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"p-3 bg-white border border-neutral-200 rounded-2xl text-neutral-600 hover:bg-neutral-50 shadow-sm transition-all flex items-center gap-2 group",title:"Descargar Mensajes (Excel)",children:[i.jsx("svg",{className:"w-5 h-5 group-hover:text-rose-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Descargar"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.length===0?i.jsxs("div",{className:"md:col-span-2 py-20 flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-neutral-50 rounded-full flex items-center justify-center text-3xl opacity-50",children:""}),i.jsx("p",{className:"text-neutral-400 font-medium",children:"No hay mensajes an"})]}):r.map((n,l)=>i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.05},className:"bg-rose-50/50 p-6 rounded-3xl border border-rose-100 group hover:bg-rose-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-200 flex items-center justify-center text-rose-600 font-bold text-sm",children:n.name.charAt(0)}),i.jsx("span",{className:"font-bold text-neutral-800",children:n.name})]}),i.jsx("span",{className:"text-[10px] text-rose-300 font-bold uppercase tracking-widest",children:n.created_at?new Date(n.created_at).toLocaleDateString():""})]}),i.jsxs("p",{className:"text-neutral-600 italic text-sm leading-relaxed",children:["",n.message,""]})]},l))})]})}function EN({imageFiles:r,videoFiles:a,onDelete:n,onUpload:l,getPublicUrl:c,client:u,clientId:d,cinemaVideoAudioEnabled:f,onToggleAudio:p,onUpgradeClick:g}){const x=Xs(u),w=ma[x]||ma.basic,v=ma[x]||ma.basic,b=Xb(x);return i.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-8",children:[i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 shadow-xl border border-white/40",children:[i.jsx("h2",{className:"text-2xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent mb-6",children:"Galera de Imgenes"}),i.jsx(al,{title:"Fotos para tu invitacin",bucket:"gallery",files:r,onUploadSuccess:async()=>{},onUpload:l,onDelete:async(j,N)=>{await n(j,N)},getPublicUrl:c,client:u,clientId:d,maxFiles:v.photos===1/0?999:v.photos,onUpgradeClick:g})]}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 shadow-xl border border-white/40",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Videos de la Invitacin"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Lmite de tu plan: ",w.videos===1/0?"Ilimitado":w.videos," videos (",b," mx)"]})]}),x==="deluxe"&&i.jsxs("div",{className:"flex items-center gap-3 bg-white/50 px-4 py-2 rounded-full border border-white/60",children:[i.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Audio en Video"}),i.jsx("button",{onClick:()=>p(!f),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f?"bg-green-500":"bg-slate-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition transition-transform ${f?"translate-x-6":"translate-x-1"}`})})]})]}),i.jsx(al,{title:"Videos para tu galera",bucket:"videos",files:a,onUploadSuccess:async()=>{},onUpload:l,onDelete:async(j,N)=>{await n(j,N)},getPublicUrl:c,client:u,clientId:d,maxFiles:w.videos===1/0?999:w.videos,onUpgradeClick:g})]})]})}function TN(){const{toasts:r,addToast:a,removeToast:n}=Uh(),{dialog:l}=yx(),[c,u]=T.useState(()=>!!sessionStorage.getItem("clientAuth")),[d,f]=T.useState(""),[p,g]=T.useState(""),[x,w]=T.useState("content"),[v,b]=T.useState(!1),[j,N]=T.useState(()=>{try{const ne=sessionStorage.getItem("clientAuth");return ne?JSON.parse(ne):null}catch{return null}}),[_,E]=T.useState([]),[A,C]=T.useState([]),[H,K]=T.useState([]),[R,te]=T.useState([]),[ge,me]=T.useState([]),ce=T.useMemo(()=>_.reduce((ne,je)=>je.is_attending===!1?ne:ne+(Number(je.guests)||0)+1,0),[_]),we=T.useMemo(()=>_.reduce((ne,je)=>je.is_attending!==!1?ne:ne+1,0),[_]),pe=hN(),I=c?j||pe:null,ae=I?I.id:null,[Z,U]=T.useState({clientName:I?.clientName||"Humberto & Nelida",groomName:I?.groomName||"Humberto",brideName:I?.brideName||"Nelida",weddingDate:I?.weddingDate?typeof I.weddingDate=="string"?I.weddingDate.split("T")[0]:I.weddingDate.toISOString().split("T")[0]:"2026-01-24",weddingTime:Jo(I?.weddingTime||"18:00",!1),weddingLocation:I?.weddingLocation||"Iglesia San Jos",weddingType:I?.weddingType||"Boda Cristiana",religiousSymbol:I?.religiousSymbol||"",bibleVerse:I?.bibleVerse||"El amor es paciente, es bondadoso el amor nunca deja de ser.",bibleVerseBook:I?.bibleVerseBook||"1 Corintios 13",invitationText:I?.invitationText||"Estn cordialmente invitados a celebrar con nosotros este da tan especial.",backgroundAudioUrl:I?.backgroundAudioUrl||"",heroBackgroundUrl:I?.heroBackgroundUrl||"/boda.jpg",heroBackgroundVideoUrl:j?.heroBackgroundVideoUrl||"",heroDisplayMode:j?.heroDisplayMode||"image",heroVideoAudioEnabled:j?.heroVideoAudioEnabled||!1,advancedAnimations:j?.advancedAnimations||{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1},mapCoordinates:I?.mapCoordinates||{lat:-12.0932,lng:-77.0314},churchName:I?.churchName||"Iglesia San Jos",ceremonyLocationName:I?.ceremonyLocationName||"Iglesia San Jos",receptionLocationName:I?.receptionLocationName||"",receptionTime:Jo(I?.receptionTime||"21:00",!1),ceremonyAddress:I?.ceremonyAddress||"",ceremonyReference:I?.ceremonyReference||"",ceremonyMapUrl:I?.ceremonyMapUrl||"",receptionAddress:I?.receptionAddress||"",receptionReference:I?.receptionReference||"",receptionMapUrl:I?.receptionMapUrl||"",isReceptionSameAsCeremony:I?.isReceptionSameAsCeremony||!1}),[re,Q]=T.useState("idle");T.useEffect(()=>{if(!c||!j?.token)return;const ne=async()=>await mh(j.token);ne();const je=setInterval(ne,600*1e3);return()=>clearInterval(je)},[c,j?.token]),T.useEffect(()=>{if(!c||!ae)return;const ne=j;(async()=>{try{const{data:be,error:ve}=await oe.from("clients").select("*").eq("id",ae).maybeSingle();if(ve||!be||!ne)return;const Le=ne.planType||"basic",We=["premium","deluxe"].includes(Le)&&be.background_audio_url?be.background_audio_url:ne.backgroundAudioUrl||void 0,nt=be.hero_background_video_url||ne.heroBackgroundVideoUrl||void 0,lt=Le==="deluxe"?be.advanced_animations||ne.advancedAnimations||{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1}:{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1},Be={...ne,clientName:be.client_name||ne.clientName,groomName:be.groom_name||ne.groomName,brideName:be.bride_name||ne.brideName,weddingDate:be.wedding_date?typeof be.wedding_date=="string"?be.wedding_date.split("T")[0]:be.wedding_date:ne.weddingDate,weddingTime:Jo(be.wedding_time||ne.weddingTime,!1),weddingLocation:be.wedding_location||ne.weddingLocation,weddingType:be.wedding_type||ne.weddingType,religiousSymbol:be.religious_symbol||ne.religiousSymbol,bibleVerse:be.bible_verse||ne.bibleVerse,bibleVerseBook:be.bible_verse_book||ne.bibleVerseBook,invitationText:be.invitation_text||ne.invitationText,ceremonyAddress:be.ceremony_address||ne.ceremonyAddress,ceremonyReference:be.ceremony_reference||ne.ceremonyReference,ceremonyMapUrl:be.ceremony_map_url||ne.ceremonyMapUrl,receptionAddress:be.reception_address||ne.receptionAddress,receptionReference:be.reception_reference||ne.receptionReference,receptionMapUrl:be.reception_map_url||ne.receptionMapUrl,isReceptionSameAsCeremony:be.is_reception_same_as_ceremony??ne.isReceptionSameAsCeremony??!1,backgroundAudioUrl:We,heroBackgroundUrl:be.hero_background_url||ne.heroBackgroundUrl,heroBackgroundVideoUrl:nt,heroDisplayMode:be.hero_display_mode||ne.heroDisplayMode||"image",heroVideoAudioEnabled:be.hero_video_audio_enabled??ne.heroVideoAudioEnabled??!1,advancedAnimations:lt,mapCoordinates:be.map_coordinates||ne.mapCoordinates,churchName:be.church_name||ne.churchName,ceremonyLocationName:be.ceremony_location_name||ne.ceremonyLocationName,receptionLocationName:be.reception_location_name||ne.receptionLocationName};sessionStorage.setItem("clientAuth",JSON.stringify(Be)),window.dispatchEvent(new CustomEvent("clientAuthUpdated",{detail:{clientAuth:JSON.stringify(Be)}})),N(Be),U(Oe=>({...Oe,clientName:Be.clientName||Oe.clientName,groomName:Be.groomName||Oe.groomName,brideName:Be.brideName||Oe.brideName,weddingDate:Be.weddingDate?Be.weddingDate instanceof Date?Be.weddingDate.toISOString().split("T")[0]:typeof Be.weddingDate=="string"?Be.weddingDate.split("T")[0]:"":Oe.weddingDate,weddingTime:Be.weddingTime||Oe.weddingTime,weddingLocation:Be.weddingLocation||Oe.weddingLocation,weddingType:Be.weddingType||Oe.weddingType,religiousSymbol:Be.religiousSymbol||Oe.religiousSymbol,bibleVerse:Be.bibleVerse||Oe.bibleVerse,bibleVerseBook:Be.bibleVerseBook||Oe.bibleVerseBook,ceremonyAddress:Be.ceremonyAddress||Oe.ceremonyAddress,ceremonyReference:Be.ceremonyReference||Oe.ceremonyReference,ceremonyMapUrl:Be.ceremonyMapUrl||Oe.ceremonyMapUrl,receptionAddress:Be.receptionAddress||Oe.receptionAddress,receptionReference:Be.receptionReference||Oe.receptionReference,receptionMapUrl:Be.receptionMapUrl||Oe.receptionMapUrl,isReceptionSameAsCeremony:Be.isReceptionSameAsCeremony??Oe.isReceptionSameAsCeremony??!1,invitationText:Be.invitationText||Oe.invitationText,backgroundAudioUrl:Be.backgroundAudioUrl||Oe.backgroundAudioUrl,heroBackgroundUrl:Be.heroBackgroundUrl||Oe.heroBackgroundUrl,heroBackgroundVideoUrl:Be.heroBackgroundVideoUrl||Oe.heroBackgroundVideoUrl,heroDisplayMode:Be.heroDisplayMode||Oe.heroDisplayMode,heroVideoAudioEnabled:Be.heroVideoAudioEnabled||Oe.heroVideoAudioEnabled,advancedAnimations:Be.advancedAnimations||Oe.advancedAnimations,mapCoordinates:Be.mapCoordinates||Oe.mapCoordinates,churchName:Be.churchName||Oe.churchName,ceremonyLocationName:Be.ceremonyLocationName||Oe.ceremonyLocationName,receptionLocationName:Be.receptionLocationName||Oe.receptionLocationName,receptionTime:Be.receptionTime||Oe.receptionTime}))}catch(be){console.error(be)}})()},[c,ae]),T.useEffect(()=>{if(!c||!ae)return;(async()=>{const{data:je}=await oe.from("rsvps").select("*").eq("client_id",ae).order("created_at",{ascending:!1});je&&E(je);const{data:be}=await oe.from("messages").select("*").eq("client_id",ae).order("created_at",{ascending:!1});be&&C(be)})()},[c,ae]);const J=async ne=>{if(!ae)return[];let je=ne==="gallery"?"hero":ne==="audio"?"audio":"video";const{data:be}=await oe.storage.from(ne).list(`${ae}/${je}`,{limit:200,sortBy:{column:"created_at",order:"desc"}});return(be||[]).filter(Le=>!Le.name.startsWith(".")&&Le.id).map(Le=>({name:Le.name,path:`${ae}/${je}/${Le.name}`,created:Le.created_at||new Date().toISOString()}))};T.useEffect(()=>{if(!c||!ae)return;const ne=async()=>{const[be,ve,Le]=await Promise.all([J("gallery"),J("audio"),J("videos")]);K([{name:"Imagen por Defecto",path:"/boda.jpg",created:new Date().toISOString(),isSystem:!0},...be]),te([{name:"Msica por Defecto",path:"/audio.mp3",created:new Date().toISOString(),isSystem:!0},...ve]),me([{name:"Video por Defecto",path:"/hero.mp4",created:new Date().toISOString(),isSystem:!0},...Le])};ne();const je=setInterval(ne,1e4);return()=>clearInterval(je)},[c,ae]);const ie=async()=>{if(!d.trim()){g("Ingresa un token");return}const ne=await Lh(d.trim());if(!ne){g("Token invlido o expirado");return}if(!await mh(d.trim())){g("Error al autenticar en Supabase.");return}localStorage.setItem("clientAuth",JSON.stringify(ne)),window.dispatchEvent(new CustomEvent("clientAuthUpdated",{detail:{clientAuth:JSON.stringify(ne)}})),N(ne),u(!0)},ye=async()=>{if(j){Q("saving");try{const ne=j.planType||"basic";let je=null;if(["premium","deluxe"].includes(ne)&&Z.backgroundAudioUrl){const nt=Z.backgroundAudioUrl.trim();nt&&nt.includes("supabase.co")&&(je=nt)}let be=null;if(ne==="deluxe"&&Z.heroBackgroundVideoUrl){const nt=Z.heroBackgroundVideoUrl.trim();nt&&nt.includes("supabase.co")&&(be=nt)}const ve=ne==="deluxe"?Z.advancedAnimations:{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1},{error:Le}=await oe.from("clients").update({client_name:Z.clientName,wedding_date:Z.weddingDate||null,groom_name:Z.groomName||null,bride_name:Z.brideName||null,wedding_time:Z.weddingTime||null,wedding_location:Z.weddingLocation||null,wedding_type:Z.weddingType||null,religious_symbol:Z.religiousSymbol||null,bible_verse:Z.bibleVerse||null,bible_verse_book:Z.bibleVerseBook||null,ceremony_address:Z.ceremonyAddress||null,ceremony_reference:Z.ceremonyReference||null,ceremony_map_url:Z.ceremonyMapUrl||null,reception_address:Z.receptionAddress||null,reception_reference:Z.receptionReference||null,reception_map_url:Z.receptionMapUrl||null,reception_time:Z.receptionTime||null,is_reception_same_as_ceremony:Z.isReceptionSameAsCeremony,invitation_text:Z.invitationText||null,background_audio_url:je,hero_background_url:Z.heroBackgroundUrl&&Z.heroBackgroundUrl.includes("supabase.co")?Z.heroBackgroundUrl:null,hero_background_video_url:be,hero_display_mode:Z.heroDisplayMode||"image",hero_video_audio_enabled:Z.heroVideoAudioEnabled,church_name:Z.churchName||null,ceremony_location_name:Z.ceremonyLocationName||null,reception_location_name:Z.receptionLocationName||null,advanced_animations:ve}).eq("id",ae);if(Le)throw Le;const We={...j,...Z,backgroundAudioUrl:je||void 0,heroBackgroundUrl:Z.heroBackgroundUrl?.includes("supabase.co")?Z.heroBackgroundUrl:void 0,heroBackgroundVideoUrl:be||void 0,advancedAnimations:ve,weddingDate:Z.weddingDate?new Date(Z.weddingDate):j.weddingDate};sessionStorage.setItem("clientAuth",JSON.stringify(We)),window.dispatchEvent(new CustomEvent("clientAuthUpdated",{detail:{clientAuth:JSON.stringify(We)}})),N(We),Q("success"),setTimeout(()=>Q("idle"),2e3)}catch(ne){console.error(ne),Q("error"),setTimeout(()=>Q("idle"),2500)}}},Ce=async(ne,je)=>{if(!ae)return null;try{const ve=`${ae}/${ne==="gallery"?"hero":ne==="audio"?"audio":"video"}/${je.name}`,Le=new Blob([je],{type:je.type}),{error:We}=await oe.storage.from(ne).upload(ve,Le,{upsert:!0,contentType:je.type});if(We)throw We;const[nt,lt,Be]=await Promise.all([J("gallery"),J("audio"),J("videos")]);K([{name:"Imagen por Defecto",path:"/boda.jpg",created:new Date().toISOString(),isSystem:!0},...nt]),te([{name:"Msica por Defecto",path:"/audio.mp3",created:new Date().toISOString(),isSystem:!0},...lt]),me([{name:"Video por Defecto",path:"/hero.mp4",created:new Date().toISOString(),isSystem:!0},...Be]);const{data:Oe}=oe.storage.from(ne).getPublicUrl(ve);return Oe.publicUrl}catch{return a("error","Error al subir archivo"),null}},Re=async(ne,je)=>{if(!ae)return!1;const ve=`${ae}/${ne==="gallery"?"hero":ne==="audio"?"audio":"video"}/${je}`;try{const{error:Le}=await oe.storage.from(ne).remove([ve]);if(Le)throw Le;const[We,nt,lt]=await Promise.all([J("gallery"),J("audio"),J("videos")]);return K([{name:"Imagen por Defecto",path:"/boda.jpg",created:new Date().toISOString(),isSystem:!0},...We]),te([{name:"Msica por Defecto",path:"/audio.mp3",created:new Date().toISOString(),isSystem:!0},...nt]),me([{name:"Video por Defecto",path:"/hero.mp4",created:new Date().toISOString(),isSystem:!0},...lt]),ne==="gallery"&&Z.heroBackgroundUrl?.includes(je)?U(Be=>({...Be,heroBackgroundUrl:""})):ne==="videos"&&Z.heroBackgroundVideoUrl?.includes(je)?U(Be=>({...Be,heroBackgroundVideoUrl:""})):ne==="audio"&&Z.backgroundAudioUrl?.includes(je)&&U(Be=>({...Be,backgroundAudioUrl:""})),!0}catch{return a("error","Error al eliminar archivo"),!1}},Se=(ne,je)=>{const{data:be}=oe.storage.from(ne).getPublicUrl(je);return be?.publicUrl||""},Je=ne=>{if(_.length===0)return;let je=[..._];ne===!0?je=_.filter(Oe=>Oe.is_attending!==!1):ne===!1?je=_.filter(Oe=>Oe.is_attending===!1):je.sort((Oe,kt)=>{const Mr=Oe.is_attending!==!1?1:0;return(kt.is_attending!==!1?1:0)-Mr});const be=["Nombre Principal","Email","Celular","Acompaantes","Asiste","Nombres Reportados","Fecha"],ve=je.map(Oe=>[Oe.name,Oe.email,Oe.phone||"",Oe.is_attending!==!1&&Number(Oe.guests)||0,Oe.is_attending!==!1?"SI":"NO",Oe.is_attending!==!1?Oe.attending_names||"":Oe.not_attending_names||"",Oe.created_at?new Date(Oe.created_at).toLocaleDateString():""]),Le="\uFEFF"+[be.join(","),...ve.map(Oe=>Oe.map(kt=>`"${String(kt).replace(/"/g,'""')}"`).join(","))].join(`
`),We=new Blob([Le],{type:"text/csv;charset=utf-8"}),nt=URL.createObjectURL(We),lt=document.createElement("a");lt.href=nt;let Be="lista_rsvps.csv";ne===!0&&(Be="asistentes.csv"),ne===!1&&(Be="no_asistentes.csv"),lt.setAttribute("download",Be),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)},ht=()=>{if(A.length===0)return;const ne=["Nombre","Mensaje","Fecha"],je=A.map(nt=>[nt.name,nt.message,nt.created_at?new Date(nt.created_at).toLocaleDateString():""]),be="\uFEFF"+[ne.join(","),...je.map(nt=>nt.map(lt=>`"${String(lt).replace(/"/g,'""')}"`).join(","))].join(`
`),ve=new Blob([be],{type:"text/csv;charset=utf-8"}),Le=URL.createObjectURL(ve),We=document.createElement("a");We.href=Le,We.setAttribute("download","mensajes_invitados.csv"),document.body.appendChild(We),We.click(),document.body.removeChild(We)};return c?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50",children:[i.jsx(mN,{clientName:j?.clientName||"Cliente",planType:j?.planType||"basic",mobileMenuOpen:v,setMobileMenuOpen:b,logout:()=>{sessionStorage.removeItem("clientAuth"),u(!1)},onUpgradeClick:()=>window.open("https://wa.me/51958315579?text=Deseo%20mejorar%20mi%20plan","_blank")}),i.jsxs("div",{className:"w-full px-4 sm:px-6 py-6 sm:py-8",children:[i.jsx(bN,{subdomain:j?.subdomain}),i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap gap-2 mb-6 sm:mb-8 overflow-x-auto pb-2 sm:pb-0",children:[{id:"content",label:" Contenido"},{id:"rsvps",label:" RSVPs"},{id:"messages",label:" Mensajes"},{id:"media",label:" Media"}].map(ne=>i.jsx("button",{onClick:()=>w(ne.id),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold transition-all ${x===ne.id?"bg-gradient-to-r from-rose-500 to-amber-500 text-white shadow-lg":"bg-white/80 text-neutral-700"}`,children:ne.label},ne.id))}),i.jsx(xN,{totalRsvps:_.length,totalGuests:ce,totalNotAttending:we,totalMessages:A.length,client:j}),i.jsxs(Ot,{mode:"wait",children:[x==="content"&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(_N,{editForm:Z,setEditForm:U,saveStatus:re,onSave:ye,client:j,imageFiles:H,audioFiles:R,videoFiles:ge,onUpload:Ce,onDelete:Re,getPublicUrl:Se,clientId:ae||"",onUpgradeClick:()=>window.open("https://wa.me/51958315579?text=Deseo%20mejorar%20mi%20plan","_blank")})},"content"),x==="rsvps"&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(NN,{rsvps:_,totalGuests:ce,totalNotAttending:we,onDownloadCSV:Je,client:j})},"rsvps"),x==="messages"&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(SN,{messages:A,onDownloadCSV:ht})},"messages"),x==="media"&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(EN,{imageFiles:H,videoFiles:ge,onDelete:Re,onUpload:Ce,getPublicUrl:Se,clientId:ae||"",client:j,cinemaVideoAudioEnabled:Z.heroVideoAudioEnabled,onToggleAudio:ne=>U({...Z,heroVideoAudioEnabled:ne}),onUpgradeClick:()=>window.open("https://wa.me/51958315579?text=Deseo%20mejorar%20mi%20plan","_blank")})},"media")]})]})]}),i.jsx(Yb,{toasts:r,onClose:n}),l]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50 grid place-items-center px-6 py-12",children:i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/60",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-rose-500 to-amber-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4 shadow-lg",children:""}),i.jsx("h1",{className:"text-3xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent mb-3",children:"Panel de Administracin"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("input",{type:"text",placeholder:"Pega tu token aqu...",className:"w-full px-4 py-4 rounded-2xl border-2 border-white/60 bg-white/80",value:d,onChange:ne=>f(ne.target.value)}),p&&i.jsx("div",{className:"text-rose-500 text-sm text-center",children:p}),i.jsx("button",{onClick:ie,className:"w-full bg-gradient-to-r from-rose-500 to-amber-500 text-white font-semibold px-6 py-4 rounded-2xl shadow-lg",children:"Ingresar"})]})]})})})}function AN(){const{success:r,error:a,info:n,warning:l}=Uh();return{showAlert:T.useCallback((u,d="info")=>{switch(d){case"success":r(u);break;case"error":a(u);break;case"warning":l(u);break;case"info":default:n(u);break}},[r,a,n,l]),success:r,error:a,info:n,warning:l}}function kN({selectedPlan:r}){const{showAlert:a}=AN(),[n,l]=T.useState({name:"",email:"",phone:"",weddingDate:"",message:"",plan:r||""}),[c,u]=T.useState(!1),[d,f]=T.useState(!1),p=x=>{l({...n,[x.target.name]:x.target.value})},g=async x=>{x.preventDefault(),u(!0);try{const w={type:"contact",client_name:n.name,email:n.email,subject:n.plan?`Inters en Plan ${n.plan.toUpperCase()}`:"Consulta de Contacto",message:`Telfono: ${n.phone||"N/A"}
Fecha Boda: ${n.weddingDate||"N/A"}

Mensaje:
${n.message}`,requested_plan:n.plan||null,status:"new",created_at:new Date().toISOString()},{error:v}=await oe.from("admin_messages").insert([w]);f(!0),l({name:"",email:"",phone:"",weddingDate:"",message:"",plan:""}),setTimeout(()=>{f(!1)},5e3)}catch{a("Hubo un error al enviar tu mensaje. Por favor, intenta nuevamente o contctanos directamente.","error")}finally{u(!1)}};return i.jsxs("div",{className:"relative",children:[i.jsx(Ot,{children:d&&i.jsx(L.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"absolute -top-24 left-0 right-0 bg-gradient-to-r from-rose-400 to-amber-500 text-white p-6 rounded-2xl shadow-xl backdrop-blur-sm border border-white/30 mb-6",children:i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"font-medium",children:"Gracias! Te contactaremos pronto."})]})})}),i.jsxs(L.form,{onSubmit:g,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 dark:border-slate-700/50",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Nombre completo *"}),i.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:p,required:!0,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 placeholder-neutral-400 dark:placeholder-slate-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",placeholder:"Tu nombre"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Email *"}),i.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,required:!0,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 placeholder-neutral-400 dark:placeholder-slate-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",placeholder:"tu@email.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Telfono / WhatsApp"}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:p,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 placeholder-neutral-400 dark:placeholder-slate-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",placeholder:"+58 412 123 4567"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"weddingDate",className:"block text-sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Fecha de la boda (aproximada)"}),i.jsx("input",{type:"date",id:"weddingDate",name:"weddingDate",value:n.weddingDate,onChange:p,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"plan",className:"block text-sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Plan de inters"}),i.jsxs("select",{id:"plan",name:"plan",value:n.plan,onChange:p,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",children:[i.jsx("option",{value:"",children:"Selecciona un plan (opcional)"}),Object.entries(Is.PLANS).map(([x,w])=>i.jsxs("option",{value:x,children:[w.name," - $",w.price," (",w.duration," das)"]},x))]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"message",className:"block text sm font-medium text-neutral-700 dark:text-slate-200 mb-2",children:"Mensaje o consulta"}),i.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:p,rows:5,className:"w-full rounded-2xl border border-white/50 dark:border-slate-700 bg-white dark:bg-slate-800 px-5 py-4 text-neutral-700 dark:text-slate-200 placeholder-neutral-400 dark:placeholder-slate-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300 resize-none",placeholder:"Cuntanos sobre tu boda, preguntas que tengas, o cualquier informacin adicional..."})]})]}),i.jsx(L.button,{type:"submit",disabled:c,whileHover:{scale:c?1:1.02},whileTap:{scale:c?1:.98},className:"w-full bg-gradient-to-r from-rose-400 to-amber-500 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:c?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(Gn,{size:"sm"}),i.jsx("span",{children:"Enviando..."})]}):"Enviar Solicitud de Contacto"})]})]})}const CN="+51960696131",RN="Hola! Me interesa contratar un sitio web para mi boda. Podrian brindarme mas informacion sobre los planes disponibles?",ON=({index:r,mobile:a=!1})=>{const n=Math.random()<.3,c=(n?Math.random()*8+6:Math.random()*5+3)*(a?.6:1),u=Math.random()*100,d=Math.random()*100,f=Math.random()*6+(n?8:5),p=Math.random()*-8,g=Math.random()*50+(n?30:20),x=n?1:Math.random()*.4+.6;return i.jsx(L.div,{className:"absolute pointer-events-none",style:{width:c+"px",height:c+"px",borderRadius:"50%",backgroundColor:`rgba(255, 255, 255, ${x})`,boxShadow:n?"0 0 20px 3px rgba(255, 255, 255, 0.9), 0 0 8px rgba(255, 215, 0, 0.6)":"0 0 15px rgba(255, 255, 255, 0.8), 0 0 5px rgba(255, 215, 0, 0.4)",left:`${u}%`,top:`${d}%`,filter:`blur(${n?.2:.5}px)`,zIndex:1},animate:{y:[`${d}%`,`${d+150}%`],x:[0,g,-g,0],scale:n?[1,1.3,1]:[1,1.2,1]},transition:{y:{duration:f,repeat:1/0,ease:"linear",delay:p},x:{duration:f*1.8,repeat:1/0,ease:"easeInOut",delay:p},scale:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:p}}})},DN=({index:r,mobile:a=!1})=>{const n=Math.random()<.25,c=(n?Math.random()*7+5:Math.random()*4+2)*(a?.7:1),u=Math.random()*100,d=Math.random()*100,f=Math.random()*8+(n?12:8),p=Math.random()*-12,g=Math.random()*60+(n?40:25),x=n?.9:Math.random()*.3+.5;return i.jsx(L.div,{className:"absolute pointer-events-none",style:{width:c+"px",height:c+"px",borderRadius:"50%",backgroundColor:`rgba(255, 255, 255, ${x})`,boxShadow:n?"0 0 25px 4px rgba(255, 255, 255, 0.95), 0 0 12px rgba(255, 255, 255, 0.7)":"0 0 18px 2px rgba(255, 255, 255, 0.85), 0 0 6px rgba(255, 255, 255, 0.5)",left:`${u}%`,top:`${d}%`,filter:`blur(${n?.1:.3}px)`,zIndex:0},animate:{y:[`${d}%`,`${d+200}%`],x:[0,g,-g,0],scale:n?[1,1.4,1]:[1,1.15,1],rotate:[0,180,360]},transition:{y:{duration:f,repeat:1/0,ease:"linear",delay:p},x:{duration:f*2,repeat:1/0,ease:"easeInOut",delay:p},scale:{duration:3,repeat:1/0,ease:"easeInOut",delay:p},rotate:{duration:f*3,repeat:1/0,ease:"linear",delay:p}}})},MN=({mobile:r=!1})=>i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:r?8:20}).map((a,n)=>{const l=r?Math.random()*2+1:Math.random()*3+2;return i.jsx(L.div,{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],rotate:[0,180,360],scale:[0,1,0]},transition:{duration:20+Math.random()*20,repeat:1/0,delay:Math.random()*10,ease:"easeInOut"},children:i.jsx("div",{className:`${n%4===0?"bg-gradient-to-r from-rose-400/40 to-pink-400/40":n%4===1?"bg-gradient-to-r from-amber-400/30 to-yellow-400/30":n%4===2?"bg-gradient-to-r from-emerald-400/20 to-teal-400/20":"bg-gradient-to-r from-violet-400/20 to-purple-400/20"} rounded-full blur-[1px]`,style:{width:`${l}px`,height:`${l}px`}})},n)})}),LN=({index:r})=>{const n=["circle","square","triangle"][r%3],l=Math.random()*8+4,c=Math.random()*100,u=Math.random()*100,d=Math.random()*8+12,f=Math.random()*-15,p=Math.random()*.3+.1,g=()=>{switch(n){case"square":return"rounded-lg";case"triangle":return"w-0 h-0 border-l-transparent border-r-transparent border-b-white";default:return"rounded-full"}};return i.jsx(L.div,{className:`absolute pointer-events-none ${g()} ${n!=="triangle"?"bg-white/10 backdrop-blur-sm":"border-l-[6px] border-r-[6px] border-b-[10px] border-b-white/10"}`,style:{width:n!=="triangle"?`${l}px`:"0",height:n!=="triangle"?`${l}px`:"0",left:`${c}%`,top:`${u}%`,opacity:p,filter:"blur(0.5px)"},animate:{y:[`${u}%`,`${u+150}%`],x:[0,Math.random()*30-15,0],rotate:[0,180,360]},transition:{y:{duration:d,repeat:1/0,ease:"linear",delay:f},x:{duration:d*1.5,repeat:1/0,ease:"easeInOut",delay:f},rotate:{duration:d*2,repeat:1/0,ease:"linear",delay:f}}})};function UN(){const[r]=T.useState(null),[a,n]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,p]=T.useState(!1),[g,x]=T.useState(null);T.useEffect(()=>{c(!1),localStorage.setItem("site-dark","0"),document.documentElement.classList.remove("dark")},[]),T.useEffect(()=>{$b().then(x).catch(console.error)},[]);const w=()=>{c(b=>{const j=!b;return localStorage.setItem("site-dark",j?"1":"0"),document.documentElement.classList.toggle("dark",j),j})},v=(b,j)=>{b.preventDefault();let N=CN.replace(/[\s\-()+]/g,"");if(N=N.replace(/\D/g,""),N.length<10)return;let _=RN;j&&(_=`Hola! Me interesa el plan *${j}* para crear mi sitio web de boda. Podran brindarme ms informacin al respecto?`);const E=encodeURIComponent(_);if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))if(/Android/i.test(navigator.userAgent))try{window.location.href=`intent://send?phone=${N}&text=${E}#Intent;scheme=whatsapp;package=com.whatsapp;end`}catch{window.location.href=`whatsapp://send?phone=${N}&text=${E}`}else window.location.href=`whatsapp://send?phone=${N}&text=${E}`;else window.open(`https://web.whatsapp.com/send?phone=${N}&text=${E}`,"_blank","noopener,noreferrer")};return T.useEffect(()=>{const b=()=>p(window.innerWidth<640);return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-rose-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden transition-colors duration-500",children:[i.jsx(MN,{mobile:f}),Array.from({length:f?8:15}).map((b,j)=>i.jsx(LN,{index:j},j)),l&&i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:f?15:35}).map((b,j)=>i.jsx(DN,{index:j,mobile:f},j))}),i.jsxs(L.nav,{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 bg-slate-900/95 backdrop-blur-xl shadow-2xl border-b border-slate-700/50",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:f?12:25}).map((b,j)=>i.jsx(ON,{index:j,mobile:f},j))}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:i.jsxs("div",{className:"flex items-center justify-between h-20",children:[i.jsxs(L.div,{className:"flex items-center space-x-3",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:i.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"9",cy:"12",r:"3.5",fill:"none",stroke:"white"}),i.jsx("circle",{cx:"15",cy:"12",r:"3.5",fill:"none",stroke:"white"}),i.jsx("path",{d:"M9 12 L15 12",stroke:"white",strokeWidth:"1.5",opacity:"0.6"})]})}),i.jsxs(Ps,{to:"/",className:"text-2xl font-bold tracking-tight text-white",children:["Suspiro",i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:"Nupcial"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[["Servicios","Planes","Contacto"].map((b,j)=>i.jsxs(L.a,{href:`#${b.toLowerCase()}`,className:"relative text-white/90 hover:text-white text-sm font-medium transition-all duration-300",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:j*.1},whileHover:{y:-2},children:[b,i.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-rose-400 to-amber-500 transition-all duration-300 group-hover:w-full"})]},b)),i.jsx(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(Ps,{to:"/login",className:"bg-gradient-to-r from-rose-400 to-amber-500 text-white px-6 py-2.5 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:shadow-rose-400/25 inline-flex items-center space-x-2",children:[i.jsx("span",{children:"Acceder"}),i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),i.jsx(L.button,{onClick:w,className:"p-2.5 rounded-xl bg-white/10 border border-white/20 text-white hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05,rotate:15},whileTap:{scale:.95},children:l?i.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}):i.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})})})]}),i.jsxs("div",{className:"flex items-center space-x-3 md:hidden",children:[i.jsx(L.button,{onClick:w,className:"p-2.5 rounded-xl bg-white/10 border border-white/20 text-white hover:bg-white/20",whileTap:{scale:.95},children:l?i.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}):i.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})})}),i.jsx(L.button,{onClick:()=>d(!u),className:"p-2.5 rounded-xl bg-white/10 border border-white/20 text-white hover:bg-white/20",whileTap:{scale:.95},children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:u?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]})}),i.jsx(Ot,{children:u&&i.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-slate-800/95 backdrop-blur-xl border-t border-slate-700/50",children:i.jsxs("div",{className:"px-4 py-4 space-y-3",children:[["Servicios","Planes","Contacto"].map(b=>i.jsx(L.a,{href:`#${b.toLowerCase()}`,className:"block text-white/90 hover:text-white py-3 px-4 rounded-xl hover:bg-white/10 transition-all duration-300 font-medium",onClick:()=>d(!1),whileHover:{x:5},children:b},b)),i.jsx(L.div,{onClick:()=>d(!1),whileTap:{scale:.98},children:i.jsx(Ps,{to:"/login",className:"block bg-gradient-to-r from-rose-400 to-amber-500 text-white py-3 px-4 rounded-xl text-center font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300",children:"Acceder"})})]})})})]}),i.jsxs("header",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50/40 via-white to-amber-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-rose-950/20"}),i.jsx(L.div,{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-rose-200/30 to-pink-200/20 rounded-full blur-3xl opacity-60",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3],x:[0,50,0]},transition:{duration:8,repeat:1/0}}),i.jsx(L.div,{className:"absolute bottom-20 right-10 w-80 h-80 bg-gradient-to-r from-amber-200/20 to-yellow-200/10 rounded-full blur-3xl opacity-60",animate:{scale:[1.2,1,1.2],opacity:[.4,.2,.4],y:[0,-30,0]},transition:{duration:10,repeat:1/0}}),i.jsx("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:i.jsxs(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[i.jsxs(L.div,{className:"inline-flex items-center gap-3 bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-2xl px-6 py-3 border border-slate-200/50 dark:border-slate-700/50 shadow-lg",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:[i.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-rose-400 to-amber-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:g?.heroBadgeText||"Tu historia de amor, compartida elegantemente"})]}),i.jsxs(L.h1,{className:"text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold text-slate-900 dark:text-white leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx("span",{className:"block",children:g?.heroTitleLine1||"Donde cada"}),i.jsx(L.span,{className:"bg-gradient-to-r from-rose-400 via-rose-500 to-amber-500 bg-clip-text text-transparent",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:g?.heroTitleHighlight||"suspiro"}),i.jsx("span",{className:"block",children:g?.heroTitleLine2||"se convierte"}),i.jsx("span",{className:"block",children:g?.heroTitleLine3||"en eternidad"})]}),i.jsx(L.p,{className:"text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:g?.heroDescription||"Crea un sitio web excepcional para tu boda. Comparte tu amor con elegancia y haz que cada momento sea memorable para tus invitados con nuestra plataforma de ltima generacin."}),i.jsxs(L.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[i.jsxs(L.a,{href:"#planes",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},className:"group bg-gradient-to-r from-rose-400 to-amber-500 text-white font-semibold px-8 py-4 rounded-2xl shadow-xl shadow-rose-500/20 hover:shadow-2xl hover:shadow-rose-500/30 transition-all duration-500 relative overflow-hidden",children:[i.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[i.jsx("span",{children:g?.heroButton1Text||"Descubrir Planes"}),i.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 to-rose-400 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),i.jsxs(L.button,{onClick:v,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},className:"group bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm text-slate-700 dark:text-slate-300 font-semibold px-8 py-4 rounded-2xl border border-slate-200/50 dark:border-slate-700/50 hover:border-green-400/50 transition-all duration-500 flex items-center space-x-3 shadow-lg hover:shadow-xl w-full sm:w-auto",children:[i.jsx(L.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),i.jsx("span",{children:g?.heroButton2Text||"Consultar Disponibilidad"})]})]})]})})]}),i.jsx("section",{id:"servicios",className:"py-32 relative",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,margin:"-100px"},className:"text-center mb-20",children:[i.jsxs(L.div,{className:"inline-flex items-center gap-2 text-rose-500 dark:text-rose-400 mb-4",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full"}),i.jsx("span",{className:"text-sm font-semibold tracking-wider",children:g?.featuresBadge||"CARACTERSTICAS EXCLUSIVAS"})]}),i.jsxs("h2",{className:"text-5xl font-bold text-slate-900 dark:text-white mb-6",children:[g?.featuresTitleLine1||"Diseado para el"," ",i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:g?.featuresTitleHighlight||"amor eterno"})]}),i.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto leading-relaxed",children:g?.featuresDescription||"Cada detalle cuidadosamente creado para hacer de tu sitio web el reflejo perfecto de tu historia de amor"})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:(g?.featuresList||[{icon:"",title:"Diseo Exclusivo",description:"Plantillas nicas adaptadas a tu estilo y personalidad con tecnologa de vanguardia"},{icon:"",title:"Galera Elegante",description:"Muestra tus mejores momentos con una galera sofisticada y de alta resolucin"},{icon:"",title:"RSVP Inteligente",description:"Gestin automtica de confirmaciones con recordatorios inteligentes"},{icon:"",title:"Mensajes Especiales",description:"Libro de visitas digital para recuerdos eternos de tus seres queridos"},{icon:"",title:"Cuenta Regresiva",description:"Mantn la emocin con un contador elegante y personalizable"},{icon:"",title:"Ambiente Musical",description:"Tu cancin especial ambientando cada visita al sitio"}]).map((b,j)=>i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:j*.1,duration:.6},viewport:{once:!0},whileHover:{scale:1.02,y:-5,transition:{type:"spring",stiffness:300}},onHoverStart:()=>n(j),onHoverEnd:()=>n(null),className:"group relative bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-3xl p-8 shadow-2xl hover:shadow-3xl border border-white/50 dark:border-slate-700/50 transition-all duration-500 cursor-pointer overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50/50 to-amber-50/50 dark:from-rose-900/10 dark:to-amber-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx(L.div,{className:"relative z-10 text-5xl mb-6",animate:{scale:a===j?1.1:1,rotate:a===j?5:0},transition:{type:"spring",stiffness:300},children:b.icon}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:b.title}),i.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:b.description})]}),i.jsx(L.div,{className:"absolute bottom-0 left-0 w-0 h-1 bg-gradient-to-r from-rose-400 to-amber-500 group-hover:w-full transition-all duration-700",initial:!1,animate:{width:a===j?"100%":"0%"}})]},j))})]})}),i.jsx("section",{id:"planes",className:"py-32 relative bg-slate-50/50 dark:bg-slate-900/50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-20",children:[i.jsxs(L.div,{className:"inline-flex items-center gap-2 text-rose-500 dark:text-rose-400 mb-4",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full"}),i.jsx("span",{className:"text-sm font-semibold tracking-wider",children:g?.plansBadge||"PLANES Y PRECIOS"})]}),i.jsxs("h2",{className:"text-5xl font-bold text-slate-900 dark:text-white mb-6",children:[g?.plansTitleLine1||"El plan perfecto para"," ",i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:g?.plansTitleHighlight||"tu da especial"})]}),i.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:g?.plansDescription||"Desde lo esencial hasta una experiencia completa y personalizada para hacer tu boda inolvidable"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:["basic","premium","deluxe"].map((b,j)=>{const _=(g?.plansData||Is.PLANS)[b];return _?i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:j*.2,duration:.6},viewport:{once:!0},whileHover:{scale:1.02,y:-5},className:`relative group ${b==="premium"?"md:-translate-y-4":""}`,children:[b==="premium"&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-rose-400 to-amber-500 text-white text-sm font-bold px-6 py-2 rounded-full shadow-lg z-30",children:g?.plansPopularBadge||"Ms Popular"}),i.jsxs("div",{className:`relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl hover:shadow-3xl border-2 transition-all duration-500 overflow-hidden ${r===b?"border-rose-400 shadow-3xl scale-105":"border-white/50 dark:border-slate-700/50 group-hover:border-rose-300/50"} ${b==="premium"?"ring-2 ring-rose-400/20":""}`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-400/5 to-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:_.name}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("span",{className:"text-5xl font-bold bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:["S/ ",_.price]}),i.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-lg ml-2",children:"/una vez"})]}),i.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 space-y-1",children:[i.jsxs("p",{children:["Duracin: ",_.duration," das"]}),i.jsx("p",{children:_.maxGuests>=999999?"Invitados ILIMITADOS":`Hasta ${_.maxGuests} invitados`})]})]}),i.jsx("ul",{className:"space-y-4 mb-8",children:_.features.map((E,A)=>i.jsxs(L.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:A*.1},viewport:{once:!0},className:"flex items-start gap-3 text-slate-600 dark:text-slate-300",children:[i.jsx(L.svg,{className:"w-5 h-5 text-rose-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",whileHover:{scale:1.2,rotate:5},children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"leading-relaxed",children:E})]},A))}),i.jsx(L.button,{onClick:E=>v(E,_.name),whileHover:{scale:1.05},whileTap:{scale:.95},className:"group w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 relative overflow-hidden bg-gradient-to-r from-rose-400 to-amber-500 text-white shadow-lg hover:shadow-xl",children:i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),i.jsx("span",{children:"Elegir Plan"})]})})]})]})]},b):null})})]})}),i.jsx("section",{id:"contacto",className:"py-32 relative",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[i.jsxs(L.div,{className:"inline-flex items-center gap-2 text-rose-400 mb-4",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full"}),i.jsx("span",{className:"text-sm font-semibold tracking-wider",children:g?.contactBadge||"CONTACTO"})]}),i.jsxs("h2",{className:"text-5xl font-bold text-slate-900 dark:text-white mb-6",children:[g?.contactTitleLine1||"Comienza tu"," ",i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:g?.contactTitleHighlight||"historia de amor"})]}),i.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:g?.contactDescription||"Estamos aqu para hacer realidad el sitio web perfecto para tu boda. Cuntanos sobre tu proyecto y creemos magia juntos."})]}),i.jsx(L.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 dark:border-slate-700/50",children:i.jsx(kN,{selectedPlan:r})})]})}),i.jsxs("footer",{className:"bg-slate-900 text-white py-20 relative overflow-hidden",children:[Array.from({length:8}).map((b,j)=>i.jsx(L.div,{className:"absolute bottom-0 w-1 h-1 bg-rose-400/20 rounded-full",style:{left:`${20+j*10}%`},animate:{y:[0,-120,0],opacity:[0,1,0]},transition:{duration:8+j*2,repeat:1/0,delay:j*1.2}},j)),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs(L.div,{className:"flex items-center space-x-3 mb-6",whileHover:{scale:1.02},children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:i.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"9",cy:"12",r:"3.5",fill:"none",stroke:"white"}),i.jsx("circle",{cx:"15",cy:"12",r:"3.5",fill:"none",stroke:"white"}),i.jsx("path",{d:"M9 12 L15 12",stroke:"white",strokeWidth:"1.5",opacity:"0.6"})]})}),i.jsx("div",{className:"text-2xl font-bold text-white",children:(()=>{const b=g?.footerBrandName||"SuspiroNupcial";if(b.includes("Nupcial")){const j=b.split("Nupcial");return i.jsxs(i.Fragment,{children:[j[0],i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:"Nupcial"})]})}return i.jsxs(i.Fragment,{children:[b,i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent",children:"Nupcial"})]})})()})]}),i.jsx("p",{className:"text-slate-400 mb-6 max-w-md text-lg leading-relaxed",children:g?.footerDescription||"Creamos sitios web excepcionales para bodas, donde cada detalle cuenta la historia nica de tu amor. Elegante, moderno y memorable."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white mb-6 text-lg",children:"Enlaces Rpidos"}),i.jsx("div",{className:"space-y-4",children:(g?.footerLinks||["Servicios","Planes","Contacto","Login"]).map((b,j)=>b==="Login"?i.jsx(L.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:j*.1},viewport:{once:!0},children:i.jsx(Ps,{to:"/login",className:"block text-slate-400 hover:text-rose-400 transition-colors duration-300 text-lg py-2",children:b})},b):i.jsx(L.a,{href:`#${b.toLowerCase()}`,className:"block text-slate-400 hover:text-rose-400 transition-colors duration-300 text-lg py-2",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:j*.1},viewport:{once:!0},whileHover:{x:5},children:b},b))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white mb-6 text-lg",children:"Contacto"}),i.jsxs("div",{className:"space-y-4 text-lg text-slate-400",children:[i.jsxs(L.a,{href:`mailto:${g?.footerEmail||"hola@suspironupcial.com"}`,initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:.1},viewport:{once:!0},className:"flex items-center space-x-3 hover:text-rose-400 transition-colors duration-300 cursor-pointer",whileHover:{x:5},children:[i.jsx("span",{children:""}),i.jsx("span",{children:g?.footerEmail||"hola@suspironupcial.com"})]}),i.jsxs(L.a,{href:`https://wa.me/${(g?.footerPhone||"+58 412 123 4567").replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:.2},viewport:{once:!0},className:"flex items-center space-x-3 hover:text-rose-400 transition-colors duration-300 cursor-pointer",whileHover:{x:5},children:[i.jsx("span",{children:""}),i.jsx("span",{children:g?.footerPhone||"+58 412 123 4567"})]}),i.jsxs(L.p,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:.3},viewport:{once:!0},className:"flex items-center space-x-3",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"WhatsApp disponible"})]})]})]})]}),i.jsx(L.div,{className:"border-t border-slate-800 mt-12 pt-8 text-center text-slate-400 text-lg",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},viewport:{once:!0},children:i.jsxs("p",{children:[g?.footerCopyright||` ${new Date().getFullYear()} Suspiro Nupcial. Todos los derechos reservados.`,i.jsx("span",{className:"bg-gradient-to-r from-rose-400 to-amber-500 bg-clip-text text-transparent font-semibold ml-2",children:g?.footerCopyrightText||"Hecho con  para tu da especial"})]})})]})]})]})}function BN({onLogin:r}){const[a,n]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,p]=T.useState(""),[g,x]=T.useState(!1),[w,v]=T.useState(!1),[b,j]=T.useState("token");T.useEffect(()=>{const A=window.location.hostname.split(".");if(A.length>2){const C=A[0].replace("-invitacion","");n(C),d(`client-${C}@invitacionbodas.com`)}},[]);const N=async E=>{E.preventDefault(),p(""),x(!0);try{const{data:A,error:C}=await oe.from("clients").select("*").eq("subdomain",a.toLowerCase()).eq("token",l).eq("is_active",!0).maybeSingle();if(C){console.error("[ClientLogin] Error fetching client:",C),p("Error al verificar credenciales. Intenta nuevamente."),x(!1);return}if(!A){console.warn("[ClientLogin] Cliente no encontrado con esas credenciales"),p("Credenciales incorrectas. Verifica tu usuario y token."),x(!1);return}console.log("[ClientLogin] Cliente encontrado en Supabase:",A.subdomain);const H=new Date,K=new Date(A.access_until);if(H>K){console.warn("[ClientLogin] Acceso expirado"),p("Tu acceso ha expirado. Contacta al administrador."),x(!1);return}const R=A.email||`client-${A.subdomain}@invitacionbodas.com`;console.log("[ClientLogin] Intentando Auth con:",R);const{error:te}=await oe.auth.signInWithPassword({email:R,password:l});if(te){console.error("[ClientLogin] Auth error:",te.message),p("Error de autenticacin: "+te.message),x(!1);return}console.log("[ClientLogin] Auth exitoso");const ge={id:A.id,clientName:A.client_name,subdomain:A.subdomain,token:A.token,isActive:A.is_active,createdAt:new Date(A.created_at),weddingDate:new Date(A.wedding_date),accessUntil:new Date(A.access_until),planType:A.plan_type,maxGuests:A.max_guests,expiresAt:new Date(A.expires_at||A.access_until),features:A.features||[],groomName:A.groom_name,brideName:A.bride_name,weddingLocation:A.wedding_location,weddingTime:A.wedding_time,bibleVerse:A.bible_verse,invitationText:A.invitation_text,backgroundAudioUrl:A.background_audio_url,heroBackgroundUrl:A.hero_background_url,heroBackgroundVideoUrl:A.hero_background_video_url,heroDisplayMode:A.hero_display_mode||"image",heroVideoAudioEnabled:A.hero_video_audio_enabled||!1,cinemaVideoAudioEnabled:A.cinema_video_audio_enabled||!1,planStatus:A.plan_status,pendingPlan:A.pending_plan,pendingSince:A.pending_since?new Date(A.pending_since):void 0};console.log("[ClientLogin] Llamando a onLogin..."),r(ge)}catch(A){console.error("[ClientLogin] Error inesperado:",A),p("Error al iniciar sesin. Intenta nuevamente.")}finally{x(!1)}},_=async E=>{E.preventDefault(),p(""),x(!0);try{const{data:{user:A},error:C}=await oe.auth.getUser();if(C?.message?.includes("Auth")||C?.message?.includes("apikey")){p("El mtodo de Email no est disponible. Por favor usa el mtodo Token.");return}const{data:H,error:K}=await oe.auth.signInWithPassword({email:u,password:l});if(K){K.message?.includes("No API key")||K.message?.includes("apikey")?p("El mtodo de Email no est disponible. Por favor usa el mtodo Token."):K.message?.includes("Invalid login")||K.message?.includes("credentials")?p("Email o contrasea incorrectos"):K.status===409?p("Conflicto de cuenta. Por favor intenta con el mtodo Token."):p(`Error de autenticacin: ${K.message}`);return}if(!H.session){p("No se pudo crear la sesin");return}const R=H.session.user,te=R.user_metadata?.subdomain||u.split("@")[0].replace("client-",""),me={id:R.user_metadata?.clientId||R.id,clientName:R.user_metadata?.clientName||te,subdomain:te,weddingDate:new Date,groomName:"",brideName:"",weddingLocation:"",weddingTime:"",bibleVerse:"",invitationText:"",token:l,isActive:!0,createdAt:new Date,accessUntil:new Date(Date.now()+365*24*60*60*1e3),planType:R.user_metadata?.plan||"basic",maxGuests:100,features:[]};r(me)}catch(A){const C=A?.message||"Error desconocido";C.includes("API key")||C.includes("apikey")||C.includes("Auth")?p("El mtodo de Email no est disponible. Por favor usa el mtodo Token."):p("Error al iniciar sesin. Intenta nuevamente.")}finally{x(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-amber-50 flex items-center justify-center px-4",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-brush bg-gradient-to-r from-rose-600 to-amber-600 bg-clip-text text-transparent mb-2",children:"Acceso Cliente"}),i.jsx("p",{className:"text-neutral-600",children:"Ingresa tus credenciales para acceder a tu sitio de boda"})]}),i.jsxs("div",{className:"bg-white/85 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50",children:[i.jsxs("div",{className:"flex gap-2 mb-6 bg-neutral-100 p-1 rounded-xl",children:[i.jsx("button",{type:"button",onClick:()=>j("token"),className:`flex-1 py-2 px-3 rounded-lg font-medium transition-all duration-300 ${b==="token"?"bg-rose-500 text-white":"text-neutral-600 hover:text-neutral-900"}`,children:"Token"}),i.jsx("button",{type:"button",onClick:()=>j("email"),className:`flex-1 py-2 px-3 rounded-lg font-medium transition-all duration-300 ${b==="email"?"bg-rose-500 text-white":"text-neutral-600 hover:text-neutral-900"}`,children:"Email"})]}),b==="token"&&i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Usuario (Subdominio)"}),i.jsx("input",{type:"text",id:"username",value:a,onChange:E=>n(E.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"maria-juan",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contrasea (Token)"}),i.jsx("input",{type:"password",id:"password",value:l,onChange:E=>c(E.target.value),placeholder:"Tu token de acceso",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0})]}),f&&i.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:i.jsx("p",{className:"text-rose-700 text-sm",children:f})}),i.jsx("button",{type:"submit",disabled:g||!a.trim()||!l.trim(),className:"w-full bg-gradient-to-r from-rose-500 to-amber-500 text-white font-semibold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Iniciando sesin...":"Acceder"})]}),b==="email"&&i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:u,onChange:E=>d(E.target.value.toLowerCase()),placeholder:"client-maria-juan@invitacionbodas.com",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"emailPassword",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contrasea"}),i.jsx("input",{type:"password",id:"emailPassword",value:l,onChange:E=>c(E.target.value),placeholder:"Tu contrasea",className:"w-full px-4 py-3 rounded-2xl border border-white/50 bg-white/80 text-neutral-700 placeholder-neutral-400 focus:border-rose-400 focus:ring-2 focus:ring-rose-300/30 transition-all duration-300",required:!0})]}),f&&i.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:i.jsx("p",{className:"text-rose-700 text-sm",children:f})}),i.jsx("button",{type:"submit",disabled:g||!u.trim()||!l.trim(),className:"w-full bg-gradient-to-r from-rose-500 to-amber-500 text-white font-semibold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Iniciando sesin...":"Acceder"})]}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsx("button",{type:"button",onClick:()=>v(!w),className:"text-sm text-rose-600 hover:text-amber-600 font-medium transition-colors duration-300",children:"Cmo acceder a mi sitio?"}),w&&i.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4 text-left",children:[i.jsx("h4",{className:"font-semibold text-rose-900 mb-2",children:"Instrucciones de acceso:"}),i.jsxs("div",{className:"space-y-3 text-sm text-rose-800",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Mtodo 1: Token"}),i.jsxs("ol",{className:"list-decimal list-inside",children:[i.jsx("li",{children:"Usuario: Tu subdominio (ej: maria-juan)"}),i.jsx("li",{children:"Contrasea: El token que te proporcion el administrador"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Mtodo 2: Email (despus de provisionar)"}),i.jsxs("ol",{className:"list-decimal list-inside",children:[i.jsx("li",{children:"Email: client-[subdomain]@invitacionbodas.com"}),i.jsx("li",{children:"Contrasea: El token (igual que en token)"})]})]})]}),i.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"URL: https://[tu-subdominio].vercel.app"})]}),i.jsx("p",{className:"text-sm text-neutral-500",children:"No tienes acceso? Contacta al administrador"})]})]})]})})}const Jb=T.createContext(void 0);function zN({children:r}){const[a,n]=T.useState(null),[l,c]=T.useState(!1),u=T.useCallback(async g=>{try{const x=JSON.parse(g),w=await Lh(x.token);if(w){let v={...w,...x};if(["createdAt","weddingDate","accessUntil","lastUsed"].forEach(b=>{const j=v[b];if(typeof j=="string")if(b==="weddingDate"){const N=String(j),[_,E,A]=N.slice(0,10).split("-").map(Number);if(_&&E&&A)v[b]=new Date(_,E-1,A);else{const C=new Date(N);v[b]=new Date(C.getFullYear(),C.getMonth(),C.getDate())}}else v[b]=new Date(j)}),v.id){try{const{data:b,error:j}=await oe.from("clients").select("*").eq("id",v.id).single();!j&&b&&(v={...v,clientName:b.client_name||v.clientName,groomName:b.groom_name!==null?b.groom_name:v.groomName,brideName:b.bride_name!==null?b.bride_name:v.brideName,weddingDate:b.wedding_date?(()=>{const N=String(b.wedding_date),_=N.includes("T")?N.split("T")[0]:N,[E,A,C]=_.split("-").map(Number);return E&&A&&C?new Date(E,A-1,C):new Date(b.wedding_date)})():v.weddingDate,weddingTime:b.wedding_time||v.weddingTime,weddingLocation:b.wedding_location||v.weddingLocation,bibleVerse:b.bible_verse||v.bibleVerse,bibleVerseBook:b.bible_verse_book||v.bibleVerseBook,weddingType:b.wedding_type||v.weddingType,religiousSymbol:b.religious_symbol||v.religiousSymbol,invitationText:b.invitation_text||v.invitationText,backgroundAudioUrl:b.background_audio_url&&!b.background_audio_url.includes("audioRos.mp3")?b.background_audio_url:v.backgroundAudioUrl||"/audio.mp3",heroBackgroundUrl:b.hero_background_url||v.heroBackgroundUrl,heroBackgroundVideoUrl:b.hero_background_video_url||v.heroBackgroundVideoUrl,advancedAnimations:b.advanced_animations||v.advancedAnimations||{enabled:!1,particleEffects:!1,parallaxScrolling:!1,floatingElements:!1},ceremonyLocationName:b.ceremony_location_name||v.ceremonyLocationName,ceremonyAddress:b.ceremony_address||v.ceremonyAddress,ceremonyMapUrl:b.ceremony_map_url||v.ceremonyMapUrl,ceremonyReference:b.ceremony_reference||v.ceremonyReference,receptionLocationName:b.reception_location_name||v.receptionLocationName,receptionAddress:b.reception_address||v.receptionAddress,receptionMapUrl:b.reception_map_url||v.receptionMapUrl,receptionReference:b.reception_reference||v.receptionReference,isReceptionSameAsCeremony:b.is_reception_same_as_ceremony??v.isReceptionSameAsCeremony,churchName:b.church_name||v.churchName,mapCoordinates:b.map_coordinates||v.mapCoordinates},sessionStorage.setItem("clientAuth",JSON.stringify(v)))}catch{console.debug("[ClientAuth] No se pudieron cargar datos de Supabase, usando localStorage")}n(v),c(!0)}else n(v),c(!0)}else sessionStorage.removeItem("clientAuth")}catch{sessionStorage.removeItem("clientAuth")}},[]),d=T.useCallback(g=>{console.log("[ClientAuthContext] login() llamado. Guardando datos y disparando evento..."),n(g),c(!0);const x=JSON.stringify(g);sessionStorage.setItem("clientAuth",x),window.dispatchEvent(new CustomEvent("clientAuthUpdated",{detail:{clientAuth:x}}))},[]),f=T.useCallback(()=>{n(null),c(!1),sessionStorage.removeItem("clientAuth")},[]);T.useEffect(()=>{const g=sessionStorage.getItem("clientAuth");g&&u(g);const x=v=>{const b=v;if(b.detail?.clientAuth)try{const j=JSON.parse(b.detail.clientAuth),N=a?.id,_=j?.id;!N||N===_?u(b.detail.clientAuth):console.warn("[ClientAuthContext] Ignorando evento clientAuthUpdated: pertenece a otro usuario",{current:N,nuevo:_})}catch(j){console.error("[ClientAuthContext] Error parseando datos de evento:",j)}},w=v=>{if(v.key==="clientAuth")if(v.newValue)try{const b=JSON.parse(v.newValue),j=a?.id,N=b?.id;!j||j===N?u(v.newValue):console.warn("[ClientAuthContext] Ignorando cambio de storage: pertenece a otro usuario",{current:j,nuevo:N})}catch(b){console.error("[ClientAuthContext] Error parseando datos de storage:",b)}else a||f()};return window.addEventListener("clientAuthUpdated",x),window.addEventListener("storage",w),()=>{window.removeEventListener("clientAuthUpdated",x),window.removeEventListener("storage",w)}},[f,u]);const p=T.useCallback(()=>{const x=window.location.hostname.split(".");if(x.length<=2)return null;const w=x[0].replace("-invitacion","");return Ib(w)},[]);return i.jsx(Jb.Provider,{value:{client:a,isAuthenticated:l,login:d,logout:f,checkSubdomainAccess:p},children:r})}function Wb(){const r=T.useContext(Jb);if(r===void 0)throw new Error("useClientAuth must be used within a ClientAuthProvider");return r}function $N(){const r=fl(),{login:a}=Wb();return i.jsx(BN,{onLogin:n=>{console.log("[ClientLoginPage] onLogin recibida. Ejecutando login(client)..."),a(n),setTimeout(()=>{const l=sessionStorage.getItem("clientAuth");console.log("[ClientLoginPage] Verificando storage antes de redirigir:",l?"OK":"NULL"),l?(console.log("[ClientLoginPage] Redirigiendo a /client-admin..."),r("/client-admin",{replace:!0})):(console.error("[ClientLoginPage] Error CRTICO: sessionStorage no se guard."),sessionStorage.setItem("clientAuth",JSON.stringify(n)),r("/client-admin",{replace:!0}))},100)}})}function PN({date:r,time:a}){const n=T.useMemo(()=>{if(!r)return Date.now();let g="";return r instanceof Date?g=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`:typeof r=="string"&&(g=r.split("T")[0].split(" ")[0]),Y2(g,a||"00:00")},[r,a]),l=()=>{const g=Date.now(),x=Math.max(0,n-g);return{days:Math.floor(x/(1e3*60*60*24)),hours:Math.floor(x/(1e3*60*60)%24),minutes:Math.floor(x/(1e3*60)%60),seconds:Math.floor(x/1e3%60),finished:x<=0}},[c,u]=T.useState(l),[d,f]=T.useState(!1);if(T.useEffect(()=>{f(!0);const g=setInterval(()=>{u(l())},1e3);return()=>clearInterval(g)},[n]),!d)return null;const p=[{label:"Das",value:c.days},{label:"Hr",value:c.hours},{label:"Min",value:c.minutes},{label:"Seg",value:c.seconds}];return i.jsxs("div",{className:"relative max-w-5xl mx-auto px-6 py-24",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center",children:i.jsx("div",{className:"w-[420px] h-[420px] bg-rose-100/30 blur-[120px] rounded-full"})}),i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[i.jsx("div",{className:"w-px h-20 bg-gradient-to-b from-transparent via-rose-300 to-transparent mx-auto mb-8"}),i.jsx("h2",{className:"text-4xl sm:text-6xl font-elegant font-semibold text-slate-800 tracking-tight",children:"La Espera"}),i.jsx("p",{className:"mt-4 text-xs tracking-[0.45em] uppercase text-slate-800/50 font-black",children:"Cada segundo nos acerca ms"})]}),i.jsx("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-10",children:p.map((g,x)=>i.jsx(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:x*.12,ease:"easeOut"},viewport:{once:!0},className:"group",children:i.jsxs("div",{className:`\r
                relative w-28 sm:w-36 h-28 sm:h-36\r
                rounded-[2.5rem]\r
                bg-white/70 backdrop-blur-xl\r
                border border-white/80\r
                shadow-[0_15px_45px_-15px_rgba(30,27,75,0.15)]\r
                flex flex-col items-center justify-center\r
                transition-all duration-700\r
                group-hover:scale-[1.05]\r
                group-hover:shadow-[0_25px_60px_-10px_rgba(30,27,75,0.25)]\r
              `,children:[i.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-rose-100/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),i.jsx(Ot,{mode:"popLayout",children:i.jsx(L.span,{initial:{opacity:0,scale:.8,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.2,filter:"blur(10px)"},className:"relative z-10 text-5xl sm:text-6xl font-elegant text-slate-900 font-bold tabular-nums leading-none",children:String(g.value).padStart(2,"0")},g.value)}),i.jsx("span",{className:"relative z-10 mt-3 text-[10px] tracking-[0.35em] uppercase text-rose-600 font-black",children:g.label})]})},g.label))})]})}function VN(r,a){const[n,l]=T.useState(null),[c,u]=T.useState(!!r),[d,f]=T.useState([]);T.useEffect(()=>{r&&(async()=>{u(!0);try{const{fetchClientBySubdomain:j}=await dc(async()=>{const{fetchClientBySubdomain:_}=await Promise.resolve().then(()=>Eg);return{fetchClientBySubdomain:_}},void 0),N=await j(r);N&&l(N)}catch(j){console.error("Error loading preview client:",j)}finally{u(!1)}})()},[r]),T.useEffect(()=>{if(!n?.id||!r)return;const b=oe.channel(`client-updates-${n.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"clients",filter:`id=eq.${n.id}`},async()=>{const{fetchClientBySubdomain:j}=await dc(async()=>{const{fetchClientBySubdomain:_}=await Promise.resolve().then(()=>Eg);return{fetchClientBySubdomain:_}},void 0),N=await j(r);N&&l(N)}).subscribe();return()=>{oe.removeChannel(b)}},[n?.id,r]);const p=a||n;T.useEffect(()=>{if(!p?.id)return;const b=async()=>{const{data:N,error:_}=await oe.from("messages").select("*").eq("client_id",p.id).order("created_at",{ascending:!1});!_&&N&&f(N)};b();const j=oe.channel(`messages-${p.id}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`client_id=eq.${p.id}`},()=>b()).subscribe();return()=>{oe.removeChannel(j)}},[p?.id]);const g=T.useCallback(async b=>{if(!p?.id)throw new Error("Cliente no identificado");if(b.isAttending){const N=p.maxGuests||50,{data:_,error:E}=await oe.from("rsvps").select("guests").eq("client_id",p.id);if(E)throw E;if((_||[]).reduce((H,K)=>H+(K.guests||0)+1,0)+(b.guests||0)+1>N)throw new Error(`Se ha alcanzado el lmite de ${N} invitados.`)}const{error:j}=await oe.from("rsvps").insert({name:b.name,email:b.email,phone:b.phone||null,guests:b.isAttending&&b.guests||0,client_id:p.id,is_attending:b.isAttending,attending_names:b.attendingNames||null,not_attending_names:b.notAttendingNames||null});if(j)throw j;return!0},[p?.id,p?.maxGuests]),x=T.useCallback(async(b,j)=>{if(!p?.id)throw new Error("Cliente no identificado");const{error:N}=await oe.from("messages").insert({name:b.trim(),message:j.trim(),client_id:p.id});if(N)throw N;return!0},[p?.id]),w=T.useMemo(()=>p?.expiresAt?new Date>new Date(p.expiresAt):!1,[p?.expiresAt]),v=p?.planType||"basic";return{client:p,loading:c,messages:d,submitRSVP:g,submitMessage:x,isExpired:w,planType:v}}const HN=({mobile:r=!1})=>i.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-30",children:Array.from({length:r?15:30}).map((a,n)=>{const l=r?Math.random()*2+1:Math.random()*3+2;return i.jsx(L.div,{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],rotate:[0,180,360],scale:[0,1,0]},transition:{duration:20+Math.random()*20,repeat:1/0,delay:Math.random()*10,ease:"easeInOut"},children:i.jsx("div",{className:`${n%4===0?"bg-gradient-to-r from-amber-500/60 to-orange-500/60":n%4===1?"bg-gradient-to-r from-amber-300/50 to-amber-400/50":n%4===2?"bg-gradient-to-r from-orange-400/40 to-amber-400/40":"bg-gradient-to-r from-amber-600/40 to-amber-600/40"} rounded-full blur-[1px] shadow-sm shadow-amber-200/50`,style:{width:`${l}px`,height:`${l}px`}})},n)})}),Rg={goldDeep:"rgba(180, 83, 9, 0.9)",roseVivid:"rgba(225, 29, 72, 0.85)"},qN=()=>{const r=T.useMemo(()=>Array.from({length:18}).map((a,n)=>({id:n,x:Math.random()*100,delay:Math.random()*8,duration:12+Math.random()*15,type:Math.random()>.4?"petal":"gold_dust",scale:.4+Math.random()*.6,sway:20+Math.random()*50})),[]);return i.jsx("div",{className:"fixed inset-0 pointer-events-none z-[40] overflow-hidden",children:r.map(a=>i.jsx(L.div,{initial:{y:-50,opacity:0,x:0},animate:{y:["-5vh","105vh"],opacity:[0,1,1,0],rotate:a.type==="petal"?[0,90,180,270]:0,x:[0,a.sway,-a.sway*.5,a.sway*1.5]},transition:{duration:a.duration,repeat:1/0,delay:a.delay,ease:"linear",times:[0,1]},className:"absolute",style:{left:`${a.x}%`,width:a.type==="petal"?"14px":"3px",height:a.type==="petal"?"14px":"3px",backgroundColor:a.type==="petal"?Rg.roseVivid:Rg.goldDeep,borderRadius:a.type==="petal"?"60% 0 60% 0":"50%",filter:a.type==="petal"?"drop-shadow(0 2px 3px rgba(190, 18, 60, 0.3))":"drop-shadow(0 0 2px rgba(180, 83, 9, 0.8))",boxShadow:a.type==="gold_dust"?"0 0 4px rgba(217, 119, 6, 0.9)":"none"}},a.id))})},IN=()=>{const[r,a]=T.useState([]);return T.useEffect(()=>{const n=l=>{const c="touches"in l?l.touches[0].clientX:l.clientX,u="touches"in l?l.touches[0].clientY:l.clientY;a(d=>{const f=d[d.length-1];return f&&Math.hypot(f.x-c,f.y-u)<20?d:[...d.slice(-15),{id:Date.now()+Math.random(),x:c,y:u,age:0}]})};return window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n)}},[]),T.useEffect(()=>{const n=setInterval(()=>{a(l=>l.map(c=>({...c,age:c.age+1})).filter(c=>c.age<20))},30);return()=>clearInterval(n)},[]),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-[50]",children:i.jsx(Ot,{children:r.map(n=>i.jsx(L.div,{initial:{scale:1,opacity:.8},animate:{scale:0,opacity:0},transition:{duration:.6},className:"absolute rounded-full",style:{left:n.x,top:n.y,width:"10px",height:"10px",background:"radial-gradient(circle, #d97706 10%, #fbbf24 40%, transparent 80%)",transform:"translate(-50%, -50%)",boxShadow:"0 0 8px rgba(217, 119, 6, 0.8)"}},n.id))})})},GN=()=>{const r=fw(),a=tl(r,[0,2e4],[0,100]),n=tl(r,[0,4e4],[0,360]),l=Fg`translateY(${a}px) rotate(${n}deg)`;return i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[0] overflow-hidden opacity-30",children:[i.jsxs("div",{className:"absolute inset-0 filter blur-[80px]",children:[i.jsx(L.div,{style:{transform:l},className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] rounded-full bg-amber-200/40 mix-blend-multiply blur-[60px]"}),i.jsx(L.div,{animate:{x:[0,50,0],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},className:"absolute top-[20%] right-[-10%] w-[40vw] h-[40vw] rounded-full bg-rose-300/40 mix-blend-multiply blur-[60px]"}),i.jsx(L.div,{animate:{opacity:[.4,.6,.4]},transition:{duration:5,repeat:1/0},className:"absolute top-[40%] left-[30%] w-[30vw] h-[30vw] rounded-full bg-orange-100/60 blur-[50px]"})]}),i.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),i.jsx("style",{children:`
                /* Efecto FOIL PRISMTICO */
                .deluxe-foil-text {
                    background: linear-gradient(
                        135deg, 
                        #b45309 0%, 
                        #fbbf24 25%, 
                        #fffbeb 50%, 
                        #fbbf24 75%, 
                        #b45309 100%
                    );
                    background-size: 300% auto;
                    color: transparent;
                    -webkit-background-clip: text;
                    background-clip: text;
                    animation: shine-prism 6s linear infinite;
                    filter: drop-shadow(0 2px 4px rgba(180, 83, 9, 0.2));
                }
                @keyframes shine-prism {
                    to { background-position: 300% center; }
                }
             `})]})},FN=()=>{const r=wp(0),a=wp(0);return T.useEffect(()=>{const n=l=>{const c="touches"in l?l.touches[0].clientX:l.clientX,u="touches"in l?l.touches[0].clientY:l.clientY;r.set(c),a.set(u)};return window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n)}},[]),i.jsx(L.div,{className:"fixed inset-0 pointer-events-none z-[10]",style:{background:Fg`radial-gradient(600px circle at ${r}px ${a}px, rgba(251, 191, 36, 0.08), transparent 80%)`}})},YN=()=>{const{scrollY:r}=hw(),a=tl(r,[0,1e3],[0,300]),n=tl(r,[0,1e3],[0,-200]),l=tl(r,[0,1e3],[0,45]);return i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[35] overflow-hidden",children:[i.jsx(L.div,{style:{y:a,rotate:l},className:"absolute top-[15%] -left-[50px] w-48 h-48 border-[2px] border-amber-500/30 rotate-45 backdrop-blur-[1px]"}),i.jsx(L.div,{style:{y:n},className:"absolute top-[60%] -right-[50px] w-64 h-64 border-[2px] border-rose-500/30 rounded-full"})]})},KN=({config:r})=>r?.enabled?i.jsxs(i.Fragment,{children:[r.particleEffects&&i.jsxs(i.Fragment,{children:[i.jsx(qN,{}),i.jsx(IN,{})]}),r.parallaxScrolling&&i.jsx(YN,{}),r.floatingElements&&i.jsxs(i.Fragment,{children:[i.jsx(GN,{}),i.jsx(FN,{})]})]}):null,Zb=T.createContext(void 0);function XN({children:r}){const[a,n]=T.useState(null),l=T.useCallback(u=>{n(u),console.log("[AudioContext] Focus requested by:",u)},[]),c=T.useCallback(u=>{n(d=>d===u?(console.log("[AudioContext] Focus released by:",u),null):d)},[]);return i.jsx(Zb.Provider,{value:{activeSource:a,requestFocus:l,releaseFocus:c},children:r})}function Bh(){const r=T.useContext(Zb);if(r===void 0)throw new Error("useAudioContext must be used within an AudioProvider");return r}function QN(r){if(!r)return new Date;if(r instanceof Date)return new Date(r.getFullYear(),r.getMonth(),r.getDate());let a=typeof r=="string"?r.includes("T")?r.split("T")[0]:r:"";if(!a)return new Date;const[n,l,c]=a.split("-").map(Number);return new Date(n,l-1,c)}function JN({clientData:r}){const a=r?.groomName,n=r?.brideName,l=r?.clientName,c=r?.planType||"basic",u=r?.heroBackgroundUrl||"/boda.jpg",d=r?.heroBackgroundVideoUrl||"/hero.mp4",f=r?.heroDisplayMode||"image",p=r?.heroVideoAudioEnabled||!1,g=r?.advancedAnimations,x=c==="deluxe"&&g?.enabled&&g?.floatingElements?"deluxe-foil-text":"",w=c==="deluxe"&&d&&f==="video",b=(r?.weddingDate?QN(r.weddingDate):new Date(2026,0,24)).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),j=T.useRef(null),N=T.useRef(null),_=Yg(j,{amount:.5}),{requestFocus:E,releaseFocus:A}=Bh();return T.useEffect(()=>{w&&p&&_?E("hero"):A("hero"),N.current&&(p?_?(N.current.muted=!1,N.current.play().catch(()=>{})):N.current.pause():(N.current.muted=!0,N.current.paused&&N.current.play().catch(()=>{})))},[w,p,_,E,A]),i.jsxs("section",{ref:j,className:"relative h-[100svh] w-full overflow-hidden flex items-center justify-center bg-black",children:[i.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[i.jsx(L.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:{duration:3,ease:"easeOut"},className:"h-full w-full",children:w?i.jsxs("video",{ref:N,autoPlay:!0,loop:!0,muted:!p,playsInline:!0,className:"h-full w-full object-cover brightness-[0.7] contrast-[1.1]",children:[i.jsx("source",{src:d,type:"video/mp4"}),i.jsx("img",{src:u,className:"h-full w-full object-cover",alt:"Boda"})]}):i.jsx("div",{className:"h-full w-full bg-cover bg-center brightness-[0.7] transition-transform duration-[20s] hover:scale-110",style:{backgroundImage:`url(${u})`}})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/80"}),i.jsx("div",{className:"absolute inset-0 bg-rose-900/05 mix-blend-overlay"})]}),c==="deluxe"&&g?.enabled&&i.jsx("div",{className:"absolute inset-0 z-[1] pointer-events-none",children:g.particleEffects&&i.jsx("div",{className:"absolute inset-0",children:Array.from({length:30}).map((C,H)=>i.jsx(L.div,{className:"absolute w-1 h-1 bg-white/40 rounded-full blur-[1px]",style:{left:`${Math.random()*100}%`,top:"-5%"},animate:{y:["0vh","105vh"],x:[(Math.random()-.5)*50,(Math.random()-.5)*150],opacity:[0,.8,0],scale:[.5,1.5,.5]},transition:{duration:Math.random()*10+10,repeat:1/0,delay:Math.random()*10,ease:"linear"}},`p-${H}`))})}),i.jsx("div",{className:"relative z-10 text-center text-white px-6 max-w-5xl",children:i.jsxs(L.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1.5,ease:"easeOut"},children:[i.jsx(L.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,duration:1},className:"inline-block mb-10",children:i.jsx("span",{className:"px-6 py-2 rounded-full bg-white/5 backdrop-blur-xl border border-white/20 text-[10px] sm:text-xs tracking-[0.5em] font-light uppercase text-rose-100 shadow-2xl",children:"Nuestra Historia Comienza"})}),i.jsx("h1",{className:"flex flex-col items-center gap-2 mb-12",children:a||n?i.jsxs(i.Fragment,{children:[i.jsx(L.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.8,duration:1},className:`font-elegant text-5xl sm:text-8xl md:text-9xl tracking-tighter drop-shadow-[0_10px_10px_rgba(0,0,0,0.5)] leading-tight ${x}`,children:a}),i.jsx(L.span,{initial:{opacity:0,rotate:-45,scale:0},animate:{opacity:1,rotate:0,scale:1},transition:{delay:1.2,duration:.8,type:"spring"},className:"font-brush text-4xl sm:text-6xl text-gold drop-shadow-lg my-2 italic",children:"&"}),i.jsx(L.span,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:1.5,duration:1},className:`font-elegant text-5xl sm:text-8xl md:text-9xl tracking-tighter drop-shadow-[0_10px_10px_rgba(0,0,0,0.5)] leading-tight ${x}`,children:n})]}):i.jsx("span",{className:`font-elegant text-5xl sm:text-8xl md:text-9xl tracking-tighter drop-shadow-2xl ${x}`,children:l})}),i.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:1},className:"flex flex-col items-center gap-6 mb-14",children:[i.jsx("div",{className:"h-px w-24 bg-gradient-to-r from-transparent via-gold to-transparent opacity-60"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs sm:text-sm tracking-widest font-light text-rose-100 uppercase italic",children:r.weddingType||"Boda"}),i.jsx("p",{className:"text-xl sm:text-2xl font-elegant tracking-[0.2em] text-white/90",children:b})]}),i.jsx("div",{className:"h-px w-24 bg-gradient-to-r from-transparent via-gold to-transparent opacity-60"})]}),i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.5,duration:.8},className:"flex flex-col sm:flex-row justify-center items-center gap-6",children:[i.jsx(L.a,{whileHover:{scale:1.05,boxShadow:"0 0 25px rgba(251, 113, 133, 0.4)"},whileTap:{scale:.95},href:"#rsvp",className:"w-full sm:w-auto px-10 py-4 rounded-full bg-gradient-to-r from-rose-400 to-amber-500 text-white font-bold text-xs tracking-widest uppercase shadow-xl transition-all border border-rose-400/20",children:"Confirmar Asistencia"}),i.jsx(L.a,{whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.2)"},whileTap:{scale:.95},href:"#galeria",className:"w-full sm:w-auto px-10 py-4 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 text-white font-bold text-xs tracking-widest uppercase hover:shadow-lg transition-all",children:"Nuestra Galera"})]})]})})]})}function WN({clientData:r}){const{bibleVerse:a,bibleVerseBook:n,invitationText:l,religiousSymbol:c,weddingType:u}=r;return!a&&!l?null:i.jsxs("section",{className:"relative py-32 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 left-1/2 -translate-x-1/2 w-[600px] h-[600px] bg-[#f59e0b]/05 rounded-full blur-[140px] pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-[#f59e0b]/05 rounded-full blur-[120px] pointer-events-none"}),i.jsx("div",{className:"section-container relative z-10 text-center",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-24",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"flex flex-col items-center gap-4 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[150px] bg-rose-100/30 blur-[60px] rounded-full"})}),i.jsx("span",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-[0.6em]",children:u||"Nuestra Boda"}),i.jsx("div",{className:"w-16 h-px bg-gradient-to-r from-transparent via-rose-500/40 to-transparent"})]}),a&&i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1},className:"relative px-6",children:[c&&i.jsx("div",{className:"text-4xl mb-8 text-rose-500 opacity-80",children:c}),i.jsxs("blockquote",{className:"font-elegant italic text-3xl sm:text-4xl lg:text-5xl text-slate-900 leading-relaxed mb-10 max-w-3xl mx-auto",children:["",a,""]}),n&&i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx("div",{className:"w-8 h-[2px] bg-rose-500/30 rounded-full"}),i.jsx("p",{className:"text-[10px] tracking-[0.4em] text-slate-900/40 uppercase font-black",children:n}),i.jsx("div",{className:"w-8 h-[2px] bg-rose-500/30 rounded-full"})]})]}),a&&l&&i.jsx(L.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"flex justify-center items-center py-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#f59e0b]"}),i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd9b3]"}),i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#fcd34d]"})]})}),l&&i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,delay:.2},className:"relative px-6",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-elegant tracking-[0.3em] text-rose-500 font-bold uppercase mb-10 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[400px] h-[200px] bg-rose-100/20 blur-[70px] rounded-full"})}),"Nuestra Historia"]}),i.jsx("p",{className:"font-elegant text-2xl sm:text-3xl lg:text-4xl text-slate-800/80 leading-relaxed max-w-3xl mx-auto font-light whitespace-pre-wrap",children:l}),i.jsx("div",{className:"mt-16 flex justify-center",children:i.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-rose-200 to-transparent"})})]})]})})]})}function ZN({clientData:r}){const[a,n]=T.useState([]),[l,c]=T.useState(!0),[u,d]=T.useState(null);T.useEffect(()=>{if(!r?.id)return;(async()=>{const{data:x,error:w}=await oe.storage.from("gallery").list(`${r.id}/hero`,{limit:50,sortBy:{column:"created_at",order:"asc"}});if(w||!x){c(!1);return}const v=x.filter(j=>!j.name.startsWith(".")).filter(j=>!j.name.toLowerCase().includes("padrino")).map(j=>`${r.id}/hero/${j.name}`),b=await Promise.all(v.map(async j=>{const{data:N}=oe.storage.from("gallery").getPublicUrl(j);return{name:j,url:N.publicUrl}}));n(b),c(!1)})()},[r?.id]);const[f,p]=T.useState(0);return T.useEffect(()=>{if(a.length===0)return;const g=setInterval(()=>{p(x=>(x+1)%a.length)},5e3);return()=>clearInterval(g)},[a.length]),l||a.length===0?null:i.jsxs("section",{id:"galeria",className:"py-20 relative overflow-hidden bg-transparent",children:[i.jsxs("div",{className:"section-container",children:[i.jsxs("div",{className:"text-center mb-16 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{className:"inline-flex flex-col items-center gap-2 mb-6",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.4em] uppercase text-rose-500",children:"Galera"}),i.jsx("div",{className:"w-10 h-px bg-rose-500/40"})]}),i.jsx("h2",{className:"text-5xl sm:text-6xl font-elegant font-bold text-slate-950 mb-6 leading-tight",children:"Momentos"})]}),i.jsxs("div",{className:"relative h-[550px] sm:h-[650px] mt-12 perspective-2000",children:[i.jsx(Ot,{initial:!1,mode:"popLayout",children:i.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:a.map((g,x)=>{const w=(x-f+a.length)%a.length,v=w===0,b=w===a.length-1;return!v&&!b&&!(w===1)?null:i.jsx(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:v?1:.5,scale:v?1:.85,x:v?0:w===1?"100%":"-100%",z:v?100:0,rotateY:v?0:w===1?-15:15,filter:v?"blur(0px)":"blur(4px)",zIndex:v?30:10},exit:{opacity:0,scale:.8},transition:{duration:.8,ease:"easeInOut"},onClick:()=>v&&d(x),className:"absolute w-[300px] sm:w-[450px] aspect-[4/5] cursor-pointer group",children:i.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden shadow-2xl bg-white border-2 border-white transition-all duration-700",children:[i.jsx("img",{src:g.url,alt:"Momento",className:"w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold tracking-[0.4em] uppercase border border-white/50 px-6 py-3 rounded-full backdrop-blur-md",children:"Ver"})})]})},g.name)})})}),i.jsx("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 flex items-center gap-4",children:a.slice(0,8).map((g,x)=>i.jsx("button",{onClick:()=>p(x),className:`transition-all duration-500 h-1 rounded-full ${f===x?"w-8 bg-rose-500":"w-2 bg-rose-500/20"}`},x))})]})]}),i.jsx(Ot,{children:u!==null&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-white/95 backdrop-blur-xl flex items-center justify-center p-6",onClick:()=>d(null),children:i.jsxs(L.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",children:[i.jsx("img",{src:a[u].url,className:"w-auto h-auto max-h-[85vh] object-contain rounded-lg shadow-2xl"}),i.jsx("button",{className:"mt-8 text-slate-800 hover:text-rose-500 transition-colors flex items-center gap-2 text-xs font-bold tracking-[0.3em] uppercase",children:"Cerrar"})]})})})]})}function Og(r){if(!r)return"";let a=r.trim();const n=/PM/i.test(a),l=/AM/i.test(a),c=a.match(/(\d{1,2}):(\d{1,2})/);if(!c)return"";let u=parseInt(c[1],10);const d=parseInt(c[2],10);n&&u<12&&(u+=12),l&&u===12&&(u=0);const f=u>=12?"p. m.":"a. m.";let p=u%12;return p===0&&(p=12),`${p}:${String(d).padStart(2,"0")} ${f}`}function eS({clientData:r}){const a=[{type:"Ceremonia",name:r.churchName||r.ceremonyLocationName,time:Og(r.weddingTime),address:r.ceremonyAddress,reference:r.ceremonyReference,mapUrl:r.ceremonyMapUrl,icon:""},...r.isReceptionSameAsCeremony?[]:[{type:"Recepcin",name:r.receptionLocationName,time:Og(r.receptionTime),address:r.receptionAddress,reference:r.receptionReference,mapUrl:r.receptionMapUrl,icon:""}]];return i.jsx("section",{id:"ubicacion",className:"relative py-24 bg-transparent overflow-hidden",children:i.jsxs("div",{className:"section-container",children:[i.jsxs("div",{className:"text-center mb-20 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"inline-flex flex-col items-center gap-3 mb-8",children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.45em] uppercase text-rose-500",children:"Ubicacin"}),i.jsx("div",{className:"w-12 h-px bg-gradient-to-r from-transparent via-rose-500/40 to-transparent"})]}),i.jsx("h2",{className:"font-elegant text-5xl sm:text-6xl text-slate-950 font-bold leading-tight",children:"Dnde & Cundo"})]}),i.jsx("div",{className:"flex flex-wrap justify-center gap-10",children:a.map((n,l)=>i.jsx(L.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.15,duration:.7,ease:"easeOut"},className:"relative w-full max-w-lg",children:i.jsxs("div",{className:`\r
                                relative h-full\r
                                rounded-[2.5rem]\r
                                bg-white/70 backdrop-blur-md\r
                                border border-white/80\r
                                shadow-[0_15px_45px_-15px_rgba(30,27,75,0.15)]\r
                                px-10 py-12\r
                                text-center\r
                                transition-all duration-500\r
                                hover:shadow-[0_25px_60px_-10px_rgba(30,27,75,0.25)]\r
                            `,children:[i.jsx("div",{className:"mb-8 flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-rose-400/30 to-amber-400/30 blur-xl scale-150 animate-pulse"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-rose-300/40 to-amber-300/40 blur-lg scale-125"}),i.jsx("div",{className:`\r
                                            relative\r
                                            w-18 h-18\r
                                            rounded-full\r
                                            bg-slate-800\r
                                            flex items-center justify-center\r
                                            text-3xl\r
                                            shadow-lg\r
                                            transition-all duration-500\r
                                            group-hover:scale-110\r
                                            group-hover:bg-slate-900\r
                                            group-hover:shadow-2xl\r
                                        `,children:n.icon})]})}),i.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.35em] text-rose-600 mb-3",children:n.type}),i.jsx("h3",{className:"font-elegant text-4xl text-slate-900 font-bold mb-6 leading-snug",children:n.name||"Lugar por definir"}),i.jsx("div",{className:`\r
                                    inline-flex items-center gap-2\r
                                    px-5 py-2\r
                                    rounded-full\r
                                    border border-slate-200\r
                                    text-sm font-bold text-slate-600\r
                                    tracking-wider\r
                                    mb-10\r
                                    bg-white\r
                                `,children:n.time}),i.jsxs("div",{className:"mb-10 space-y-2 max-w-xs mx-auto",children:[i.jsx("p",{className:"text-lg font-light text-slate-600 leading-relaxed",children:n.address}),n.reference&&i.jsxs("p",{className:"text-xs font-medium tracking-wide text-slate-400",children:["Ref: ",n.reference]})]}),i.jsx(L.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{n.mapUrl?window.open(n.mapUrl,"_blank"):window.open(`https://maps.google.com/?q=${encodeURIComponent(`${n.name} ${n.address}`)}`,"_blank")},className:"btn-luxe w-full",children:"Ver Mapa"})]})},n.type))}),r.isReceptionSameAsCeremony&&i.jsx(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.9},className:"text-center mt-14",children:i.jsx("p",{className:"text-xs font-bold tracking-[0.25em] uppercase text-slate-400",children:"Ceremonia y Recepcin en el mismo lugar"})})]})})}var xl=r=>r.type==="checkbox",In=r=>r instanceof Date,sa=r=>r==null;const ev=r=>typeof r=="object";var Dt=r=>!sa(r)&&!Array.isArray(r)&&ev(r)&&!In(r),tS=r=>Dt(r)&&r.target?xl(r.target)?r.target.checked:r.target.value:r,aS=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,rS=(r,a)=>r.has(aS(a)),nS=r=>{const a=r.constructor&&r.constructor.prototype;return Dt(a)&&a.hasOwnProperty("isPrototypeOf")},zh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kt(r){let a;const n=Array.isArray(r),l=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)a=new Date(r);else if(!(zh&&(r instanceof Blob||l))&&(n||Dt(r)))if(a=n?[]:Object.create(Object.getPrototypeOf(r)),!n&&!nS(r))a=r;else for(const c in r)r.hasOwnProperty(c)&&(a[c]=Kt(r[c]));else return r;return a}var jc=r=>/^\w*$/.test(r),Pt=r=>r===void 0,$h=r=>Array.isArray(r)?r.filter(Boolean):[],Ph=r=>$h(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(r,a,n)=>{if(!a||!Dt(r))return n;const l=(jc(a)?[a]:Ph(a)).reduce((c,u)=>sa(c)?c:c[u],r);return Pt(l)||l===r?Pt(r[a])?n:r[a]:l},ir=r=>typeof r=="boolean",jt=(r,a,n)=>{let l=-1;const c=jc(a)?[a]:Ph(a),u=c.length,d=u-1;for(;++l<u;){const f=c[l];let p=n;if(l!==d){const g=r[f];p=Dt(g)||Array.isArray(g)?g:isNaN(+c[l+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;r[f]=p,r=r[f]}};const Dg={BLUR:"blur",FOCUS_OUT:"focusout"},Xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sS=Na.createContext(null);sS.displayName="HookFormContext";var iS=(r,a,n,l=!0)=>{const c={defaultValues:a._defaultValues};for(const u in r)Object.defineProperty(c,u,{get:()=>{const d=u;return a._proxyFormState[d]!==Xa.all&&(a._proxyFormState[d]=!l||Xa.all),r[d]}});return c};const lS=typeof window<"u"?Na.useLayoutEffect:Na.useEffect;var lr=r=>typeof r=="string",oS=(r,a,n,l,c)=>lr(r)?(l&&a.watch.add(r),ke(n,r,c)):Array.isArray(r)?r.map(u=>(l&&a.watch.add(u),ke(n,u))):(l&&(a.watchAll=!0),n),ph=r=>sa(r)||!ev(r);function dn(r,a,n=new WeakSet){if(ph(r)||ph(a))return r===a;if(In(r)&&In(a))return r.getTime()===a.getTime();const l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;if(n.has(r)||n.has(a))return!0;n.add(r),n.add(a);for(const u of l){const d=r[u];if(!c.includes(u))return!1;if(u!=="ref"){const f=a[u];if(In(d)&&In(f)||Dt(d)&&Dt(f)||Array.isArray(d)&&Array.isArray(f)?!dn(d,f,n):d!==f)return!1}}return!0}var cS=(r,a,n,l,c)=>a?{...n[r],types:{...n[r]&&n[r].types?n[r].types:{},[l]:c||!0}}:{},rl=r=>Array.isArray(r)?r:[r],Mg=()=>{let r=[];return{get observers(){return r},next:c=>{for(const u of r)u.next&&u.next(c)},subscribe:c=>(r.push(c),{unsubscribe:()=>{r=r.filter(u=>u!==c)}}),unsubscribe:()=>{r=[]}}},ha=r=>Dt(r)&&!Object.keys(r).length,Vh=r=>r.type==="file",Qa=r=>typeof r=="function",hc=r=>{if(!zh)return!1;const a=r?r.ownerDocument:0;return r instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},tv=r=>r.type==="select-multiple",Hh=r=>r.type==="radio",uS=r=>Hh(r)||xl(r),Gd=r=>hc(r)&&r.isConnected;function dS(r,a){const n=a.slice(0,-1).length;let l=0;for(;l<n;)r=Pt(r)?l++:r[a[l++]];return r}function hS(r){for(const a in r)if(r.hasOwnProperty(a)&&!Pt(r[a]))return!1;return!0}function Bt(r,a){const n=Array.isArray(a)?a:jc(a)?[a]:Ph(a),l=n.length===1?r:dS(r,n),c=n.length-1,u=n[c];return l&&delete l[u],c!==0&&(Dt(l)&&ha(l)||Array.isArray(l)&&hS(l))&&Bt(r,n.slice(0,-1)),r}var av=r=>{for(const a in r)if(Qa(r[a]))return!0;return!1};function fc(r,a={}){const n=Array.isArray(r);if(Dt(r)||n)for(const l in r)Array.isArray(r[l])||Dt(r[l])&&!av(r[l])?(a[l]=Array.isArray(r[l])?[]:{},fc(r[l],a[l])):sa(r[l])||(a[l]=!0);return a}function rv(r,a,n){const l=Array.isArray(r);if(Dt(r)||l)for(const c in r)Array.isArray(r[c])||Dt(r[c])&&!av(r[c])?Pt(a)||ph(n[c])?n[c]=Array.isArray(r[c])?fc(r[c],[]):{...fc(r[c])}:rv(r[c],sa(a)?{}:a[c],n[c]):n[c]=!dn(r[c],a[c]);return n}var Qi=(r,a)=>rv(r,a,fc(a));const Lg={value:!1,isValid:!1},Ug={value:!0,isValid:!0};var nv=r=>{if(Array.isArray(r)){if(r.length>1){const a=r.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:a,isValid:!!a.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Pt(r[0].attributes.value)?Pt(r[0].value)||r[0].value===""?Ug:{value:r[0].value,isValid:!0}:Ug:Lg}return Lg},sv=(r,{valueAsNumber:a,valueAsDate:n,setValueAs:l})=>Pt(r)?r:a?r===""?NaN:r&&+r:n&&lr(r)?new Date(r):l?l(r):r;const Bg={isValid:!1,value:null};var iv=r=>Array.isArray(r)?r.reduce((a,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:a,Bg):Bg;function zg(r){const a=r.ref;return Vh(a)?a.files:Hh(a)?iv(r.refs).value:tv(a)?[...a.selectedOptions].map(({value:n})=>n):xl(a)?nv(r.refs).value:sv(Pt(a.value)?r.ref.value:a.value,r)}var fS=(r,a,n,l)=>{const c={};for(const u of r){const d=ke(a,u);d&&jt(c,u,d._f)}return{criteriaMode:n,names:[...r],fields:c,shouldUseNativeValidation:l}},mc=r=>r instanceof RegExp,Ji=r=>Pt(r)?r:mc(r)?r.source:Dt(r)?mc(r.value)?r.value.source:r.value:r,$g=r=>({isOnSubmit:!r||r===Xa.onSubmit,isOnBlur:r===Xa.onBlur,isOnChange:r===Xa.onChange,isOnAll:r===Xa.all,isOnTouch:r===Xa.onTouched});const Pg="AsyncFunction";var mS=r=>!!r&&!!r.validate&&!!(Qa(r.validate)&&r.validate.constructor.name===Pg||Dt(r.validate)&&Object.values(r.validate).find(a=>a.constructor.name===Pg)),pS=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Vg=(r,a,n)=>!n&&(a.watchAll||a.watch.has(r)||[...a.watch].some(l=>r.startsWith(l)&&/^\.\w+/.test(r.slice(l.length))));const nl=(r,a,n,l)=>{for(const c of n||Object.keys(r)){const u=ke(r,c);if(u){const{_f:d,...f}=u;if(d){if(d.refs&&d.refs[0]&&a(d.refs[0],c)&&!l)return!0;if(d.ref&&a(d.ref,d.name)&&!l)return!0;if(nl(f,a))break}else if(Dt(f)&&nl(f,a))break}}};function Hg(r,a,n){const l=ke(r,n);if(l||jc(n))return{error:l,name:n};const c=n.split(".");for(;c.length;){const u=c.join("."),d=ke(a,u),f=ke(r,u);if(d&&!Array.isArray(d)&&n!==u)return{name:n};if(f&&f.type)return{name:u,error:f};if(f&&f.root&&f.root.type)return{name:`${u}.root`,error:f.root};c.pop()}return{name:n}}var gS=(r,a,n,l)=>{n(r);const{name:c,...u}=r;return ha(u)||Object.keys(u).length>=Object.keys(a).length||Object.keys(u).find(d=>a[d]===(!l||Xa.all))},xS=(r,a,n)=>!r||!a||r===a||rl(r).some(l=>l&&(n?l===a:l.startsWith(a)||a.startsWith(l))),bS=(r,a,n,l,c)=>c.isOnAll?!1:!n&&c.isOnTouch?!(a||r):(n?l.isOnBlur:c.isOnBlur)?!r:(n?l.isOnChange:c.isOnChange)?r:!0,vS=(r,a)=>!$h(ke(r,a)).length&&Bt(r,a),yS=(r,a,n)=>{const l=rl(ke(r,n));return jt(l,"root",a[n]),jt(r,n,l),r},Wo=r=>lr(r);function qg(r,a,n="validate"){if(Wo(r)||Array.isArray(r)&&r.every(Wo)||ir(r)&&!r)return{type:n,message:Wo(r)?r:"",ref:a}}var Us=r=>Dt(r)&&!mc(r)?r:{value:r,message:""},Ig=async(r,a,n,l,c,u)=>{const{ref:d,refs:f,required:p,maxLength:g,minLength:x,min:w,max:v,pattern:b,validate:j,name:N,valueAsNumber:_,mount:E}=r._f,A=ke(n,N);if(!E||a.has(N))return{};const C=f?f[0]:d,H=pe=>{c&&C.reportValidity&&(C.setCustomValidity(ir(pe)?"":pe||""),C.reportValidity())},K={},R=Hh(d),te=xl(d),ge=R||te,me=(_||Vh(d))&&Pt(d.value)&&Pt(A)||hc(d)&&d.value===""||A===""||Array.isArray(A)&&!A.length,ce=cS.bind(null,N,l,K),we=(pe,I,ae,Z=Rr.maxLength,U=Rr.minLength)=>{const re=pe?I:ae;K[N]={type:pe?Z:U,message:re,ref:d,...ce(pe?Z:U,re)}};if(u?!Array.isArray(A)||!A.length:p&&(!ge&&(me||sa(A))||ir(A)&&!A||te&&!nv(f).isValid||R&&!iv(f).isValid)){const{value:pe,message:I}=Wo(p)?{value:!!p,message:p}:Us(p);if(pe&&(K[N]={type:Rr.required,message:I,ref:C,...ce(Rr.required,I)},!l))return H(I),K}if(!me&&(!sa(w)||!sa(v))){let pe,I;const ae=Us(v),Z=Us(w);if(!sa(A)&&!isNaN(A)){const U=d.valueAsNumber||A&&+A;sa(ae.value)||(pe=U>ae.value),sa(Z.value)||(I=U<Z.value)}else{const U=d.valueAsDate||new Date(A),re=ie=>new Date(new Date().toDateString()+" "+ie),Q=d.type=="time",J=d.type=="week";lr(ae.value)&&A&&(pe=Q?re(A)>re(ae.value):J?A>ae.value:U>new Date(ae.value)),lr(Z.value)&&A&&(I=Q?re(A)<re(Z.value):J?A<Z.value:U<new Date(Z.value))}if((pe||I)&&(we(!!pe,ae.message,Z.message,Rr.max,Rr.min),!l))return H(K[N].message),K}if((g||x)&&!me&&(lr(A)||u&&Array.isArray(A))){const pe=Us(g),I=Us(x),ae=!sa(pe.value)&&A.length>+pe.value,Z=!sa(I.value)&&A.length<+I.value;if((ae||Z)&&(we(ae,pe.message,I.message),!l))return H(K[N].message),K}if(b&&!me&&lr(A)){const{value:pe,message:I}=Us(b);if(mc(pe)&&!A.match(pe)&&(K[N]={type:Rr.pattern,message:I,ref:d,...ce(Rr.pattern,I)},!l))return H(I),K}if(j){if(Qa(j)){const pe=await j(A,n),I=qg(pe,C);if(I&&(K[N]={...I,...ce(Rr.validate,I.message)},!l))return H(I.message),K}else if(Dt(j)){let pe={};for(const I in j){if(!ha(pe)&&!l)break;const ae=qg(await j[I](A,n),C,I);ae&&(pe={...ae,...ce(I,ae.message)},H(ae.message),l&&(K[N]=pe))}if(!ha(pe)&&(K[N]={ref:C,...pe},!l))return K}}return H(!0),K};const wS={mode:Xa.onSubmit,reValidateMode:Xa.onChange,shouldFocusError:!0};function jS(r={}){let a={...wS,...r},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Qa(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=Dt(a.defaultValues)||Dt(a.values)?Kt(a.defaultValues||a.values)||{}:{},u=a.shouldUnregister?{}:Kt(c),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...x};const v={array:Mg(),state:Mg()},b=a.criteriaMode===Xa.all,j=O=>P=>{clearTimeout(g),g=setTimeout(O,P)},N=async O=>{if(!a.disabled&&(x.isValid||w.isValid||O)){const P=a.resolver?ha((await te()).errors):await me(l,!0);P!==n.isValid&&v.state.next({isValid:P})}},_=(O,P)=>{!a.disabled&&(x.isValidating||x.validatingFields||w.isValidating||w.validatingFields)&&((O||Array.from(f.mount)).forEach(X=>{X&&(P?jt(n.validatingFields,X,P):Bt(n.validatingFields,X))}),v.state.next({validatingFields:n.validatingFields,isValidating:!ha(n.validatingFields)}))},E=(O,P=[],X,he,fe=!0,ue=!0)=>{if(he&&X&&!a.disabled){if(d.action=!0,ue&&Array.isArray(ke(l,O))){const xe=X(ke(l,O),he.argA,he.argB);fe&&jt(l,O,xe)}if(ue&&Array.isArray(ke(n.errors,O))){const xe=X(ke(n.errors,O),he.argA,he.argB);fe&&jt(n.errors,O,xe),vS(n.errors,O)}if((x.touchedFields||w.touchedFields)&&ue&&Array.isArray(ke(n.touchedFields,O))){const xe=X(ke(n.touchedFields,O),he.argA,he.argB);fe&&jt(n.touchedFields,O,xe)}(x.dirtyFields||w.dirtyFields)&&(n.dirtyFields=Qi(c,u)),v.state.next({name:O,isDirty:we(O,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else jt(u,O,P)},A=(O,P)=>{jt(n.errors,O,P),v.state.next({errors:n.errors})},C=O=>{n.errors=O,v.state.next({errors:n.errors,isValid:!1})},H=(O,P,X,he)=>{const fe=ke(l,O);if(fe){const ue=ke(u,O,Pt(X)?ke(c,O):X);Pt(ue)||he&&he.defaultChecked||P?jt(u,O,P?ue:zg(fe._f)):ae(O,ue),d.mount&&N()}},K=(O,P,X,he,fe)=>{let ue=!1,xe=!1;const G={name:O};if(!a.disabled){if(!X||he){(x.isDirty||w.isDirty)&&(xe=n.isDirty,n.isDirty=G.isDirty=we(),ue=xe!==G.isDirty);const Ge=dn(ke(c,O),P);xe=!!ke(n.dirtyFields,O),Ge?Bt(n.dirtyFields,O):jt(n.dirtyFields,O,!0),G.dirtyFields=n.dirtyFields,ue=ue||(x.dirtyFields||w.dirtyFields)&&xe!==!Ge}if(X){const Ge=ke(n.touchedFields,O);Ge||(jt(n.touchedFields,O,X),G.touchedFields=n.touchedFields,ue=ue||(x.touchedFields||w.touchedFields)&&Ge!==X)}ue&&fe&&v.state.next(G)}return ue?G:{}},R=(O,P,X,he)=>{const fe=ke(n.errors,O),ue=(x.isValid||w.isValid)&&ir(P)&&n.isValid!==P;if(a.delayError&&X?(p=j(()=>A(O,X)),p(a.delayError)):(clearTimeout(g),p=null,X?jt(n.errors,O,X):Bt(n.errors,O)),(X?!dn(fe,X):fe)||!ha(he)||ue){const xe={...he,...ue&&ir(P)?{isValid:P}:{},errors:n.errors,name:O};n={...n,...xe},v.state.next(xe)}},te=async O=>{_(O,!0);const P=await a.resolver(u,a.context,fS(O||f.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return _(O),P},ge=async O=>{const{errors:P}=await te(O);if(O)for(const X of O){const he=ke(P,X);he?jt(n.errors,X,he):Bt(n.errors,X)}else n.errors=P;return P},me=async(O,P,X={valid:!0})=>{for(const he in O){const fe=O[he];if(fe){const{_f:ue,...xe}=fe;if(ue){const G=f.array.has(ue.name),Ge=fe._f&&mS(fe._f);Ge&&x.validatingFields&&_([he],!0);const st=await Ig(fe,f.disabled,u,b,a.shouldUseNativeValidation&&!P,G);if(Ge&&x.validatingFields&&_([he]),st[ue.name]&&(X.valid=!1,P))break;!P&&(ke(st,ue.name)?G?yS(n.errors,st,ue.name):jt(n.errors,ue.name,st[ue.name]):Bt(n.errors,ue.name))}!ha(xe)&&await me(xe,P,X)}}return X.valid},ce=()=>{for(const O of f.unMount){const P=ke(l,O);P&&(P._f.refs?P._f.refs.every(X=>!Gd(X)):!Gd(P._f.ref))&&ne(O)}f.unMount=new Set},we=(O,P)=>!a.disabled&&(O&&P&&jt(u,O,P),!dn(ie(),c)),pe=(O,P,X)=>oS(O,f,{...d.mount?u:Pt(P)?c:lr(O)?{[O]:P}:P},X,P),I=O=>$h(ke(d.mount?u:c,O,a.shouldUnregister?ke(c,O,[]):[])),ae=(O,P,X={})=>{const he=ke(l,O);let fe=P;if(he){const ue=he._f;ue&&(!ue.disabled&&jt(u,O,sv(P,ue)),fe=hc(ue.ref)&&sa(P)?"":P,tv(ue.ref)?[...ue.ref.options].forEach(xe=>xe.selected=fe.includes(xe.value)):ue.refs?xl(ue.ref)?ue.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(fe)?xe.checked=!!fe.find(G=>G===xe.value):xe.checked=fe===xe.value||!!fe)}):ue.refs.forEach(xe=>xe.checked=xe.value===fe):Vh(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||v.state.next({name:O,values:Kt(u)})))}(X.shouldDirty||X.shouldTouch)&&K(O,fe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&J(O)},Z=(O,P,X)=>{for(const he in P){if(!P.hasOwnProperty(he))return;const fe=P[he],ue=O+"."+he,xe=ke(l,ue);(f.array.has(O)||Dt(fe)||xe&&!xe._f)&&!In(fe)?Z(ue,fe,X):ae(ue,fe,X)}},U=(O,P,X={})=>{const he=ke(l,O),fe=f.array.has(O),ue=Kt(P);jt(u,O,ue),fe?(v.array.next({name:O,values:Kt(u)}),(x.isDirty||x.dirtyFields||w.isDirty||w.dirtyFields)&&X.shouldDirty&&v.state.next({name:O,dirtyFields:Qi(c,u),isDirty:we(O,ue)})):he&&!he._f&&!sa(ue)?Z(O,ue,X):ae(O,ue,X),Vg(O,f)&&v.state.next({...n,name:O}),v.state.next({name:d.mount?O:void 0,values:Kt(u)})},re=async O=>{d.mount=!0;const P=O.target;let X=P.name,he=!0;const fe=ke(l,X),ue=Ge=>{he=Number.isNaN(Ge)||In(Ge)&&isNaN(Ge.getTime())||dn(Ge,ke(u,X,Ge))},xe=$g(a.mode),G=$g(a.reValidateMode);if(fe){let Ge,st;const Ja=P.type?zg(fe._f):tS(O),Ht=O.type===Dg.BLUR||O.type===Dg.FOCUS_OUT,Xn=!pS(fe._f)&&!a.resolver&&!ke(n.errors,X)&&!fe._f.deps||bS(Ht,ke(n.touchedFields,X),n.isSubmitted,G,xe),Pa=Vg(X,f,Ht);jt(u,X,Ja),Ht?(!P||!P.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(O),p&&p(0)):fe._f.onChange&&fe._f.onChange(O);const Va=K(X,Ja,Ht),Ha=!ha(Va)||Pa;if(!Ht&&v.state.next({name:X,type:O.type,values:Kt(u)}),Xn)return(x.isValid||w.isValid)&&(a.mode==="onBlur"?Ht&&N():Ht||N()),Ha&&v.state.next({name:X,...Pa?{}:Va});if(!Ht&&Pa&&v.state.next({...n}),a.resolver){const{errors:Wa}=await te([X]);if(ue(Ja),he){const Ta=Hg(n.errors,l,X),mn=Hg(Wa,l,Ta.name||X);Ge=mn.error,X=mn.name,st=ha(Wa)}}else _([X],!0),Ge=(await Ig(fe,f.disabled,u,b,a.shouldUseNativeValidation))[X],_([X]),ue(Ja),he&&(Ge?st=!1:(x.isValid||w.isValid)&&(st=await me(l,!0)));he&&(fe._f.deps&&J(fe._f.deps),R(X,st,Ge,Va))}},Q=(O,P)=>{if(ke(n.errors,P)&&O.focus)return O.focus(),1},J=async(O,P={})=>{let X,he;const fe=rl(O);if(a.resolver){const ue=await ge(Pt(O)?O:fe);X=ha(ue),he=O?!fe.some(xe=>ke(ue,xe)):X}else O?(he=(await Promise.all(fe.map(async ue=>{const xe=ke(l,ue);return await me(xe&&xe._f?{[ue]:xe}:xe)}))).every(Boolean),!(!he&&!n.isValid)&&N()):he=X=await me(l);return v.state.next({...!lr(O)||(x.isValid||w.isValid)&&X!==n.isValid?{}:{name:O},...a.resolver||!O?{isValid:X}:{},errors:n.errors}),P.shouldFocus&&!he&&nl(l,Q,O?fe:f.mount),he},ie=O=>{const P={...d.mount?u:c};return Pt(O)?P:lr(O)?ke(P,O):O.map(X=>ke(P,X))},ye=(O,P)=>({invalid:!!ke((P||n).errors,O),isDirty:!!ke((P||n).dirtyFields,O),error:ke((P||n).errors,O),isValidating:!!ke(n.validatingFields,O),isTouched:!!ke((P||n).touchedFields,O)}),Ce=O=>{O&&rl(O).forEach(P=>Bt(n.errors,P)),v.state.next({errors:O?n.errors:{}})},Re=(O,P,X)=>{const he=(ke(l,O,{_f:{}})._f||{}).ref,fe=ke(n.errors,O)||{},{ref:ue,message:xe,type:G,...Ge}=fe;jt(n.errors,O,{...Ge,...P,ref:he}),v.state.next({name:O,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&he&&he.focus&&he.focus()},Se=(O,P)=>Qa(O)?v.state.subscribe({next:X=>"values"in X&&O(pe(void 0,P),X)}):pe(O,P,!0),Je=O=>v.state.subscribe({next:P=>{xS(O.name,P.name,O.exact)&&gS(P,O.formState||x,kt,O.reRenderRoot)&&O.callback({values:{...u},...n,...P,defaultValues:c})}}).unsubscribe,ht=O=>(d.mount=!0,w={...w,...O.formState},Je({...O,formState:w})),ne=(O,P={})=>{for(const X of O?rl(O):f.mount)f.mount.delete(X),f.array.delete(X),P.keepValue||(Bt(l,X),Bt(u,X)),!P.keepError&&Bt(n.errors,X),!P.keepDirty&&Bt(n.dirtyFields,X),!P.keepTouched&&Bt(n.touchedFields,X),!P.keepIsValidating&&Bt(n.validatingFields,X),!a.shouldUnregister&&!P.keepDefaultValue&&Bt(c,X);v.state.next({values:Kt(u)}),v.state.next({...n,...P.keepDirty?{isDirty:we()}:{}}),!P.keepIsValid&&N()},je=({disabled:O,name:P})=>{(ir(O)&&d.mount||O||f.disabled.has(P))&&(O?f.disabled.add(P):f.disabled.delete(P))},be=(O,P={})=>{let X=ke(l,O);const he=ir(P.disabled)||ir(a.disabled);return jt(l,O,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:O}},name:O,mount:!0,...P}}),f.mount.add(O),X?je({disabled:ir(P.disabled)?P.disabled:a.disabled,name:O}):H(O,!0,P.value),{...he?{disabled:P.disabled||a.disabled}:{},...a.progressive?{required:!!P.required,min:Ji(P.min),max:Ji(P.max),minLength:Ji(P.minLength),maxLength:Ji(P.maxLength),pattern:Ji(P.pattern)}:{},name:O,onChange:re,onBlur:re,ref:fe=>{if(fe){be(O,P),X=ke(l,O);const ue=Pt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,xe=uS(ue),G=X._f.refs||[];if(xe?G.find(Ge=>Ge===ue):ue===X._f.ref)return;jt(l,O,{_f:{...X._f,...xe?{refs:[...G.filter(Gd),ue,...Array.isArray(ke(c,O))?[{}]:[]],ref:{type:ue.type,name:O}}:{ref:ue}}}),H(O,!1,void 0,ue)}else X=ke(l,O,{}),X._f&&(X._f.mount=!1),(a.shouldUnregister||P.shouldUnregister)&&!(rS(f.array,O)&&d.action)&&f.unMount.add(O)}}},ve=()=>a.shouldFocusError&&nl(l,Q,f.mount),Le=O=>{ir(O)&&(v.state.next({disabled:O}),nl(l,(P,X)=>{const he=ke(l,X);he&&(P.disabled=he._f.disabled||O,Array.isArray(he._f.refs)&&he._f.refs.forEach(fe=>{fe.disabled=he._f.disabled||O}))},0,!1))},We=(O,P)=>async X=>{let he;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let fe=Kt(u);if(v.state.next({isSubmitting:!0}),a.resolver){const{errors:ue,values:xe}=await te();n.errors=ue,fe=Kt(xe)}else await me(l);if(f.disabled.size)for(const ue of f.disabled)Bt(fe,ue);if(Bt(n.errors,"root"),ha(n.errors)){v.state.next({errors:{}});try{await O(fe,X)}catch(ue){he=ue}}else P&&await P({...n.errors},X),ve(),setTimeout(ve);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ha(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},nt=(O,P={})=>{ke(l,O)&&(Pt(P.defaultValue)?U(O,Kt(ke(c,O))):(U(O,P.defaultValue),jt(c,O,Kt(P.defaultValue))),P.keepTouched||Bt(n.touchedFields,O),P.keepDirty||(Bt(n.dirtyFields,O),n.isDirty=P.defaultValue?we(O,Kt(ke(c,O))):we()),P.keepError||(Bt(n.errors,O),x.isValid&&N()),v.state.next({...n}))},lt=(O,P={})=>{const X=O?Kt(O):c,he=Kt(X),fe=ha(O),ue=fe?c:he;if(P.keepDefaultValues||(c=X),!P.keepValues){if(P.keepDirtyValues){const xe=new Set([...f.mount,...Object.keys(Qi(c,u))]);for(const G of Array.from(xe))ke(n.dirtyFields,G)?jt(ue,G,ke(u,G)):U(G,ke(ue,G))}else{if(zh&&Pt(O))for(const xe of f.mount){const G=ke(l,xe);if(G&&G._f){const Ge=Array.isArray(G._f.refs)?G._f.refs[0]:G._f.ref;if(hc(Ge)){const st=Ge.closest("form");if(st){st.reset();break}}}}if(P.keepFieldsRef)for(const xe of f.mount)U(xe,ke(ue,xe));else l={}}u=a.shouldUnregister?P.keepDefaultValues?Kt(c):{}:Kt(ue),v.array.next({values:{...ue}}),v.state.next({values:{...ue}})}f={mount:P.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!P.keepIsValid||!!P.keepDirtyValues,d.watch=!!a.shouldUnregister,v.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!dn(O,c)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:P.keepDirtyValues?P.keepDefaultValues&&u?Qi(c,u):n.dirtyFields:P.keepDefaultValues&&O?Qi(c,O):P.keepDirty?n.dirtyFields:{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Be=(O,P)=>lt(Qa(O)?O(u):O,P),Oe=(O,P={})=>{const X=ke(l,O),he=X&&X._f;if(he){const fe=he.refs?he.refs[0]:he.ref;fe.focus&&(fe.focus(),P.shouldSelect&&Qa(fe.select)&&fe.select())}},kt=O=>{n={...n,...O}},ea={control:{register:be,unregister:ne,getFieldState:ye,handleSubmit:We,setError:Re,_subscribe:Je,_runSchema:te,_focusError:ve,_getWatch:pe,_getDirty:we,_setValid:N,_setFieldArray:E,_setDisabledField:je,_setErrors:C,_getFieldArray:I,_reset:lt,_resetDefaultValues:()=>Qa(a.defaultValues)&&a.defaultValues().then(O=>{Be(O,a.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:Le,_subjects:v,_proxyFormState:x,get _fields(){return l},get _formValues(){return u},get _state(){return d},set _state(O){d=O},get _defaultValues(){return c},get _names(){return f},set _names(O){f=O},get _formState(){return n},get _options(){return a},set _options(O){a={...a,...O}}},subscribe:ht,trigger:J,register:be,handleSubmit:We,watch:Se,setValue:U,getValues:ie,reset:Be,resetField:nt,clearErrors:Ce,unregister:ne,setError:Re,setFocus:Oe,getFieldState:ye};return{...ea,formControl:ea}}function _S(r={}){const a=Na.useRef(void 0),n=Na.useRef(void 0),[l,c]=Na.useState({isDirty:!1,isValidating:!1,isLoading:Qa(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Qa(r.defaultValues)?void 0:r.defaultValues});if(!a.current)if(r.formControl)a.current={...r.formControl,formState:l},r.defaultValues&&!Qa(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:d,...f}=jS(r);a.current={...f,formState:l}}const u=a.current.control;return u._options=r,lS(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(f=>({...f,isReady:!0})),u._formState.isReady=!0,d},[u]),Na.useEffect(()=>u._disableForm(r.disabled),[u,r.disabled]),Na.useEffect(()=>{r.mode&&(u._options.mode=r.mode),r.reValidateMode&&(u._options.reValidateMode=r.reValidateMode)},[u,r.mode,r.reValidateMode]),Na.useEffect(()=>{r.errors&&(u._setErrors(r.errors),u._focusError())},[u,r.errors]),Na.useEffect(()=>{r.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,r.shouldUnregister]),Na.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==l.isDirty&&u._subjects.state.next({isDirty:d})}},[u,l.isDirty]),Na.useEffect(()=>{r.values&&!dn(r.values,n.current)?(u._reset(r.values,{keepFieldsRef:!0,...u._options.resetOptions}),n.current=r.values,c(d=>({...d}))):u._resetDefaultValues()},[u,r.values]),Na.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),a.current.formState=iS(l,u),a.current}function NS({onSubmit:r}){const{register:a,handleSubmit:n,reset:l,watch:c,setValue:u,formState:{errors:d,isSubmitting:f}}=_S({defaultValues:{isAttending:!0,name:"",email:"",guests:0,attendingNames:"",notAttendingNames:""}}),p=c(),[g,x]=T.useState("idle"),[w,v]=T.useState(""),b=async j=>{try{await r(j),x("success"),l(),setTimeout(()=>x("idle"),5e3)}catch(N){x("error"),v(N.message||"Error al enviar confirmacin"),setTimeout(()=>x("idle"),5e3)}};return i.jsx("section",{id:"rsvp",className:"py-20 bg-transparent px-4 relative overflow-hidden",children:i.jsxs("div",{className:"max-w-3xl mx-auto relative z-10",children:[i.jsxs("div",{className:"text-center mb-16 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{className:"inline-flex flex-col items-center gap-2 mb-6",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.4em] uppercase text-rose-500",children:"Confirmar Asistencia"}),i.jsx("div",{className:"w-10 h-px bg-rose-500/40"})]}),i.jsx("h2",{className:"text-5xl sm:text-6xl font-elegant font-bold text-slate-900 mb-6 leading-tight",children:"Confirma tu Asistencia"}),i.jsx("p",{className:"text-lg text-slate-800/60 font-light tracking-wide max-w-lg mx-auto leading-relaxed",children:"Ser un honor para nosotros contar con tu presencia en este da tan especial."})]}),i.jsxs(L.form,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},onSubmit:n(b),className:"card-luxe p-8 sm:p-12 relative overflow-hidden",children:[i.jsxs("div",{className:"space-y-10 relative z-10",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em] text-center",children:"Confirmas tu asistencia?"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsx("button",{type:"button",onClick:()=>u("isAttending",!0),className:`px-8 py-3 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all duration-300 border ${p.isAttending?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"}`,children:"S, asistir!"}),i.jsx("button",{type:"button",onClick:()=>u("isAttending",!1),className:`px-8 py-3 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all duration-300 border ${p.isAttending===!1?"bg-rose-500 text-white border-rose-500 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"}`,children:"No podr asistir"})]}),i.jsx("input",{type:"hidden",...a("isAttending")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Nombre Completo"}),i.jsx("input",{...a("name",{required:"Por favor ingresa tu nombre"}),className:"input-luxe",placeholder:"Escribe tu nombre aqu"}),d.name&&i.jsx("p",{className:"text-rose-500 text-[10px] font-bold mt-1 uppercase tracking-widest",children:d.name.message})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Correo Electrnico (Opcional)"}),i.jsx("input",{...a("email",{pattern:{value:/^\S+@\S+$/i,message:"Email invlido"}}),className:"input-luxe",placeholder:"tu@email.com"}),d.email&&i.jsx("p",{className:"text-rose-500 text-[10px] font-bold mt-1 uppercase tracking-widest",children:d.email.message})]}),p.isAttending&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"N de Acompaantes"}),i.jsx("input",{type:"number",...a("guests",{valueAsNumber:!0,min:{value:0,message:"Mnimo 0"},max:{value:10,message:"Mximo 10"}}),className:"input-luxe",defaultValue:0}),d.guests&&i.jsx("p",{className:"text-rose-500 text-[10px] font-bold mt-1 uppercase tracking-widest",children:d.guests.message})]})]}),p.isAttending&&i.jsxs(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Nombres de Invitados"}),i.jsx("p",{className:"text-[9px] text-slate-500 uppercase tracking-wider mb-2",children:"Por favor, escribe los nombres de todos tus familiares o acompaantes que vendrn contigo."}),i.jsx("textarea",{...a("attendingNames"),className:"input-luxe min-h-[100px] py-4 resize-none",placeholder:"Ejemplo: Rosa Perez, Juan Perez, Maria Perez..."})]}),p.isAttending===!1&&i.jsxs(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Quines no podrn asistir?"}),i.jsx("p",{className:"text-[9px] text-rose-500/70 uppercase tracking-wider mb-2",children:"Lamentamos que no puedan venir. Por favor dinos los nombres de las personas que no podrn asistir."}),i.jsx("textarea",{...a("notAttendingNames"),className:"input-luxe min-h-[100px] py-4 resize-none",placeholder:"Escribe aqu los nombres de quienes no podrn acompaarnos..."})]}),i.jsx("div",{className:"pt-6 text-center",children:i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:f,className:`btn-luxe w-full sm:w-auto min-w-[200px] ${g==="success"?"!bg-emerald-600 !text-white":g==="error"?"!bg-amber-600 !text-white":""}`,children:f?"Enviando...":g==="success"?"Confirmado":g==="error"?"Reintentar":"Enviar Confirmacin"})})]}),i.jsx(Ot,{children:(g==="success"||g==="error")&&i.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`absolute inset-x-0 bottom-0 py-3 text-center text-[10px] font-bold uppercase tracking-widest ${g==="success"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:g==="success"?"Gracias! Tu asistencia ha sido registrada.":w})})]})]})})}function SS({messages:r,onSendMessage:a}){const[n,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(!1),p=async g=>{if(g.preventDefault(),!(!n.trim()||!c.trim())){f(!0);try{await a(n,c),l(""),u("")}catch(x){console.error(x)}finally{f(!1)}}};return i.jsx("section",{id:"muro",className:"py-20 bg-transparent px-4 relative overflow-hidden",children:i.jsxs("div",{className:"section-container",children:[i.jsxs("div",{className:"text-center mb-16 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{className:"inline-flex flex-col items-center gap-2 mb-6",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.4em] uppercase text-rose-500",children:"Libro de Visitas"}),i.jsx("div",{className:"w-10 h-px bg-rose-500/40"})]}),i.jsx("h2",{className:"text-5xl sm:text-6xl font-elegant font-bold text-slate-800 mb-6 leading-tight",children:"Dedicatorias"}),i.jsx("p",{className:"text-lg text-slate-800/60 font-light tracking-wide max-w-lg mx-auto leading-relaxed",children:"Palabras que guardaremos en el  por siempre."})]}),i.jsxs(L.form,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},onSubmit:p,className:"card-luxe p-8 sm:p-12 mb-20 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10 mb-10",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Tu Identidad"}),i.jsx("input",{value:n,onChange:g=>l(g.target.value),className:"input-luxe",placeholder:"Tu nombre...",disabled:d})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-[10px] font-bold text-slate-900 uppercase tracking-[0.2em]",children:"Tus Deseos"}),i.jsx("textarea",{value:c,onChange:g=>u(g.target.value),className:"input-luxe resize-none",placeholder:"Escribe algo especial...",disabled:d,rows:1})]})]}),i.jsx("div",{className:"text-center",children:i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:d||!n.trim()||!c.trim(),className:"btn-luxe w-full sm:w-auto min-w-[200px] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Guardando...":"Dejar Mensaje"})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-min",children:i.jsx(Ot,{initial:!1,children:r.length===0?i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center py-20",children:i.jsx("p",{className:"font-elegant text-2xl text-slate-800/40 italic",children:"S el primero en escribir nuestra historia... "})}):r.map((g,x)=>i.jsxs(L.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},layout:!0,className:"bg-white/80 p-8 rounded-2xl shadow-sm border border-slate-100/60 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("p",{className:"font-elegant text-xl text-slate-900/70 italic leading-relaxed",children:['"',g.message,'"']})}),i.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-50",children:[i.jsx("h4",{className:"font-bold text-xs uppercase tracking-widest text-slate-800",children:g.name}),i.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:g.created_at?new Date(g.created_at).toLocaleDateString():""})]})]},g.id||x))})})]})})}function ES({src:r,shouldPlay:a=!0}){const n=T.useRef(null),[l,c]=T.useState(!1),[u,d]=T.useState(!1),{activeSource:f}=Bh(),p=a&&f===null;T.useEffect(()=>{if(!r)return;const x=new Audio;x.src=r,x.loop=!0,x.volume=.4,x.preload="auto",n.current=x;const w=()=>d(!0),v=()=>d(!1);x.addEventListener("play",w),x.addEventListener("pause",v);const b=x.play();b&&b.then(()=>{d(!0),c(!1)}).catch(()=>{c(!0)});const j=()=>{n.current&&n.current.paused&&(n.current.play().catch(()=>{}),c(!1))},N=["click","keydown","pointerdown","touchstart"];return N.forEach(_=>document.addEventListener(_,j)),()=>{x.pause(),x.src="",x.removeEventListener("play",w),x.removeEventListener("pause",v),N.forEach(_=>document.removeEventListener(_,j))}},[r]),T.useEffect(()=>{n.current&&(p?n.current.play().catch(()=>c(!0)):n.current.pause())},[p]);const g=()=>{n.current&&(n.current.paused?(n.current.play().catch(()=>{}),d(!0)):(n.current.pause(),d(!1)))};return i.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[l&&i.jsxs("button",{onClick:g,className:"group relative bg-gold hover:bg-amber-500 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 border-2 border-white/50 animate-bounce",title:"Activar msica",children:[i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),i.jsx("span",{className:"absolute -top-12 right-0 bg-white text-neutral-800 text-[10px] font-bold px-3 py-1 rounded-lg shadow-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Haz clic para escuchar msica "})]}),!l&&i.jsxs("button",{onClick:g,className:`group relative backdrop-blur-md rounded-full p-4 shadow-xl transition-all duration-300 hover:scale-110 border border-white/20 ${u?"bg-neutral-900/80 text-white":"bg-white/80 text-neutral-800"}`,children:[u?i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M8 5v14l11-7z"})}),u&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse border-2 border-white"})]})]})}function TS({clientData:r}){const[a,n]=T.useState([]),l=({url:w,poster:v,audioEnabled:b,isInView:j})=>{const N=T.useRef(null);return T.useEffect(()=>{N.current&&(b?j?(N.current.muted=!1,N.current.play().catch(_=>console.log("Autoplay blocked:",_))):N.current.pause():(N.current.muted=!0,j&&N.current.paused?N.current.play().catch(()=>{}):j||N.current.pause()))},[b,j,w]),i.jsx("video",{ref:N,src:w,controls:!0,muted:!b,className:"w-full h-full object-cover",poster:v,playsInline:!0})};T.useEffect(()=>{const w=async()=>{const{data:v}=await oe.storage.from("videos").list(`${r.id}/video`,{limit:10,sortBy:{column:"created_at",order:"asc"}});if(!v)return;const b=v.filter(j=>!j.name.startsWith(".")&&["mp4","webm","mov"].includes(j.name.split(".").pop()?.toLowerCase()||"")).map(j=>{const{data:N}=oe.storage.from("videos").getPublicUrl(`${r.id}/video/${j.name}`);return{name:j.name,url:N.publicUrl}});n(b)};r?.id&&w()},[r?.id]);const[c,u]=T.useState(0),d=T.useRef(null),f=Yg(d,{amount:.5}),{requestFocus:p,releaseFocus:g}=Bh(),x=r.cinemaVideoAudioEnabled||!1;return T.useEffect(()=>{console.log("[VideoSection] State:",{videos:a.length,audioEnabled:x,isInView:f,dbValue:r.cinemaVideoAudioEnabled}),a.length>0&&x&&f?(console.log("[VideoSection] Requesting Focus: cinema"),p("cinema")):g("cinema")},[a.length,x,f,p,g]),a.length===0||r.planType!=="deluxe"?null:i.jsx("section",{ref:d,id:"videos",className:"py-20 relative overflow-hidden bg-transparent",children:i.jsxs("div",{className:"section-container",children:[i.jsxs("div",{className:"text-center mb-16 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{className:"inline-flex flex-col items-center gap-2 mb-6",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.4em] uppercase text-rose-500",children:"Cinema"}),i.jsx("div",{className:"w-10 h-px bg-rose-200"})]}),i.jsx("h2",{className:"text-5xl sm:text-6xl font-elegant font-bold text-slate-800 mb-6 leading-tight",children:"Nuestra Historia"})]}),i.jsxs("div",{className:"relative mt-12 h-[400px] sm:h-[600px] perspective-2000",children:[i.jsx(Ot,{initial:!1,mode:"popLayout",children:i.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:a.map((w,v)=>{const b=(v-c+a.length)%a.length,j=b===0,N=b===a.length-1;return!j&&!N&&!(b===1)?null:i.jsx(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:j?1:.5,scale:j?1:.85,x:j?0:b===1?"60%":"-60%",z:j?100:0,rotateY:j?0:b===1?-15:15,filter:j?"blur(0px)":"blur(4px)",zIndex:j?30:10},exit:{opacity:0,scale:.8},transition:{duration:.8,ease:"easeInOut"},onClick:()=>!j&&u(v),className:`absolute w-full max-w-5xl aspect-video ${j?"":"cursor-pointer"}`,children:i.jsx("div",{className:"w-full h-full bg-black rounded-3xl overflow-hidden shadow-2xl relative border-2 border-white/10",children:j?i.jsx(l,{url:w.url,poster:r.heroBackgroundUrl,audioEnabled:x,isInView:f}):i.jsxs("div",{className:"w-full h-full relative",children:[i.jsx("img",{src:r.heroBackgroundUrl,className:"w-full h-full object-cover opacity-60",alt:"Video thumbnail"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"p-4 rounded-full bg-white/10 backdrop-blur-md border border-white/20",children:i.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M8 5v14l11-7z"})})})})]})})},w.name)})})}),a.length>1&&i.jsxs("div",{className:"absolute -bottom-16 left-1/2 -translate-x-1/2 flex items-center gap-8",children:[i.jsx("button",{onClick:()=>u(w=>(w-1+a.length)%a.length),className:"p-3 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-800 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"flex gap-3",children:a.map((w,v)=>i.jsx("button",{onClick:()=>u(v),className:`transition-all duration-500 h-1.5 rounded-full ${c===v?"w-8 bg-rose-400":"w-1.5 bg-slate-200"}`},v))}),i.jsx("button",{onClick:()=>u(w=>(w+1)%a.length),className:"p-3 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-800 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 5l7 7-7 7"})})})]})]})]})})}function AS({clientData:r}){return i.jsx("footer",{className:"py-24 bg-slate-50 relative overflow-hidden border-t border-slate-100",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 flex flex-col items-center",children:[i.jsxs(L.div,{className:"flex flex-col items-center gap-6 mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[i.jsx("div",{className:"w-16 h-16 rounded-full border border-slate-200 flex items-center justify-center text-slate-300",children:i.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:i.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),i.jsxs("span",{className:"font-elegant text-3xl text-slate-800 tracking-tight",children:["Suspiro",i.jsx("span",{className:"text-rose-500",children:"Nupcial"})]})]}),i.jsxs("div",{className:"text-center mb-20 max-w-2xl",children:[i.jsxs("h2",{className:"font-elegant text-5xl sm:text-7xl text-slate-800 mb-8 tracking-tighter leading-none",children:[r.groomName," ",i.jsx("span",{className:"text-rose-300 text-4xl align-middle",children:"&"})," ",r.brideName]}),i.jsx("p",{className:"font-light text-slate-500 text-lg tracking-wide leading-relaxed",children:"Gracias por ser parte de nuestra historia."})]}),i.jsxs("div",{className:"w-full border-t border-slate-200 pt-12 flex flex-col sm:flex-row justify-between items-center gap-8 text-xs font-bold tracking-[0.2em] uppercase text-slate-400",children:[i.jsx("span",{children:" 2026 Reservado"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"Desarrollado por"}),i.jsx("span",{className:"text-slate-800",children:"Horizon Studio"})]})]})]})})}function kS(r){return r.split(" ").slice(0,2).map(a=>a.charAt(0).toUpperCase()).join("")}function CS({clientId:r}){const{activePadrinos:a,loading:n}=Qb(r);return n||a.length===0?null:i.jsxs("section",{id:"padrinos",className:"py-24 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-stone-50/50"}),i.jsxs("div",{className:"section-container relative z-10",children:[i.jsxs("div",{className:"text-center mb-20 relative",children:[i.jsx("div",{className:"absolute inset-0 -z-10 flex justify-center items-center pointer-events-none",children:i.jsx("div",{className:"w-[300px] h-[300px] bg-rose-100/40 blur-[80px] rounded-full"})}),i.jsxs(L.div,{className:"inline-flex flex-col items-center gap-2 mb-6",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},children:[i.jsx("span",{className:"text-[10px] font-bold tracking-[0.4em] uppercase text-rose-600/70",children:"Corte de Honor"}),i.jsx("div",{className:"w-12 h-px bg-gradient-to-r from-transparent via-rose-400 to-transparent"})]}),i.jsx(L.h2,{className:"text-5xl sm:text-7xl font-elegant font-bold text-slate-900 mb-6 leading-tight",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:"Nuestros Padrinos"}),i.jsx(L.p,{className:"text-xl text-slate-800/60 font-light max-w-2xl mx-auto italic",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3},viewport:{once:!0},children:'"Las personas especiales que iluminan nuestro camino"'})]}),i.jsx("div",{className:`grid gap-10 ${a.length===1?"grid-cols-1 max-w-md mx-auto":a.length===2?"grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:a.map((l,c)=>i.jsx(L.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.15,duration:.7},className:"group",children:i.jsxs("div",{className:"relative bg-white/70 backdrop-blur-md p-10 flex flex-col items-center text-center h-full shadow-[0_15px_45px_-15px_rgba(30,27,75,0.15)] hover:shadow-[0_25px_60px_-10px_rgba(30,27,75,0.25)] transition-all duration-500 rounded-[2.5rem] border border-white/80",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-rose-200 to-rose-300 blur-lg opacity-30 group-hover:opacity-60 transition-opacity duration-700"}),l.photo_url?i.jsx("div",{className:"relative w-36 h-36 rounded-full overflow-hidden border-[6px] border-white shadow-xl group-hover:scale-105 transition-transform duration-700",children:i.jsx("img",{src:l.photo_url,alt:l.name,className:"w-full h-full object-cover"})}):i.jsx("div",{className:"relative w-36 h-36 rounded-full bg-stone-100 flex items-center justify-center border-[6px] border-white shadow-xl group-hover:scale-105 transition-transform duration-700",children:i.jsx("span",{className:"text-4xl font-elegant font-bold text-stone-300",children:kS(l.name)})}),i.jsx("div",{className:"absolute -inset-2 rounded-full border border-rose-200/50 scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-700"})]}),i.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-gradient-to-r from-rose-400/10 to-amber-400/10 text-[11px] font-black uppercase tracking-[0.2em] text-rose-600 mb-5 border border-rose-200/30 shadow-inner",children:l.role}),i.jsx("h3",{className:"font-elegant text-4xl text-slate-900 font-bold mb-4 leading-none",children:l.name}),l.description&&i.jsx("p",{className:"text-base text-stone-500 font-light leading-relaxed max-w-xs",children:l.description})]})},l.id))})]})]})}function Gg({clientData:r}){const{subdomain:a}=R1(),{client:n}=Wb(),{toasts:l,removeToast:c}=Uh(),[u,d]=T.useState(!1);T.useEffect(()=>{const _=()=>d(window.innerWidth<640);return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const{client:f,loading:p,messages:g,submitRSVP:x,submitMessage:w,isExpired:v,planType:b}=VN(a,r||n||void 0);if(p)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(Gn,{size:"lg"})});if(v)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-[3rem] p-12 shadow-2xl text-center border border-slate-100",children:[i.jsx("div",{className:"text-6xl mb-6",children:""}),i.jsx("h1",{className:"font-elegant text-3xl text-slate-800 mb-4 tracking-widest uppercase",children:"Invitacin Expirada"}),i.jsx("p",{className:"text-slate-500 mb-8 leading-relaxed font-light",children:"Esta invitacin ha completado su tiempo de validez. Contacta a los anfitriones si crees que esto es un error."}),i.jsx("div",{className:"h-1 w-20 bg-amber-200 mx-auto rounded-full"})]})});if(!f)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsx("p",{className:"font-elegant tracking-widest text-slate-400",children:"Cargando invitacin..."})});const j=b==="premium"||b==="deluxe"?f.backgroundAudioUrl||"/audio.mp3":void 0,N=b==="deluxe"&&f.advancedAnimations?.enabled;return i.jsx(XN,{children:i.jsxs("div",{className:`relative min-h-screen selection:bg-amber-100 selection:text-amber-900 overflow-x-hidden ${N?"premium-visuals-active":""} transition-colors duration-500`,children:[b==="deluxe"&&i.jsx(KN,{config:f.advancedAnimations,eventDate:f.weddingDate}),b!=="deluxe"&&f.advancedAnimations?.enabled&&i.jsx(HN,{mobile:u}),i.jsx("div",{className:"bg-noise opacity-[0.03] fixed inset-0 pointer-events-none"}),i.jsx(JN,{clientData:f}),i.jsxs("main",{className:"relative z-10 pb-20",children:[i.jsx(WN,{clientData:f}),(b==="premium"||b==="deluxe")&&i.jsx("section",{id:"cuenta-regresiva",className:"py-16 relative",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4",children:i.jsx(PN,{date:f.weddingDate,time:f.weddingTime})})}),i.jsx(ZN,{clientData:f}),i.jsx(TS,{clientData:f}),(b==="premium"||b==="deluxe")&&f?.id&&i.jsx(CS,{clientId:f.id}),i.jsx(eS,{clientData:f}),i.jsx(NS,{onSubmit:x}),i.jsx(SS,{messages:g,onSendMessage:w})]}),i.jsx(AS,{clientData:f}),j&&i.jsx(ES,{src:j}),i.jsx(Yb,{toasts:l,onClose:c})]})})}const RS=vj([{path:"/",element:i.jsx(UN,{})},{path:"/login",element:i.jsx($N,{})},{path:"/admin/login",element:i.jsx(dN,{})},{path:"/admin",element:i.jsx(cN,{})},{path:"/client-admin",element:i.jsx(TN,{})},{path:"/panel",element:i.jsx(Gg,{})},{path:"/invitacion/:subdomain",element:i.jsx(Gg,{})}]);ww.createRoot(document.getElementById("root")).render(i.jsx(T.StrictMode,{children:i.jsx(zN,{children:i.jsx(Oj,{router:RS})})}));export{oe as s};
